var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,r,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[r]=l.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var r=0;return $jscomp.iteratorPrototype(function(){return r<c.length?{done:!1,value:c[r++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(c,r){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var l=0,h={next:function(){if(l<c.length){var y=l++;return{value:r(y,c[y]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill=function(c,r,l,h){if(r){l=$jscomp.global;c=c.split(".");for(h=0;h<c.length-1;h++){var y=c[h];y in l||(l[y]={});l=l[y]}c=c[c.length-1];h=l[c];r=r(h);r!=h&&null!=r&&$jscomp.defineProperty(l,c,{configurable:!0,writable:!0,value:r})}};$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,l){return l})}},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");
(function(c,r){"object"===typeof module&&"object"===typeof module.exports?module.exports=r():"function"===typeof define&&define.amd?define([],r):c.Thenjs=r()})(this,function(){function c(f,e){var k=f.length,c=Array(k);for(e=e||0;k-- >e;)c[k-e]=f[k];return c}function r(f,e){try{e.apply(null,c(arguments,2))}catch(k){f(k)}}function l(f,e){var k=c(arguments,2);B(function(){try{e.apply(null,k)}catch(t){f(t)}})}function h(f,e){var k;if(f instanceof h)return f;if(!(this instanceof h))return new h(f,e);this._finally=
this._error=this._fail=this._result=this._nextThen=this._chain=this._success=this._each=this._eachSeries=this._parallel=this._series=null;if(!arguments.length)return this;k=C(this,e);try{"function"===typeof f?f(k):null==f?k():"function"===typeof f.toThunk?f.toThunk()(k):"function"===typeof f.then?f.then(function(e){k(null,e)},k):k(null,f)}catch(t){k(t)}}function y(f){var e=this,k=arguments;if(!1!==e._result){!e._result&&e._chain&&e.debug.apply(e,["\nChain "+e._chain+": "].concat(c(k)));e._result=
!1;try{J(e,k,f)}catch(t){B(function(){var k=t,c=e,l=e._error||e._fail;e._nextThen&&null==f&&(l=null,c=e._nextThen);for(;!l&&c;)l=c._fail,c=c._nextThen;if(l)l(k);else if(h.onerror)h.onerror(k);else c._result=[k]})}}}function J(f,e,k){if(f._finally)return f._finally.apply(null,e);if(null!=k)throw k;if(k=f._success||f._each||f._eachSeries||f._parallel||f._series)return k.apply(null,c(e,1));f._result=e}function C(f,e){function k(){return y.apply(f,arguments)}k._isCont=!0;e&&(p.debug="function"===typeof e?
e:K,f._chain=1);return k}function v(f,e,k){var c=new h;k=C(c,k);f(k,e);if(!e)return c;e._nextThen=c;e._chain&&(c._chain=e._chain+1);e._result&&B(function(){y.apply(e,e._result)});return c}function D(f,e){return e._isCont?e:function(){e.apply(null,[f].concat(c(arguments)))}}function F(f,e,k,c){function t(t,l){if(!k.finished){if(null!=t)return k.finished=!0,f(t);e[c]=l;return 0>--k.i&&f(null,e)}}t._isCont=!0;return t}function z(f,e,k){var c,l=[],n={};if(!E(e))return f(m(e,"each"));n.i=c=e.length-1;
if(0>c)return f(null,l);for(var h=0;h<=c;h++)k(F(f,l,n,h),e[h],h,e)}function G(f,e){var c,t=[],h={};if(!E(e))return f(m(e,"parallel"));h.i=c=e.length-1;if(0>c)return f(null,t);for(var l=0;l<=c;l++)e[l](F(f,t,h,l),l,e)}function H(f,e,c){function k(t,m){if(null!=t)return f(t);p[h]=m;if(++h>n)return f(null,p);q=0<--v?r:(v=100,l);q(f,c,k,e[h],h,e)}var h=0,n,p=[],q,v=100;k._isCont=!0;if(!E(e))return f(m(e,"eachSeries"));n=e.length-1;if(0>n)return f(null,p);c(k,e[0],0,e)}function A(f,e){function c(k,t){if(null!=
k)return f(k);n[h]=t;if(++h>p)return f(null,n);v=0<--q?r:(q=100,l);v(f,e[h],c,h,e)}var h=0,p,n=[],v,q=100;c._isCont=!0;if(!E(e))return f(m(e,"series"));p=e.length-1;if(0>p)return f(null,n);e[0](c,0,e)}function K(){console.log.apply(console,arguments)}function m(f,e){return Error("The argument "+(f&&f.toString())+' in "'+e+'" is not Array!')}var I=Object.prototype.toString,B="function"===typeof setImmediate?setImmediate:function(f){setTimeout(f,0)},E=Array.isArray||function(f){return"[object Array]"===
I.call(f)};h.defer=l;h.each=function(f,e,c){return v(function(c){l(c,z,c,f,e)},null,c)};h.eachSeries=function(f,e,c){return v(function(c){l(c,H,c,f,e)},null,c)};h.parallel=function(c,e){return v(function(e){l(e,G,e,c)},null,e)};h.series=function(c,e){return v(function(e){l(e,A,e,c)},null,e)};h.nextTick=function(f){var e=c(arguments,1);B(function(){f.apply(null,e)})};h.onerror=function(c){console.error("Thenjs caught error: ",c);throw c;};var p=h.prototype;p.fin=p.all=p["finally"]=function(c){return v(function(e,
f){f._finally=D(e,c)},this)};p.then=function(c,e){return v(function(f,h){h._success=D(f,c);h._error=e&&D(f,e)},this)};p.fail=p["catch"]=function(f){return v(function(e,k){k._fail=D(e,f);k._success=function(){e.apply(null,[null].concat(c(arguments)))}},this)};p.each=function(c,e){return v(function(f,h){h._each=function(k,h){z(f,c||k,e||h)}},this)};p.eachSeries=function(c,e){return v(function(f,h){h._eachSeries=function(h,k){H(f,c||h,e||k)}},this)};p.parallel=function(c){return v(function(e,f){f._parallel=
function(f){G(e,c||f)}},this)};p.series=function(c){return v(function(e,f){f._series=function(f){A(e,c||f)}},this)};p.toThunk=function(){var c=this;return function(e){c._result?(e.apply(null,c._result),c._result=!1):!1!==c._result&&(c._finally=e)}};h.NAME="Thenjs";h.VERSION="1.3.4";return h});
(function(c,r){function l(a,b){var d=H.length,g=a.constructor,g=m.is("Function",g)&&g.prototype||ObjProto,u="constructor";for(m.has(a,u)&&!_.contains(b,u)&&b.push(u);d--;)u=H[d],u in a&&a[u]!==g[u]&&!_.contains(b,u)&&b.push(u)}function h(a){a=JSON.stringify(a);return J?a.replace(/\\u([0-9a-fA-F]{2,4})/g,function(a,d){return String.fromCharCode(parseInt(d,16))}):a}function y(a){for(var b=[],d=0;d<a.length;d++){var g={};g.type=U[Object.prototype.toString.call(a[d]).slice(8,-1)];g.value=a[d];b.push(g)}return h(b)}
var J=!1;c.JSON&&(J='{"x":"\u4e2d"}'!==c.JSON.stringify({x:"\u4e2d"}));var C=function(a,b){a=this.words=a||[];this.sigBytes=void 0!=b?b:4*a.length};C.prototype={clamp:function(){var a=this.words,b=this.sigBytes;a[b>>>2]&=4294967295<<32-b%4*8;a.length=Math.ceil(b/4)},toString:function(a){return(a||v).stringify(this)}};var v={stringify:function(a){var b=a.words;a=a.sigBytes;for(var d=[],g=0;g<a;g++){var u=b[g>>>2]>>>24-g%4*8&255;d.push((u>>>4).toString(16));d.push((u&15).toString(16))}return d.join("")},
parse:function(a){for(var b=a.length,d=[],g=0;g<b;g+=2)d[g>>>3]|=parseInt(a.substr(g,2),16)<<24-g%8*4;return new C.init(d,b/2)}},D={stringify:function(a){var b=a.words;a=a.sigBytes;for(var d=[],g=0;g<a;g++)d.push(String.fromCharCode(b[g>>>2]>>>24-g%4*8&255));return d.join("")},parse:function(a){for(var b=a.length,d=[],g=0;g<b;g++)d[g>>>2]|=(a.charCodeAt(g)&255)<<24-g%4*8;return new C(d,b)}},F={stringify:function(a){try{return decodeURIComponent(escape(D.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");
}},parse:function(a){return D.parse(unescape(encodeURIComponent(a)))}},z=function(a){this.map=a};z.map={};z.of=function(a){a=a||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var b=z.map[a];b||(b=new z(a));return b};z.prototype={decodeByte:function(a){var b=a.length,d=this.map,g=d.charAt(64);g&&(g=a.indexOf(g),-1!=g&&(b=g));for(var g=[],u=0,c=0;c<b;c++)if(c%4){var e=d.indexOf(a.charAt(c-1))<<c%4*2,f=d.indexOf(a.charAt(c))>>>6-c%4*2;g[u>>>2]|=(e|f)<<24-u%4*8;u++}return new C(g,
u)},decode:function(a){return F.stringify(this.decodeByte(a))},encode:function(a){if(a)return this.encodeByte(F.parse(a))},encodeByte:function(a){var b=a.words,d=a.sigBytes,g=this.map;a.clamp();a=[];for(var c=0;c<d;c+=3)for(var e=(b[c>>>2]>>>24-c%4*8&255)<<16|(b[c+1>>>2]>>>24-(c+1)%4*8&255)<<8|b[c+2>>>2]>>>24-(c+2)%4*8&255,f=0;4>f&&c+.75*f<d;f++)a.push(g.charAt(e>>>6*(3-f)&63));if(b=g.charAt(64))for(;a.length%4;)a.push(b);return a.join("")}};var G=!{toString:null}.propertyIsEnumerable("toString"),
H="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" "),A=function(a,b){var d=a.length,g=[];for(b=b||0;d-- >b;)g[d-b]=a[d];return g},K=function(){},m={Utf8:F,Base64:z,slice:A,"boolean":function(a,b,d){return!(a.hasOwnProperty(b)?!a[b]:!d)},rand:function(a){return Math.ceil((9301*(new Date).getTime()+49297)%233280/233280*a)},addEvent:function(a){return a?function(a,d,g){d=d.split(" ");for(var b=0;b<d.length;b++)a.attachEvent("on"+d[b],function(b){b.target=a;
b.preventDefault=K;b.stopPropagation=K;g(b)})}:function(a,d){for(var b=d.split(" "),c=0;c<b.length;c++)document.addEventListener.apply(a,[b[c]].concat(m.slice(arguments,2)))}}(c.document.attachEvent),extend:function(a,b){return function(d){var g=arguments.length;if(2>g||null==d)return d;for(var c=1;c<g;c++)for(var e=arguments[c],f=a(e),h=f.length,k=0;k<h;k++){var l=f[k];b&&void 0!==d[l]||(d[l]=e[l])}return d}}(function(a){if(!m.is("Object",a))return[];var b=[],d;for(d in a)b.push(d);G&&l(a,b);return b}),
filter:function(a,b){var d={},g=b;if(m.is("String",b))var c=m.slice(arguments,1),g=function(a){for(var b=0;b<c.length;b++)if(c[b]===a)return!1;return!0};for(var e in a)(c=g.call(a,e))&&(d[e]=a[e]);return d},val:function(a,b){if(m.is("Function",a)){var d=3>arguments.length?[]:[].slice.call(arguments).slice(2);return a.apply(b,d)}return a},$:function(a){var b=document.getElementById(a);if(!b){var d=document.getElementsByName(a);d&&0<d.length&&(b=d[0])}b||(d=document.getElementsByTagName(a))&&0<d.length&&
(b=d[0]);return b},keys:function(a){if(!m.is("Object",a))return[];if(nativeKeys)return nativeKeys(a);var b=[],d;for(d in a)m.has(a,d)&&b.push(d);G&&l(a,b);return b},contains:function(a,b,d){var g=a&&a.length;"number"==typeof g&&0<=g&&g<=MAX_ARRAY_INDEX||(a=_.values(a));return 0<=_.indexOf(a,b,"number"==typeof d&&d)},values:function(a){for(var b=_.keys(a),d=b.length,g=Array(d),c=0;c<d;c++)g[c]=a[b[c]];return g},has:function(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)},inherit:function(a,
b){var d=function(){};d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.uber=b.prototype},is:function(a,b){var d=Object.prototype.toString.call(b).slice(8,-1);return void 0!==b&&null!==b&&d===a},colorRgb:function(a){a=a.toLowerCase();var b=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(a&&b.test(a)){if(4===a.length){for(var d="#",b=1;4>b;b+=1)d+=a.slice(b,b+1).concat(a.slice(b,b+1));a=d}d=[];for(b=1;7>b;b+=2)d.push(parseInt("0x"+a.slice(b,b+2)));return"RGB("+d.join(",")+")"}return a},
colorHex:function(a){if(/^(rgb|RGB)/.test(a)){for(var b=a.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),d="#",g=0;g<b.length;g++){var c=Number(b[g]).toString(16);"0"===c&&(c+=c);d+=c}7!==d.length&&(d=a);return d.toUpperCase()}if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(a)&&(b=a.replace(/#/,"").split(""),6!==b.length&&3===b.length))for(a="#",g=0;g<b.length;g+=1)a+=b[g]+b[g];return a.toUpperCase()},dateConvert:function(a,b){var d=["\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d".split(""),
"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d".split("")],g=a.match(/^(\d{2}|\d{4})(\u5e74)(\d{1,2})(\u6708)(\d{1,2})(\u65e5)$/),c="";if(null!=g){for(var e=1;e<g.length;e+=2){var f;f=g[e];if(2==f.length)f="1"==f.charAt(0)?"0"==f.charAt(1)?"\u5341":"\u5341"+d[b-1][f.charAt(1)]:"0"==f.charAt(1)?d[b-1][f.charAt(0)]+"\u5341":d[b-1][f.charAt(0)]+"\u5341"+d[b-1][f.charAt(1)];else{for(var h="",k=0;k<f.length;k++)h+=d[b-1][f.charAt(k)];f=h}c+=f+g[e+1]}return c}},formatDate:function(a,b){var d=
{MMM:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[a.getMonth()],"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var g in d)if((new RegExp("("+g+")")).test(b)){var c=d[g];2==RegExp.$1.length&&(c=("00"+d[g]).substr((""+d[g]).length));b=b.replace(RegExp.$1,c)}/[*]/gi.test(b)&&(d=b.replace(/[*]/gi,
""),b=this.dateConvert(d,b.length-d.length));return b},template:function(a,b){for(var d=/<%([^%>]+)?%>/g,g=/(^( )?(var|if|for|else|switch|case|break|{|}))(.*)?/g,c="var r=[];\n",e=0,f=function(a,b){b?c+=a.match(g)?a+"\n":"r.push("+a+");\n":c+=""!=a?'r.push("'+a.replace(/"/g,'\\"')+'");\n':"";return f},h;h=d.exec(a);)f(a.slice(e,h.index))(h[1],!0),e=h.index+h[0].length;f(a.substr(e,a.length-e));c+='return r.join("");';return(new Function(c.replace(/[\r\t\n]/g,""))).apply(b,A(arguments,2))},first:function(a,
b){return a.substring(0,1)[b?"toLowerCase":"toUpperCase"]()+a.substring(1)}},I=function(a){this.name=a};I.prototype={on:function(a,b){this.__getEventListener(a).push(b);return this},off:function(a,b){for(var d=this.__getEventListener(a),c=0;c<d.length;c++)b===d[c]&&d.splice(c--,1);return this},clear:function(a){0<this.__getEventListener(a).length&&(this.__listener[a]=[]);return this},trigger:function(a){var b,d=this.__getEventListener(a),c=Array.prototype.slice.call(arguments);this["on"+a]&&(b=this["on"+
a].apply(this,c.slice(1)));for(var e=0;e<d.length;e++)d[e].apply(this,c.slice(1));return b},__getEventListener:function(a){var b=this.__listener;b||(b=this.__listener={});b[a]||(b[a]=[]);return b[a]}};var B=function(a,b){var d=0,c="",e;for(e in a){var f=a[e];if(void 0!=f){var h=function(a){0<d&&(c+=b);c+=e+"="+a;d++};if(m.is("Array",f))for(var k=0;k<f.length;k++)h(f[k]);else h(f)}}x.trigger("formatData",c);return c},E=function(a,b){var d="";b=b||"";if(m.is("Array",a))for(var c=0;c<a.length;c++)0<
c&&(d+=b),d+=B(a[c],b);else d=B(a,b);return d},p={result:!1,errcode:"serverErr"},f={result:!1,errcode:"interErr"},e={result:!1,errcode:"responseErr"},k={result:!1,errcode:"connectionErr"},t={result:!1,errcode:"parseErr"},M={result:!1,errcode:"timeoutErr"},p={result:!1,errcode:"serverErr"},n=function(a,b){x.trigger.apply(x,["response",b].concat(this));A(arguments,1);a&&a(b)},O=function(a,b){this.url=a;this.data=b;x.trigger("beforeJSONP",a,b)},q=O.prototype;q.parseData=function(){var a="",b=this.data;
if(m.is("String",b))a=b;else if(m.is("Object",b))for(var d in b)b[d]&&(a+="&"+d+"="+encodeURIComponent(b[d]));else if(m.is("Array",b))for(var c=0;c<b.length;c++){var e=b[c];for(d in e)e[d]&&(a+="&"+d+"="+encodeURIComponent(e[d]))}a+="&hookback="+this.name;a+="&_="+(new Date).getTime();a=a.substr(1);x.trigger("parseData",a);return a};q.getJSON=function(a){var b=this,c=b.url,g=b.data,f=this.name="jsonp_"+(new Date).getTime()+"_"+m.rand(1E5),c=c+(-1===c.indexOf("?")?"?":"&")+this.parseData(g),h=document.createElement("script");
h.type="text/javascript";h.src=c;h.id=f;h.charset="utf-8";var k=function(){setTimeout(function(){clearTimeout(l);h.parentNode.removeChild(h);try{delete window[f]}catch(X){}},1)};window[f]=function(c){b._execed=!0;n.call(b,a,c)};h.onload=function(){k();b._execed||n.call(b,a,t)};h.onerror=function(){k();void 0!==Signature.options.isResponseErr&&Signature.options.isResponseErr||n.call(b,a,e)};var l=setTimeout(function(){k();n.call(b,a,M)},w.options.timeout);(c=document.getElementsByTagName("head"))&&
c[0]&&c[0].appendChild(h)};var Q=function(a,b){this.url=a;this.data=b;this.xdr=new XDomainRequest};Q.prototype.getJSON=function(a){var b=this.xdr;b.onload=function(){var c;try{c=JSON.parse(b.responseText)}catch(g){n.call(b,a,t);return}n.call(b,a,c)};b.onerror=function(){n.call(b,a,k)};b.timeout=w.options.timeout;b.ontimeout=function(){n.call(b,a,M)};b.open("POST",this.url);b.send(E(this.data,"\r\n")+"\r\na=1")};var P=function(a,b){var c;if(window.XMLHttpRequest)c=new XMLHttpRequest;else if(window.ActiveXObject)for(var g=
0;g<activexName.length;g++)try{c=new ActiveXObject(activexName[g]);break}catch(u){}this.xhr=c;this.url=a;this.data=b};P.prototype.getJSON=function(a){var b=this.xhr,c=!1;b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status||304==b.status)try{var d=JSON.parse(b.responseText);n.call(b,a,d)}catch(u){n.call(b,a,t)}else c&&n.call(b,a,e)};b.open("POST",this.url,!0);b.onerror=function(){n.call(b,a,k)};b.timeout=w.options.timeout;b.ontimeout=function(){c=!0;n.call(b,a,M)};b.setRequestHeader("Content-Type",
"text/plain;charset=UTF-8");b.send(E(this.data,"\r\n"))};var T="withCredentials"in XMLHttpRequest.prototype?!1:"undefined"!=typeof XDomainRequest?!0:!1,L=function(a,b,c){x.trigger.apply(x,["beforeAjax"].concat(A(arguments)));return c?new O(a,b):T?new Q(a,b):new P(a,b)},U={Boolean:"BOOL",String:"BSTR",Number:"LONG"},w=function(){};w.errCode={1E4:"\u7cfb\u7edf\u9519\u8bef",20001:"\u5bc6\u94a5\u76d8\u4fe1\u606f\u9519\u8bef",20003:"\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u5bc6\u7801",
11100:"\u7b7e\u7ae0\u670d\u52a1\u5668\u9519\u8bef",11101:"\u5f53\u524d\u7528\u6237\u6ca1\u6709\u7b7e\u7ae0",11102:"\u5370\u7ae0\u9519\u8bef",11103:"\u8bc1\u4e66\u8fc7\u671f",11104:"\u5370\u7ae0\u8fc7\u671f",signErr:"\u7b7e\u540d\u5931\u8d25",serverErr:"\u8c03\u7528\u4ea7\u54c1\u7ec4\u4ef6\u5f02\u5e38",parseErr:"\u6570\u636e\u683c\u5f0f\u5f02\u5e38",responseErr:"\u4ea7\u54c1\u7ec4\u4ef6\u54cd\u5e94\u5f02\u5e38",connectionErr:"\u4ea7\u54c1\u7ec4\u4ef6\u8fde\u63a5\u5f02\u5e38",timeoutErr:"\u8bf7\u6c42\u54cd\u5e94\u8d85\u65f6",
interErr:"\u83b7\u53d6\u63a5\u53e3\u5f02\u5e38","-7":"\u7b7e\u540d\u7ec4\u4ef6\u9519\u8bef"};m.extend(w.errCode,{then:{"-1":"\u8bf7\u5b89\u88c5\u5ba2\u6237\u7aef","-2":"\u8bf7\u63d2\u5165\u5f53\u524d\u7b7e\u7ae0\u6240\u5c5e\u7684\u5bc6\u94a5\u76d8","-12":"\u83b7\u53d6\u8bc1\u4e66\u5931\u8d25","-13":"\u7b7e\u540d\u65f6\uff0c\u52a0\u8f7d\u8bc1\u4e66\u5931\u8d25","-15":"\u7b7e\u540d\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a","-16":"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a","-17":"\u89e3\u6790\u8bc1\u4e66\u5931\u8d25",
"-12":"\u83b7\u53d6\u8bc1\u4e66\u5931\u8d25",1:"\u6ca1\u6709\u68c0\u6d4b\u5230\u5bc6\u94a5\u76d8",2:"\u5bc6\u94a5\u76d8\u6ca1\u6709\u6b63\u786e\u521d\u59cb\u5316",3:"\u5bc6\u94a5\u76d8\u9a71\u52a8\u672a\u5b89\u88c5",4:"\u53ea\u80fd\u63d2\u5165\u4e00\u4e2a\u5bc6\u94a5\u76d8",7:"\u5bc6\u7801\u9519\u8bef\u6216\u5bc6\u94a5\u76d8\u88ab\u9501\u5b9a",8:"\u975e\u6cd5\u6388\u6743",11:"\u5f53\u524d\u5bc6\u94a5\u76d8\u6ca1\u6709\u5370\u7ae0",12:"\u83b7\u53d6\u5370\u7ae0\u4fe1\u606f\u5931\u8d25","-101":"\u83b7\u53d6\u5bc6\u94a5\u76d8\u6709\u6548\u671f\u5f02\u5e38",
"-103":"\u5bc6\u94a5\u76d8\u672a\u751f\u6548","-104":"\u671f\u9650\u8bb8\u53ef\u5df2\u8fc7\u671f","-7@KGCrySignMessage":"\u7b7e\u540d\u7ec4\u4ef6\u9519\u8bef","8@KGVerifySign":"\u9a8c\u8bc1\u5931\u6548","1@KGVerifySign":"\u672a\u5b89\u88c5\u7b7e\u540d\u7ec4\u4ef6","2@KGCrySignMessage":"\u83b7\u53d6\u8bc1\u4e66\u5931\u8d25","3@KGCrySignMessage":"\u7b7e\u540d\u65f6\uff0c\u52a0\u8f7d\u8bc1\u4e66\u5931\u8d25","5@KGCrySignMessage":"\u7b7e\u540d\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a","6@KGCrySignMessage":"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",
"7@KGCrySignMessage":"\u89e3\u6790\u8bc1\u4e66\u5931\u8d25"}});w.msg=function(a,b){return w.errCode[a]||(b?w.errCode[b][a]:w.errCode[a])||a};w.options={_version:"1.0",timeout:2E4};w.Utils=m;w.Listener=I;var V=function(a,b){x.trigger("ajaxRequest",arguments);return function(c){L(a,b,!1).getJSON(function(a){c(null,a)})}},W=function(a,b,c){x.trigger("beforeProg",arguments);var d={value:'{"GetInterface":{"progid":"'+b+'","interface":"'+c+'"}}'};return function(b){L(a+"/GetInterface",d,!0).getJSON(function(a){x.trigger("resonseProg",
a);"none"==a.type?b(null,e):"0"===a.value?b(null,f):b(null,a)})}},R=function(a,b,c){x.trigger("beforeMethod",arguments);var d=Array.prototype.slice.call(arguments).slice(3);0==d.length?d='{"MethodCall":{"caller":"'+b+'","function":"'+c+'"}}':(d='"params":'+y(d),d='{"MethodCall":{"caller":"'+b+'","function":"'+c+'",'+d+"}}");var e={value:d};return function(b){L(a+"/MethodCall",e,!0).getJSON(function(a){x.trigger("responseMethod",a);"none"==a.type?b(null,p):b(null,a.value?a.value:a)})}},S=function(a,
b,c){x.trigger("beforeAttr",arguments);var d=Array.prototype.slice.call(arguments).slice(3);0==d.length?d='{"PropertyCall":{"caller":"'+b+'","property":"'+c+'"}}':(d='"params":'+y(d),d='{"MethodCall":{"caller":"'+b+'","property":"'+c+'",'+d+"}}");var e={value:d};return function(b){L(a,e,!0).getJSON(function(a){x.trigger("responseMethod",a);"none"==a.type?b(null,p):b(null,a.value)})}};r.onerror=function(a){if(m.is("String",a))alert("[error]"+a);else throw a;};var N=function(a){this.serverUrl=a;this.thenjs=
r(function(a){a(null)})},q=N.prototype;q.init=function(a,b){this.progid=a;this.interid=b;return this};q.fail=function(a){var b=this;b.thenjs=b.thenjs.fail(function(c,e){var d=a.call(b,c,e);c(b.respData(void 0==d?e:d))});return b};q.fin=function(a){var b=this;b.thenjs=b.thenjs.fin(function(c,e,f){a.call(b,c,e,f)});return b};q.then=function(a){var b=this;b.thenjs=b.thenjs.then(function(c,e){a.call(b,function(a,d){b.respData(d);c(a,d)},e)});return b};q.series=function(a){this.thenjs=this.thenjs.series(a);
return this};q.calArgs=function(a){for(var b=this._data,c=[],e=0;e<a.length;e++){var f=a[e];m.is("Function",f)&&(f=f.call(this,b));m.is("Array",f)?c=c.concat(f):c.push(f)}return c};q.msg=function(a,b,c){b=b||this._method;c=c||this.progid;var d=w.errCode.then;x.trigger("msgArg",a,b,c);return w.errCode[a]||d[a+"@"+b+"."+c]||d[a+"@"+b]||d[a]||a};q.ret=function(a){var b=this;this.then(function(c,e){var d=a.call(b,e);c(null,b.respData(void 0==d?e:d))});return this};q.respData=function(a){a&&(this._data=
a);return this._data};q.attr=function(a){var b=this,c=A(arguments);b.series([function(a){var d=b.calArgs(c);b._method=d[0];S.apply(null,[b.serverUrl,b.proid].concat(d))(a)}]).then(function(a,c){a(null,b.respData(c[0]))});return this};q.attrSeries=function(){var a=this,b=[];a.initProid();for(var c=0;c<arguments.length;c++)b.push(function(){var b=a.calArgs(arguments);return function(c){a._method=b[0];S.apply(null,[a.serverUrl,a.proid].concat(b))(c)}}.apply(null,arguments[c]));a.series(b).then(function(b,
c){a.respData(c);b(null,c)});return this};q.initProid=function(){var a=this;this.series([W(a.serverUrl,a.progid,a.interid)]).then(function(b,c){var d=c[0];x.trigger("initProid",d);d.value?(a.proid=d.value,b(null,d)):b(d.errcode)});return this};q.invokeSeries=function(){var a=this,b=[];a.initProid();for(var c=0;c<arguments.length;c++)b.push(function(){var b=a.calArgs(arguments);return function(c){a._method=b[0];R.apply(null,[a.serverUrl,a.proid].concat(b))(c)}}.apply(null,arguments[c]));a.series(b).then(function(b,
c){a.respData(c);b(null,c)});return this};q.invoke=function(a){var b=this;b.initProid();var c=A(arguments);b.series([function(a){var d=b.calArgs(c);b._method=d[0];R.apply(null,[b.serverUrl,b.proid].concat(d))(a)}]).then(function(a,c){b.respData(c[0]);a(null,c[0])});return this};q.request=function(a,b){var c=this;c.series([V(c.serverUrl+a,b)]).then(function(a,b){var d=b[0];c.respData(d);a(null,d)});return this};var x=new I("kgthen");w.addRequestListener=function(a,b){x.on(a,b)};w.surry=function(a,
b,c){return(new N(a||"http://127.0.0.1:9581")).init(b,c)};w.KgThen=N;c.kinggrid=w})(this,Thenjs);
// V1.0.0.280A    
//# sourceMappingURL=c:/kinggrid.min.map

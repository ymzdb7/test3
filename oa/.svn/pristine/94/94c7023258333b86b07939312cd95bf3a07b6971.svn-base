<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xoa.dao.sms2.Sms2PrivMapper">
  <resultMap id="BaseResultMap" type="com.xoa.model.sms2.Sms2Priv">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="OUT_TO_SELF" jdbcType="CHAR" property="outToSelf" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.xoa.model.sms2.Sms2Priv">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->

    <result column="TYPE_PRIV" jdbcType="LONGVARCHAR" property="typePriv" />
    <result column="REMIND_PRIV" jdbcType="LONGVARCHAR" property="remindPriv" />
    <result column="OUT_PRIV" jdbcType="LONGVARCHAR" property="outPriv" />
    <result column="SMS2_REMIND_PRIV" jdbcType="LONGVARCHAR" property="sms2RemindPriv" />
    <result column="CODE_NAME" jdbcType="LONGVARCHAR" property="codeName" />
    <result column="CODE_NO" jdbcType="LONGVARCHAR" property="codeNo" />
    <result column="PARA_VALUE" jdbcType="LONGVARCHAR" property="paraValue" />
    <result column="USER_ID" property="userId" javaType="string"/>
    <result column="USER_NAME" property="userName" javaType="string"/>

  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    OUT_TO_SELF
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    TYPE_PRIV, REMIND_PRIV, OUT_PRIV, SMS2_REMIND_PRIV
  </sql>
  <select id="selectByExampleWithBLOBs" parameterType="com.xoa.model.sms2.Sms2PrivExample" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from sms2_priv
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByExample" parameterType="com.xoa.model.sms2.Sms2PrivExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from sms2_priv
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.xoa.model.sms2.Sms2PrivExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from sms2_priv
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.xoa.model.sms2.Sms2Priv">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into sms2_priv (OUT_TO_SELF, TYPE_PRIV, REMIND_PRIV, 
      OUT_PRIV, SMS2_REMIND_PRIV)
    values (#{outToSelf,jdbcType=CHAR}, #{typePriv,jdbcType=LONGVARCHAR}, #{remindPriv,jdbcType=LONGVARCHAR}, 
      #{outPriv,jdbcType=LONGVARCHAR}, #{sms2RemindPriv,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.xoa.model.sms2.Sms2Priv">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into sms2_priv
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="outToSelf != null">
        OUT_TO_SELF,
      </if>
      <if test="typePriv != null">
        TYPE_PRIV,
      </if>
      <if test="remindPriv != null">
        REMIND_PRIV,
      </if>
      <if test="outPriv != null">
        OUT_PRIV,
      </if>
      <if test="sms2RemindPriv != null">
        SMS2_REMIND_PRIV,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="outToSelf != null">
        #{outToSelf,jdbcType=CHAR},
      </if>
      <if test="typePriv != null">
        #{typePriv,jdbcType=LONGVARCHAR},
      </if>
      <if test="remindPriv != null">
        #{remindPriv,jdbcType=LONGVARCHAR},
      </if>
      <if test="outPriv != null">
        #{outPriv,jdbcType=LONGVARCHAR},
      </if>
      <if test="sms2RemindPriv != null">
        #{sms2RemindPriv,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.xoa.model.sms2.Sms2PrivExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(*) from sms2_priv
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update sms2_priv
    <set>
      <if test="record.outToSelf != null">
        OUT_TO_SELF = #{record.outToSelf,jdbcType=CHAR},
      </if>
      <if test="record.typePriv != null">
        TYPE_PRIV = #{record.typePriv,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.remindPriv != null">
        REMIND_PRIV = #{record.remindPriv,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.outPriv != null">
        OUT_PRIV = #{record.outPriv,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.sms2RemindPriv != null">
        SMS2_REMIND_PRIV = #{record.sms2RemindPriv,jdbcType=LONGVARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExampleWithBLOBs" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update sms2_priv
    set OUT_TO_SELF = #{record.outToSelf,jdbcType=CHAR},
      TYPE_PRIV = #{record.typePriv,jdbcType=LONGVARCHAR},
      REMIND_PRIV = #{record.remindPriv,jdbcType=LONGVARCHAR},
      OUT_PRIV = #{record.outPriv,jdbcType=LONGVARCHAR},
      SMS2_REMIND_PRIV = #{record.sms2RemindPriv,jdbcType=LONGVARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update sms2_priv
    set OUT_TO_SELF = #{record.outToSelf,jdbcType=CHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>

  <update id="upSms2Priv" parameterType="com.xoa.model.sms2.Sms2Priv">

    update sms2_priv
    <set >
      <if test="typePriv != null" >
        TYPE_PRIV = #{typePriv,jdbcType=VARCHAR},
      </if>
      <if test="remindPriv != null" >
        REMIND_PRIV = #{remindPriv,jdbcType=VARCHAR},
      </if>
      <if test="outPriv != null" >
        OUT_PRIV = #{outPriv,jdbcType=TIMESTAMP},
      </if>
      <if test="sms2RemindPriv != null" >
        SMS2_REMIND_PRIV = #{sms2RemindPriv,jdbcType=CHAR},
      </if>
      <if test="outToSelf != null" >
        OUT_TO_SELF = #{outToSelf,jdbcType=CHAR},
      </if>
    </set>

  </update>

  <select id="selectSms2Priv" resultMap="ResultMapWithBLOBs" >

    select s.TYPE_PRIV,
    s.REMIND_PRIV,
    s.OUT_PRIV,
    s.SMS2_REMIND_PRIV
    from sms2_priv s

  </select>



  <select id="selectSms2Priv1"  parameterType="string" resultMap="ResultMapWithBLOBs" >

    select sc.CODE_NAME,sc.CODE_NO,sp.REMIND_PRIV,sp.SMS2_REMIND_PRIV
    from sys_code sc,sms2_priv sp
    WHERE sc.PARENT_NO='SMS_REMIND' and sc.CODE_NO!='0' and sc.CODE_NO!='10'
    and sc.CODE_NO in
    <foreach item="typePriv" collection="array" open="(" separator="," close=")">
      <if test=' typePriv!="" '>
        #{typePriv}
      </if>
    </foreach>

  </select>



  <select id="selectRemindPriv1"  parameterType="string" resultMap="ResultMapWithBLOBs" >

    select u.USER_ID,u.USER_NAME
    from user u
    WHERE  u.USER_ID in
    <foreach item="remindPriv" collection="array" open="(" separator="," close=")">
      <if test=' remindPriv!="" '>
        #{remindPriv}
      </if>
    </foreach>

  </select>


  <select id="selectSms2RemindPriv1"  parameterType="string" resultMap="ResultMapWithBLOBs" >

    select u.USER_ID,u.USER_NAME
    from user u
    WHERE  u.USER_ID in
    <foreach item="sms2RemindPriv" collection="array" open="(" separator="," close=")">
      <if test=' sms2RemindPriv!="" '>
        #{sms2RemindPriv}
      </if>
    </foreach>

  </select>

  <select id="upRemindPriv"  parameterType="string" resultMap="ResultMapWithBLOBs" >

    select u.USER_ID,u.USER_NAME
    from user u
    WHERE  u.USER_NAME in
    <foreach item="remindPriv" collection="array" open="(" separator="," close=")">
      <if test=' remindPriv!="" '>
        #{remindPriv}
      </if>
    </foreach>

  </select>

  <select id="upselectSms2RemindPriv"  parameterType="string" resultMap="ResultMapWithBLOBs" >

    select u.USER_ID,u.USER_NAME
    from user u
    WHERE  u.USER_NAME in
    <foreach item="sms2RemindPriv" collection="array" open="(" separator="," close=")">
      <if test=' sms2RemindPriv!="" '>
        #{sms2RemindPriv}
      </if>
    </foreach>

  </select>

  <select id="selectModule" resultMap="ResultMapWithBLOBs" >

    select SORT_NO,PORTAL_MARK,PORTAL_NAME,HOME_TEMPLATE,PORTAL_ID,PATH,PUB_FILE_EXT
    from portal_site
    WHERE  PORTAL_ID in
    <foreach item="typePriv" collection="array" open="(" separator="," close=")">
      <if test=' typePriv!="" '>
        #{typePriv}
      </if>
    </foreach>

  </select>



  <select id="selectModuleOrder" resultMap="ResultMapWithBLOBs" >

    select CODE_NAME,CODE_NO
    from sys_code
    WHERE PARENT_NO='SMS_REMIND' and CODE_NO!='0' ORDER BY CODE_ORDER

  </select>


  <select id="selectSmsRemind" resultMap="ResultMapWithBLOBs" >

    select PARA_NAME,PARA_VALUE
    from sys_para
    WHERE PARA_NAME='SMS_REMIND'

  </select>


  <update id="upSmsRemindSet" parameterType="com.xoa.model.sms2.Sms2Priv">

    update sys_para
    <set >
      <if test="paraValue != null" >
        PARA_VALUE = #{paraValue,jdbcType=VARCHAR},
      </if>
    </set>
    WHERE PARA_NAME='SMS_REMIND'
  </update>



  <select id="selSenderMobile" parameterType="string" resultType="string" >

    select MOBIL_NO
    from user
    WHERE USER_ID = #{tempUser}

  </select>

  <select id="selOutPriv"  parameterType="string" resultMap="ResultMapWithBLOBs" >

    select u.USER_ID,u.USER_NAME
    from user u
    WHERE  u.USER_ID in
    <foreach item="outPriv" collection="array" open="(" separator="," close=")">
      <if test=' outPriv!="" '>
        #{outPriv}
      </if>
    </foreach>

  </select>

  <select id="upOutPriv"  parameterType="string" resultMap="ResultMapWithBLOBs" >

    select u.USER_ID,u.USER_NAME
    from user u
    WHERE  u.USER_NAME in
    <foreach item="outPriv" collection="array" open="(" separator="," close=")">
      <if test=' outPriv!="" '>
        #{outPriv}
      </if>
    </foreach>

  </select>



</mapper>
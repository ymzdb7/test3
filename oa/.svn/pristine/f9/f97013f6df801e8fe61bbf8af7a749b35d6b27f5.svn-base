<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xoa.dao.rms.RmsFileMapper">
    <resultMap id="BaseResultMap" type="com.xoa.model.rms.RmsFile">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="FILE_ID" property="fileId" jdbcType="INTEGER"/>
        <result column="ROLL_ID" property="rollId" jdbcType="INTEGER"/>
        <result column="ADD_USER" property="addUser" jdbcType="VARCHAR"/>
        <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP"/>
        <result column="DEL_USER" property="delUser" jdbcType="VARCHAR"/>
        <result column="DEL_TIME" property="delTime" jdbcType="TIMESTAMP"/>
        <result column="MOD_USER" property="modUser" jdbcType="VARCHAR"/>
        <result column="MOD_TIME" property="modTime" jdbcType="TIMESTAMP"/>
        <result column="CONFIRM_USER" property="confirmUser" jdbcType="VARCHAR"/>
        <result column="FILE_CODE" property="fileCode" jdbcType="VARCHAR"/>
        <result column="FILE_TITLE" property="fileTitle" jdbcType="VARCHAR"/>
        <result column="FILE_TITLE0" property="fileTitle0" jdbcType="VARCHAR"/>
        <result column="FILE_SUBJECT" property="fileSubject" jdbcType="VARCHAR"/>
        <result column="SEND_UNIT" property="sendUnit" jdbcType="VARCHAR"/>
        <result column="SEND_DATE" property="sendDate" jdbcType="DATE"/>
        <result column="SECRET" property="secret" jdbcType="VARCHAR"/>
        <result column="URGENCY" property="urgency" jdbcType="VARCHAR"/>
        <result column="FILE_KIND" property="fileKind" jdbcType="VARCHAR"/>
        <result column="FILE_TYPE" property="fileType" jdbcType="VARCHAR"/>
        <result column="FILE_PAGE" property="filePage" jdbcType="VARCHAR"/>
        <result column="PRINT_PAGE" property="printPage" jdbcType="VARCHAR"/>
        <result column="BORROW" property="borrow" jdbcType="CHAR"/>
        <result column="REMARK" property="remark" jdbcType="VARCHAR"/>
        <result column="BORROW_STATUS" property="borrowStatus" jdbcType="CHAR"/>
        <result column="CONFIRM_STATUS" property="confirmStatus" jdbcType="CHAR"/>
        <result column="DOWNLOAD_YN" property="downloadYn" jdbcType="INTEGER"/>
        <result column="ISAUDIT" property="isaudit" jdbcType="CHAR"/>
        <result column="DOWNLOAD" property="download" jdbcType="INTEGER"/>
        <result column="PRINT" property="print" jdbcType="INTEGER"/>
        <result column="roll_Name" property="rollName" javaType="string" />
    </resultMap>
    <resultMap id="ResultMapWithBLOBs" type="com.xoa.model.rms.RmsFileWithBLOBs" extends="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <result column="ATTACHMENT_ID" property="attachmentId" jdbcType="LONGVARCHAR"/>
        <result column="ATTACHMENT_NAME" property="attachmentName" jdbcType="LONGVARCHAR"/>
    </resultMap>
    <sql id="Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" suffix=")" prefixOverrides="and">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach collection="criterion.value" item="listItem" open="(" close=")"
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" suffix=")" prefixOverrides="and">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach collection="criterion.value" item="listItem" open="(" close=")"
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        FILE_ID, ROLL_ID, ADD_USER, ADD_TIME, DEL_USER, DEL_TIME, MOD_USER, MOD_TIME, CONFIRM_USER,
        FILE_CODE, FILE_TITLE, FILE_TITLE0, FILE_SUBJECT, SEND_UNIT, SEND_DATE, SECRET, URGENCY,
        FILE_KIND, FILE_TYPE, FILE_PAGE, PRINT_PAGE, BORROW, REMARK, BORROW_STATUS, CONFIRM_STATUS,
        DOWNLOAD_YN, ISAUDIT, DOWNLOAD, PRINT
    </sql>
    <sql id="Blob_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        ATTACHMENT_ID, ATTACHMENT_NAME
    </sql>
    <select id="selectByExampleWithBLOBs" resultMap="ResultMapWithBLOBs"
            parameterType="com.xoa.model.rms.RmsFileExample">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from rms_file
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.xoa.model.rms.RmsFileExample">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        <include refid="Base_Column_List"/>
        from rms_file
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from rms_file
        where FILE_ID = #{fileId,jdbcType=INTEGER}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from rms_file
        where FILE_ID = #{fileId,jdbcType=INTEGER}
    </delete>
    <delete id="deleteByExample" parameterType="com.xoa.model.rms.RmsFileExample">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from rms_file
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </delete>
    <insert id="insert" parameterType="com.xoa.model.rms.RmsFileWithBLOBs">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into rms_file (FILE_ID, ROLL_ID, ADD_USER,
        ADD_TIME, DEL_USER, DEL_TIME,
        MOD_USER, MOD_TIME, CONFIRM_USER,
        FILE_CODE, FILE_TITLE, FILE_TITLE0,
        FILE_SUBJECT, SEND_UNIT, SEND_DATE,
        SECRET, URGENCY, FILE_KIND,
        FILE_TYPE, FILE_PAGE, PRINT_PAGE,
        BORROW, REMARK, BORROW_STATUS,
        CONFIRM_STATUS, DOWNLOAD_YN, ISAUDIT,
        DOWNLOAD, PRINT, ATTACHMENT_ID,
        ATTACHMENT_NAME)
        values (#{fileId,jdbcType=INTEGER}, #{rollId,jdbcType=INTEGER}, #{addUser,jdbcType=VARCHAR},
        #{addTime,jdbcType=TIMESTAMP}, #{delUser,jdbcType=VARCHAR}, #{delTime,jdbcType=TIMESTAMP},
        #{modUser,jdbcType=VARCHAR}, #{modTime,jdbcType=TIMESTAMP}, #{confirmUser,jdbcType=VARCHAR},
        #{fileCode,jdbcType=VARCHAR}, #{fileTitle,jdbcType=VARCHAR}, #{fileTitle0,jdbcType=VARCHAR},
        #{fileSubject,jdbcType=VARCHAR}, #{sendUnit,jdbcType=VARCHAR}, #{sendDate,jdbcType=DATE},
        #{secret,jdbcType=VARCHAR}, #{urgency,jdbcType=VARCHAR}, #{fileKind,jdbcType=VARCHAR},
        #{fileType,jdbcType=VARCHAR}, #{filePage,jdbcType=VARCHAR}, #{printPage,jdbcType=VARCHAR},
        #{borrow,jdbcType=CHAR}, #{remark,jdbcType=VARCHAR}, #{borrowStatus,jdbcType=CHAR},
        #{confirmStatus,jdbcType=CHAR}, #{downloadYn,jdbcType=INTEGER}, #{isaudit,jdbcType=CHAR},
        #{download,jdbcType=INTEGER}, #{print,jdbcType=INTEGER}, #{attachmentId,jdbcType=LONGVARCHAR},
        #{attachmentName,jdbcType=LONGVARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="com.xoa.model.rms.RmsFileWithBLOBs">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into rms_file
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="fileId != null and fileId!='' ">
                FILE_ID,
            </if>
            <if test="rollId != null">
                ROLL_ID,
            </if>
            <if test="addUser != null">
                ADD_USER,
            </if>
            <if test="addTime != null">
                ADD_TIME,
            </if>
            <if test="delUser != null">
                DEL_USER,
            </if>
            <if test="delTime != null">
                DEL_TIME,
            </if>
            <if test="modUser != null">
                MOD_USER,
            </if>
            <if test="modTime != null">
                MOD_TIME,
            </if>
            <if test="confirmUser != null">
                CONFIRM_USER,
            </if>
            <if test="fileCode != null">
                FILE_CODE,
            </if>
            <if test="fileTitle != null">
                FILE_TITLE,
            </if>
            <if test="fileTitle0 != null">
                FILE_TITLE0,
            </if>
            <if test="fileSubject != null">
                FILE_SUBJECT,
            </if>
            <if test="sendUnit != null">
                SEND_UNIT,
            </if>
            <if test="sendDate != null and sendDate!='' ">
                SEND_DATE,
            </if>
            <if test="secret != null">
                SECRET,
            </if>
            <if test="urgency != null">
                URGENCY,
            </if>
            <if test="fileKind != null">
                FILE_KIND,
            </if>
            <if test="fileType != null">
                FILE_TYPE,
            </if>
            <if test="filePage != null">
                FILE_PAGE,
            </if>
            <if test="printPage != null">
                PRINT_PAGE,
            </if>
            <if test="borrow != null">
                BORROW,
            </if>
            <if test="remark != null">
                REMARK,
            </if>
            <if test="borrowStatus != null">
                BORROW_STATUS,
            </if>
            <if test="confirmStatus != null">
                CONFIRM_STATUS,
            </if>
            <if test="downloadYn != null">
                DOWNLOAD_YN,
            </if>
            <if test="isaudit != null">
                ISAUDIT,
            </if>
            <if test="download != null">
                DOWNLOAD,
            </if>
            <if test="print != null">
                PRINT,
            </if>
            <if test="attachmentId != null">
                ATTACHMENT_ID,
            </if>
            <if test="attachmentName != null">
                ATTACHMENT_NAME,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="fileId != null">
                #{fileId,jdbcType=INTEGER},
            </if>
            <if test="rollId != null">
                #{rollId,jdbcType=INTEGER},
            </if>
            <if test="addUser != null">
                #{addUser,jdbcType=VARCHAR},
            </if>
            <if test="addTime != null">
                #{addTime,jdbcType=TIMESTAMP},
            </if>
            <if test="delUser != null">
                #{delUser,jdbcType=VARCHAR},
            </if>
            <if test="delTime != null">
                #{delTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modUser != null">
                #{modUser,jdbcType=VARCHAR},
            </if>
            <if test="modTime != null">
                #{modTime,jdbcType=TIMESTAMP},
            </if>
            <if test="confirmUser != null">
                #{confirmUser,jdbcType=VARCHAR},
            </if>
            <if test="fileCode != null">
                #{fileCode,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle != null">
                #{fileTitle,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle0 != null">
                #{fileTitle0,jdbcType=VARCHAR},
            </if>
            <if test="fileSubject != null">
                #{fileSubject,jdbcType=VARCHAR},
            </if>
            <if test="sendUnit != null">
                #{sendUnit,jdbcType=VARCHAR},
            </if>
            <if test="sendDate != null">
                #{sendDate,jdbcType=DATE},
            </if>
            <if test="secret != null">
                #{secret,jdbcType=VARCHAR},
            </if>
            <if test="urgency != null">
                #{urgency,jdbcType=VARCHAR},
            </if>
            <if test="fileKind != null">
                #{fileKind,jdbcType=VARCHAR},
            </if>
            <if test="fileType != null">
                #{fileType,jdbcType=VARCHAR},
            </if>
            <if test="filePage != null">
                #{filePage,jdbcType=VARCHAR},
            </if>
            <if test="printPage != null">
                #{printPage,jdbcType=VARCHAR},
            </if>
            <if test="borrow != null">
                #{borrow,jdbcType=CHAR},
            </if>
            <if test="remark != null">
                #{remark,jdbcType=VARCHAR},
            </if>
            <if test="borrowStatus != null">
                #{borrowStatus,jdbcType=CHAR},
            </if>
            <if test="confirmStatus != null">
                #{confirmStatus,jdbcType=CHAR},
            </if>
            <if test="downloadYn != null">
                #{downloadYn,jdbcType=INTEGER},
            </if>
            <if test="isaudit != null">
                #{isaudit,jdbcType=CHAR},
            </if>
            <if test="download != null">
                #{download,jdbcType=INTEGER},
            </if>
            <if test="print != null">
                #{print,jdbcType=INTEGER},
            </if>
            <if test="attachmentId != null">
                #{attachmentId,jdbcType=LONGVARCHAR},
            </if>
            <if test="attachmentName != null">
                #{attachmentName,jdbcType=LONGVARCHAR},
            </if>
        </trim>
    </insert>


    <insert id="insertSelective" useGeneratedKeys="true" keyProperty="fileId" parameterType="com.xoa.model.rms.RmsFileWithBLOBs" databaseId="oracle">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <selectKey order="BEFORE" keyProperty="fileId" resultType="int">
            SELECT RMS_FILE_FILE_ID_SEQ.nextval as fileId from dual
        </selectKey>
        insert into rms_file
        <trim prefix="(" suffix=")" suffixOverrides=",">
                FILE_ID,
            <if test="rollId != null">
                ROLL_ID,
            </if>
            <if test="addUser != null">
                ADD_USER,
            </if>
            <if test="addTime != null">
                ADD_TIME,
            </if>
            <if test="delUser != null">
                DEL_USER,
            </if>
            <if test="delTime != null">
                DEL_TIME,
            </if>
            <if test="modUser != null">
                MOD_USER,
            </if>
            <if test="modTime != null">
                MOD_TIME,
            </if>
            <if test="confirmUser != null">
                CONFIRM_USER,
            </if>
            <if test="fileCode != null">
                FILE_CODE,
            </if>
            <if test="fileTitle != null">
                FILE_TITLE,
            </if>
            <if test="fileTitle0 != null">
                FILE_TITLE0,
            </if>
            <if test="fileSubject != null">
                FILE_SUBJECT,
            </if>
            <if test="sendUnit != null">
                SEND_UNIT,
            </if>
            <if test="sendDate != null and sendDate!='' ">
                SEND_DATE,
            </if>
            <if test="secret != null">
                SECRET,
            </if>
            <if test="urgency != null">
                URGENCY,
            </if>
            <if test="fileKind != null">
                FILE_KIND,
            </if>
            <if test="fileType != null">
                FILE_TYPE,
            </if>
            <if test="filePage != null">
                FILE_PAGE,
            </if>
            <if test="printPage != null">
                PRINT_PAGE,
            </if>
            <if test="borrow != null">
                BORROW,
            </if>
            <if test="remark != null">
                REMARK,
            </if>
            <if test="borrowStatus != null">
                BORROW_STATUS,
            </if>
            <if test="confirmStatus != null">
                CONFIRM_STATUS,
            </if>
            <if test="downloadYn != null">
                DOWNLOAD_YN,
            </if>
            <if test="isaudit != null">
                ISAUDIT,
            </if>
            <if test="download != null">
                DOWNLOAD,
            </if>
            <if test="print != null">
                PRINT,
            </if>
            <if test="attachmentId != null">
                ATTACHMENT_ID,
            </if>
            <if test="attachmentName != null">
                ATTACHMENT_NAME,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
                #{fileId,jdbcType=INTEGER},
            <if test="rollId != null">
                #{rollId,jdbcType=INTEGER},
            </if>
            <if test="addUser != null">
                #{addUser,jdbcType=VARCHAR},
            </if>
            <if test="addTime != null">
                #{addTime,jdbcType=TIMESTAMP},
            </if>
            <if test="delUser != null">
                #{delUser,jdbcType=VARCHAR},
            </if>
            <if test="delTime != null">
                #{delTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modUser != null">
                #{modUser,jdbcType=VARCHAR},
            </if>
            <if test="modTime != null">
                #{modTime,jdbcType=TIMESTAMP},
            </if>
            <if test="confirmUser != null">
                #{confirmUser,jdbcType=VARCHAR},
            </if>
            <if test="fileCode != null">
                #{fileCode,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle != null">
                #{fileTitle,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle0 != null">
                #{fileTitle0,jdbcType=VARCHAR},
            </if>
            <if test="fileSubject != null">
                #{fileSubject,jdbcType=VARCHAR},
            </if>
            <if test="sendUnit != null">
                #{sendUnit,jdbcType=VARCHAR},
            </if>
            <if test="sendDate != null">
                #{sendDate,jdbcType=DATE},
            </if>
            <if test="secret != null">
                #{secret,jdbcType=VARCHAR},
            </if>
            <if test="urgency != null">
                #{urgency,jdbcType=VARCHAR},
            </if>
            <if test="fileKind != null">
                #{fileKind,jdbcType=VARCHAR},
            </if>
            <if test="fileType != null">
                #{fileType,jdbcType=VARCHAR},
            </if>
            <if test="filePage != null">
                #{filePage,jdbcType=VARCHAR},
            </if>
            <if test="printPage != null">
                #{printPage,jdbcType=VARCHAR},
            </if>
            <if test="borrow != null">
                #{borrow,jdbcType=CHAR},
            </if>
            <if test="remark != null">
                #{remark,jdbcType=VARCHAR},
            </if>
            <if test="borrowStatus != null">
                #{borrowStatus,jdbcType=CHAR},
            </if>
            <if test="confirmStatus != null">
                #{confirmStatus,jdbcType=CHAR},
            </if>
            <if test="downloadYn != null">
                #{downloadYn,jdbcType=INTEGER},
            </if>
            <if test="isaudit != null">
                #{isaudit,jdbcType=CHAR},
            </if>
            <if test="download != null">
                #{download,jdbcType=INTEGER},
            </if>
            <if test="print != null">
                #{print,jdbcType=INTEGER},
            </if>
            <if test="attachmentId != null">
                #{attachmentId,jdbcType=LONGVARCHAR},
            </if>
            <if test="attachmentName != null">
                #{attachmentName,jdbcType=LONGVARCHAR},
            </if>
        </trim>
    </insert>

    <insert id="insertSelective" useGeneratedKeys="true" keyProperty="fileId" parameterType="com.xoa.model.rms.RmsFileWithBLOBs" databaseId="dm">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <selectKey order="BEFORE" keyProperty="fileId" resultType="int">
            SELECT RMS_FILE_FILE_ID_SEQ.nextval as fileId from dual
        </selectKey>
        insert into rms_file
        <trim prefix="(" suffix=")" suffixOverrides=",">
            FILE_ID,
            <if test="rollId != null">
                ROLL_ID,
            </if>
            <if test="addUser != null">
                ADD_USER,
            </if>
            <if test="addTime != null">
                ADD_TIME,
            </if>
            <if test="delUser != null">
                DEL_USER,
            </if>
            <if test="delTime != null">
                DEL_TIME,
            </if>
            <if test="modUser != null">
                MOD_USER,
            </if>
            <if test="modTime != null">
                MOD_TIME,
            </if>
            <if test="confirmUser != null">
                CONFIRM_USER,
            </if>
            <if test="fileCode != null">
                FILE_CODE,
            </if>
            <if test="fileTitle != null">
                FILE_TITLE,
            </if>
            <if test="fileTitle0 != null">
                FILE_TITLE0,
            </if>
            <if test="fileSubject != null">
                FILE_SUBJECT,
            </if>
            <if test="sendUnit != null">
                SEND_UNIT,
            </if>
            <if test="sendDate != null and sendDate!='' ">
                SEND_DATE,
            </if>
            <if test="secret != null">
                SECRET,
            </if>
            <if test="urgency != null">
                URGENCY,
            </if>
            <if test="fileKind != null">
                FILE_KIND,
            </if>
            <if test="fileType != null">
                FILE_TYPE,
            </if>
            <if test="filePage != null">
                FILE_PAGE,
            </if>
            <if test="printPage != null">
                PRINT_PAGE,
            </if>
            <if test="borrow != null">
                BORROW,
            </if>
            <if test="remark != null">
                REMARK,
            </if>
            <if test="borrowStatus != null">
                BORROW_STATUS,
            </if>
            <if test="confirmStatus != null">
                CONFIRM_STATUS,
            </if>
            <if test="downloadYn != null">
                DOWNLOAD_YN,
            </if>
            <if test="isaudit != null">
                ISAUDIT,
            </if>
            <if test="download != null">
                DOWNLOAD,
            </if>
            <if test="print != null">
                PRINT,
            </if>
            <if test="attachmentId != null">
                ATTACHMENT_ID,
            </if>
            <if test="attachmentName != null">
                ATTACHMENT_NAME,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{fileId,jdbcType=INTEGER},
            <if test="rollId != null">
                #{rollId,jdbcType=INTEGER},
            </if>
            <if test="addUser != null">
                #{addUser,jdbcType=VARCHAR},
            </if>
            <if test="addTime != null">
                #{addTime,jdbcType=TIMESTAMP},
            </if>
            <if test="delUser != null">
                #{delUser,jdbcType=VARCHAR},
            </if>
            <if test="delTime != null">
                #{delTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modUser != null">
                #{modUser,jdbcType=VARCHAR},
            </if>
            <if test="modTime != null">
                #{modTime,jdbcType=TIMESTAMP},
            </if>
            <if test="confirmUser != null">
                #{confirmUser,jdbcType=VARCHAR},
            </if>
            <if test="fileCode != null">
                #{fileCode,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle != null">
                #{fileTitle,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle0 != null">
                #{fileTitle0,jdbcType=VARCHAR},
            </if>
            <if test="fileSubject != null">
                #{fileSubject,jdbcType=VARCHAR},
            </if>
            <if test="sendUnit != null">
                #{sendUnit,jdbcType=VARCHAR},
            </if>
            <if test="sendDate != null">
                #{sendDate,jdbcType=DATE},
            </if>
            <if test="secret != null">
                #{secret,jdbcType=VARCHAR},
            </if>
            <if test="urgency != null">
                #{urgency,jdbcType=VARCHAR},
            </if>
            <if test="fileKind != null">
                #{fileKind,jdbcType=VARCHAR},
            </if>
            <if test="fileType != null">
                #{fileType,jdbcType=VARCHAR},
            </if>
            <if test="filePage != null">
                #{filePage,jdbcType=VARCHAR},
            </if>
            <if test="printPage != null">
                #{printPage,jdbcType=VARCHAR},
            </if>
            <if test="borrow != null">
                #{borrow,jdbcType=CHAR},
            </if>
            <if test="remark != null">
                #{remark,jdbcType=VARCHAR},
            </if>
            <if test="borrowStatus != null">
                #{borrowStatus,jdbcType=CHAR},
            </if>
            <if test="confirmStatus != null">
                #{confirmStatus,jdbcType=CHAR},
            </if>
            <if test="downloadYn != null">
                #{downloadYn,jdbcType=INTEGER},
            </if>
            <if test="isaudit != null">
                #{isaudit,jdbcType=CHAR},
            </if>
            <if test="download != null">
                #{download,jdbcType=INTEGER},
            </if>
            <if test="print != null">
                #{print,jdbcType=INTEGER},
            </if>
            <if test="attachmentId != null">
                #{attachmentId,jdbcType=LONGVARCHAR},
            </if>
            <if test="attachmentName != null">
                #{attachmentName,jdbcType=LONGVARCHAR},
            </if>
        </trim>
    </insert>
    <select id="countByExample" parameterType="com.xoa.model.rms.RmsFileExample" resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(*) from rms_file
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </select>
    <update id="updateByExampleSelective" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update rms_file
        <set>
            <if test="record.fileId != null">
                FILE_ID = #{record.fileId,jdbcType=INTEGER},
            </if>
            <if test="record.rollId != null">
                ROLL_ID = #{record.rollId,jdbcType=INTEGER},
            </if>
            <if test="record.addUser != null">
                ADD_USER = #{record.addUser,jdbcType=VARCHAR},
            </if>
            <if test="record.addTime != null">
                ADD_TIME = #{record.addTime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.delUser != null">
                DEL_USER = #{record.delUser,jdbcType=VARCHAR},
            </if>
            <if test="record.delTime != null">
                DEL_TIME = #{record.delTime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.modUser != null">
                MOD_USER = #{record.modUser,jdbcType=VARCHAR},
            </if>
            <if test="record.modTime != null">
                MOD_TIME = #{record.modTime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.confirmUser != null">
                CONFIRM_USER = #{record.confirmUser,jdbcType=VARCHAR},
            </if>
            <if test="record.fileCode != null">
                FILE_CODE = #{record.fileCode,jdbcType=VARCHAR},
            </if>
            <if test="record.fileTitle != null">
                FILE_TITLE = #{record.fileTitle,jdbcType=VARCHAR},
            </if>
            <if test="record.fileTitle0 != null">
                FILE_TITLE0 = #{record.fileTitle0,jdbcType=VARCHAR},
            </if>
            <if test="record.fileSubject != null">
                FILE_SUBJECT = #{record.fileSubject,jdbcType=VARCHAR},
            </if>
            <if test="record.sendUnit != null">
                SEND_UNIT = #{record.sendUnit,jdbcType=VARCHAR},
            </if>
            <if test="record.sendDate != null">
                SEND_DATE = #{record.sendDate,jdbcType=DATE},
            </if>
            <if test="record.secret != null">
                SECRET = #{record.secret,jdbcType=VARCHAR},
            </if>
            <if test="record.urgency != null">
                URGENCY = #{record.urgency,jdbcType=VARCHAR},
            </if>
            <if test="record.fileKind != null">
                FILE_KIND = #{record.fileKind,jdbcType=VARCHAR},
            </if>
            <if test="record.fileType != null">
                FILE_TYPE = #{record.fileType,jdbcType=VARCHAR},
            </if>
            <if test="record.filePage != null">
                FILE_PAGE = #{record.filePage,jdbcType=VARCHAR},
            </if>
            <if test="record.printPage != null">
                PRINT_PAGE = #{record.printPage,jdbcType=VARCHAR},
            </if>
            <if test="record.borrow != null">
                BORROW = #{record.borrow,jdbcType=CHAR},
            </if>
            <if test="record.remark != null">
                REMARK = #{record.remark,jdbcType=VARCHAR},
            </if>
            <if test="record.borrowStatus != null">
                BORROW_STATUS = #{record.borrowStatus,jdbcType=CHAR},
            </if>
            <if test="record.confirmStatus != null">
                CONFIRM_STATUS = #{record.confirmStatus,jdbcType=CHAR},
            </if>
            <if test="record.downloadYn != null">
                DOWNLOAD_YN = #{record.downloadYn,jdbcType=INTEGER},
            </if>
            <if test="record.isaudit != null">
                ISAUDIT = #{record.isaudit,jdbcType=CHAR},
            </if>
            <if test="record.download != null">
                DOWNLOAD = #{record.download,jdbcType=INTEGER},
            </if>
            <if test="record.print != null">
                PRINT = #{record.print,jdbcType=INTEGER},
            </if>
            <if test="record.attachmentId != null">
                ATTACHMENT_ID = #{record.attachmentId,jdbcType=LONGVARCHAR},
            </if>
            <if test="record.attachmentName != null">
                ATTACHMENT_NAME = #{record.attachmentName,jdbcType=LONGVARCHAR},
            </if>
        </set>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByExampleWithBLOBs" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update rms_file
        set FILE_ID = #{record.fileId,jdbcType=INTEGER},
        ROLL_ID = #{record.rollId,jdbcType=INTEGER},
        ADD_USER = #{record.addUser,jdbcType=VARCHAR},
        ADD_TIME = #{record.addTime,jdbcType=TIMESTAMP},
        DEL_USER = #{record.delUser,jdbcType=VARCHAR},
        DEL_TIME = #{record.delTime,jdbcType=TIMESTAMP},
        MOD_USER = #{record.modUser,jdbcType=VARCHAR},
        MOD_TIME = #{record.modTime,jdbcType=TIMESTAMP},
        CONFIRM_USER = #{record.confirmUser,jdbcType=VARCHAR},
        FILE_CODE = #{record.fileCode,jdbcType=VARCHAR},
        FILE_TITLE = #{record.fileTitle,jdbcType=VARCHAR},
        FILE_TITLE0 = #{record.fileTitle0,jdbcType=VARCHAR},
        FILE_SUBJECT = #{record.fileSubject,jdbcType=VARCHAR},
        SEND_UNIT = #{record.sendUnit,jdbcType=VARCHAR},
        SEND_DATE = #{record.sendDate,jdbcType=DATE},
        SECRET = #{record.secret,jdbcType=VARCHAR},
        URGENCY = #{record.urgency,jdbcType=VARCHAR},
        FILE_KIND = #{record.fileKind,jdbcType=VARCHAR},
        FILE_TYPE = #{record.fileType,jdbcType=VARCHAR},
        FILE_PAGE = #{record.filePage,jdbcType=VARCHAR},
        PRINT_PAGE = #{record.printPage,jdbcType=VARCHAR},
        BORROW = #{record.borrow,jdbcType=CHAR},
        REMARK = #{record.remark,jdbcType=VARCHAR},
        BORROW_STATUS = #{record.borrowStatus,jdbcType=CHAR},
        CONFIRM_STATUS = #{record.confirmStatus,jdbcType=CHAR},
        DOWNLOAD_YN = #{record.downloadYn,jdbcType=INTEGER},
        ISAUDIT = #{record.isaudit,jdbcType=CHAR},
        DOWNLOAD = #{record.download,jdbcType=INTEGER},
        PRINT = #{record.print,jdbcType=INTEGER},
        ATTACHMENT_ID = #{record.attachmentId,jdbcType=LONGVARCHAR},
        ATTACHMENT_NAME = #{record.attachmentName,jdbcType=LONGVARCHAR}
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByExample" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update rms_file
        set FILE_ID = #{record.fileId,jdbcType=INTEGER},
        ROLL_ID = #{record.rollId,jdbcType=INTEGER},
        ADD_USER = #{record.addUser,jdbcType=VARCHAR},
        ADD_TIME = #{record.addTime,jdbcType=TIMESTAMP},
        DEL_USER = #{record.delUser,jdbcType=VARCHAR},
        DEL_TIME = #{record.delTime,jdbcType=TIMESTAMP},
        MOD_USER = #{record.modUser,jdbcType=VARCHAR},
        MOD_TIME = #{record.modTime,jdbcType=TIMESTAMP},
        CONFIRM_USER = #{record.confirmUser,jdbcType=VARCHAR},
        FILE_CODE = #{record.fileCode,jdbcType=VARCHAR},
        FILE_TITLE = #{record.fileTitle,jdbcType=VARCHAR},
        FILE_TITLE0 = #{record.fileTitle0,jdbcType=VARCHAR},
        FILE_SUBJECT = #{record.fileSubject,jdbcType=VARCHAR},
        SEND_UNIT = #{record.sendUnit,jdbcType=VARCHAR},
        SEND_DATE = #{record.sendDate,jdbcType=DATE},
        SECRET = #{record.secret,jdbcType=VARCHAR},
        URGENCY = #{record.urgency,jdbcType=VARCHAR},
        FILE_KIND = #{record.fileKind,jdbcType=VARCHAR},
        FILE_TYPE = #{record.fileType,jdbcType=VARCHAR},
        FILE_PAGE = #{record.filePage,jdbcType=VARCHAR},
        PRINT_PAGE = #{record.printPage,jdbcType=VARCHAR},
        BORROW = #{record.borrow,jdbcType=CHAR},
        REMARK = #{record.remark,jdbcType=VARCHAR},
        BORROW_STATUS = #{record.borrowStatus,jdbcType=CHAR},
        CONFIRM_STATUS = #{record.confirmStatus,jdbcType=CHAR},
        DOWNLOAD_YN = #{record.downloadYn,jdbcType=INTEGER},
        ISAUDIT = #{record.isaudit,jdbcType=CHAR},
        DOWNLOAD = #{record.download,jdbcType=INTEGER},
        PRINT = #{record.print,jdbcType=INTEGER}
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByPrimaryKeySelective" parameterType="com.xoa.model.rms.RmsFileWithBLOBs">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update rms_file
        <set>
            <if test="rollId != null">
                ROLL_ID = #{rollId,jdbcType=INTEGER},
            </if>
            <if test="addUser != null">
                ADD_USER = #{addUser,jdbcType=VARCHAR},
            </if>
            <if test="addTime != null">
                ADD_TIME = #{addTime,jdbcType=TIMESTAMP},
            </if>
            <if test="delUser != null">
                DEL_USER = #{delUser,jdbcType=VARCHAR},
            </if>
            <if test="delTime != null">
                DEL_TIME = #{delTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modUser != null">
                MOD_USER = #{modUser,jdbcType=VARCHAR},
            </if>
            <if test="modTime != null">
                MOD_TIME = #{modTime,jdbcType=TIMESTAMP},
            </if>
            <if test="confirmUser != null">
                CONFIRM_USER = #{confirmUser,jdbcType=VARCHAR},
            </if>
            <if test="fileCode != null">
                FILE_CODE = #{fileCode,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle != null">
                FILE_TITLE = #{fileTitle,jdbcType=VARCHAR},
            </if>
            <if test="fileTitle0 != null">
                FILE_TITLE0 = #{fileTitle0,jdbcType=VARCHAR},
            </if>
            <if test="fileSubject != null">
                FILE_SUBJECT = #{fileSubject,jdbcType=VARCHAR},
            </if>
            <if test="sendUnit != null">
                SEND_UNIT = #{sendUnit,jdbcType=VARCHAR},
            </if>
            <if test="sendDate != null">
                SEND_DATE = #{sendDate,jdbcType=DATE},
            </if>
            <if test="secret != null">
                SECRET = #{secret,jdbcType=VARCHAR},
            </if>
            <if test="urgency != null">
                URGENCY = #{urgency,jdbcType=VARCHAR},
            </if>
            <if test="fileKind != null">
                FILE_KIND = #{fileKind,jdbcType=VARCHAR},
            </if>
            <if test="fileType != null">
                FILE_TYPE = #{fileType,jdbcType=VARCHAR},
            </if>
            <if test="filePage != null">
                FILE_PAGE = #{filePage,jdbcType=VARCHAR},
            </if>
            <if test="printPage != null">
                PRINT_PAGE = #{printPage,jdbcType=VARCHAR},
            </if>
            <if test="borrow != null">
                BORROW = #{borrow,jdbcType=CHAR},
            </if>
            <if test="remark != null">
                REMARK = #{remark,jdbcType=VARCHAR},
            </if>
            <if test="borrowStatus != null">
                BORROW_STATUS = #{borrowStatus,jdbcType=CHAR},
            </if>
            <if test="confirmStatus != null">
                CONFIRM_STATUS = #{confirmStatus,jdbcType=CHAR},
            </if>
            <if test="downloadYn != null">
                DOWNLOAD_YN = #{downloadYn,jdbcType=INTEGER},
            </if>
            <if test="isaudit != null">
                ISAUDIT = #{isaudit,jdbcType=CHAR},
            </if>
            <if test="download != null">
                DOWNLOAD = #{download,jdbcType=INTEGER},
            </if>
            <if test="print != null">
                PRINT = #{print,jdbcType=INTEGER},
            </if>
            <if test="attachmentId != null">
                ATTACHMENT_ID = #{attachmentId,jdbcType=LONGVARCHAR},
            </if>
            <if test="attachmentName != null">
                ATTACHMENT_NAME = #{attachmentName,jdbcType=LONGVARCHAR},
            </if>
        </set>
        where FILE_ID = #{fileId,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.xoa.model.rms.RmsFileWithBLOBs">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update rms_file
        set ROLL_ID = #{rollId,jdbcType=INTEGER},
        ADD_USER = #{addUser,jdbcType=VARCHAR},
        ADD_TIME = #{addTime,jdbcType=TIMESTAMP},
        DEL_USER = #{delUser,jdbcType=VARCHAR},
        DEL_TIME = #{delTime,jdbcType=TIMESTAMP},
        MOD_USER = #{modUser,jdbcType=VARCHAR},
        MOD_TIME = #{modTime,jdbcType=TIMESTAMP},
        CONFIRM_USER = #{confirmUser,jdbcType=VARCHAR},
        FILE_CODE = #{fileCode,jdbcType=VARCHAR},
        FILE_TITLE = #{fileTitle,jdbcType=VARCHAR},
        FILE_TITLE0 = #{fileTitle0,jdbcType=VARCHAR},
        FILE_SUBJECT = #{fileSubject,jdbcType=VARCHAR},
        SEND_UNIT = #{sendUnit,jdbcType=VARCHAR},
        SEND_DATE = #{sendDate,jdbcType=DATE},
        SECRET = #{secret,jdbcType=VARCHAR},
        URGENCY = #{urgency,jdbcType=VARCHAR},
        FILE_KIND = #{fileKind,jdbcType=VARCHAR},
        FILE_TYPE = #{fileType,jdbcType=VARCHAR},
        FILE_PAGE = #{filePage,jdbcType=VARCHAR},
        PRINT_PAGE = #{printPage,jdbcType=VARCHAR},
        BORROW = #{borrow,jdbcType=CHAR},
        REMARK = #{remark,jdbcType=VARCHAR},
        BORROW_STATUS = #{borrowStatus,jdbcType=CHAR},
        CONFIRM_STATUS = #{confirmStatus,jdbcType=CHAR},
        DOWNLOAD_YN = #{downloadYn,jdbcType=INTEGER},
        ISAUDIT = #{isaudit,jdbcType=CHAR},
        DOWNLOAD = #{download,jdbcType=INTEGER},
        PRINT = #{print,jdbcType=INTEGER},
        ATTACHMENT_ID = #{attachmentId,jdbcType=LONGVARCHAR},
        ATTACHMENT_NAME = #{attachmentName,jdbcType=LONGVARCHAR}
        where FILE_ID = #{fileId,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.xoa.model.rms.RmsFile">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update rms_file
        set ROLL_ID = #{rollId,jdbcType=INTEGER},
        ADD_USER = #{addUser,jdbcType=VARCHAR},
        ADD_TIME = #{addTime,jdbcType=TIMESTAMP},
        DEL_USER = #{delUser,jdbcType=VARCHAR},
        DEL_TIME = #{delTime,jdbcType=TIMESTAMP},
        MOD_USER = #{modUser,jdbcType=VARCHAR},
        MOD_TIME = #{modTime,jdbcType=TIMESTAMP},
        CONFIRM_USER = #{confirmUser,jdbcType=VARCHAR},
        FILE_CODE = #{fileCode,jdbcType=VARCHAR},
        FILE_TITLE = #{fileTitle,jdbcType=VARCHAR},
        FILE_TITLE0 = #{fileTitle0,jdbcType=VARCHAR},
        FILE_SUBJECT = #{fileSubject,jdbcType=VARCHAR},
        SEND_UNIT = #{sendUnit,jdbcType=VARCHAR},
        SEND_DATE = #{sendDate,jdbcType=DATE},
        SECRET = #{secret,jdbcType=VARCHAR},
        URGENCY = #{urgency,jdbcType=VARCHAR},
        FILE_KIND = #{fileKind,jdbcType=VARCHAR},
        FILE_TYPE = #{fileType,jdbcType=VARCHAR},
        FILE_PAGE = #{filePage,jdbcType=VARCHAR},
        PRINT_PAGE = #{printPage,jdbcType=VARCHAR},
        BORROW = #{borrow,jdbcType=CHAR},
        REMARK = #{remark,jdbcType=VARCHAR},
        BORROW_STATUS = #{borrowStatus,jdbcType=CHAR},
        CONFIRM_STATUS = #{confirmStatus,jdbcType=CHAR},
        DOWNLOAD_YN = #{downloadYn,jdbcType=INTEGER},
        ISAUDIT = #{isaudit,jdbcType=CHAR},
        DOWNLOAD = #{download,jdbcType=INTEGER},
        PRINT = #{print,jdbcType=INTEGER}
        where FILE_ID = #{fileId,jdbcType=INTEGER}
    </update>

    <select id="query" parameterType="map" resultMap="ResultMapWithBLOBs">
        select rf.*,rr.roll_name,rrr.room_name from rms_file rf,rms_roll rr,rms_roll_room rrr where
        rf.roll_id = rr.roll_id AND rr.room_id = rrr.room_id
        <if test="rollId!=null and rollId!=''">
            AND rf.roll_id = #{rollId}
        </if>
        <if test=" roomId!=null and roomId!='' ">
            AND rrr.room_id = #{roomId}
        </if>
        <if test="fileCode!=null and fileCode!=''">
            AND rf.file_Code LIKE CONCAT('%',#{fileCode},'%')
        </if>
        <if test="fileSubject!=null and fileSubject!=''">
            AND rf.fileSubject like CONCAT('%',#{fileSubject},'%')
        </if>
        <if test="fileTitle!=null and fileTitle!='' ">
            AND rf.FILE_TITLE LIKE   CONCAT('%',#{fileTitle},'%')
        </if>
        <if test="fileTitle0!=null and fileTitle0!='' ">
            AND rf.FILE_TITLE0 LIKE   CONCAT('%',#{fileTitle0},'%')
        </if>
        <if test="sendUnit!=null and sendUnit!='' ">
            AND rf.SEND_UNIT like CONCAT('%',#{sendUnit},'%')
        </if>

        <if test="sendDate!=null and sendDate2 !=null and sendDate!='' and  sendDate2!=''  ">
            AND #{sendDate2} <![CDATA[ >= ]]> rf.send_Date AND rf.send_Date <![CDATA[ >= ]]> #{sendDate}
        </if>
        <if test="sendDate!=null and sendDate2 ==null or sendDate2=='' ">
            AND #{sendDate} <![CDATA[ <= ]]> rf.send_Date
        </if>
        <if test="sendDate2!=null and sendDate ==null or sendDate=='' ">
            AND #{sendDate2} <![CDATA[ >= ]]> rf.send_Date
        </if>

        <if test="secret!=null and secret!=''">
            AND  rf.secret = #{secret}
        </if>
        <if test="urgency!=null and urgency!=''">
            AND  rf.urgency = #{urgency}
        </if>
        <if test="fileType!=null and fileType!='' ">
            AND rf.file_Type = #{fileType}
        </if>
        <if test="fileKind!=null and fileKind!='' ">
            AND rf.FILE_KIND = #{fileKind}
        </if>

        <if test="filePage!=null and filePage2 !=null and filePage!='' and  filePage2!=''  ">
            AND #{filePage2} <![CDATA[ >= ]]> rf.FILE_PAGE AND rf.FILE_PAGE <![CDATA[ >= ]]> #{filePage}
        </if>
        <if test="filePage!=null and filePage!='' and  filePage2=='' ">
            AND #{filePage} <![CDATA[ <= ]]> rf.FILE_PAGE
        </if>
        <if test="filePage2!=null and filePage2!='' and  filePage=='' ">
            AND #{filePage2} <![CDATA[ >= ]]> rf.FILE_PAGE
        </if>

        <if test="printPage!=null and printPage2 !=null and printPage!='' and  printPage2!=''  ">
            AND #{printPage2} <![CDATA[ >= ]]> rf.print_Page AND rf.print_Page <![CDATA[ >= ]]> #{printPage}
        </if>
        <if test="printPage!=null and  printPage!=''  and printPage2=='' ">
            AND #{printPage} <![CDATA[ <= ]]> rf.print_Page
        </if>
        <if test="printPage2!=null and printPage2!=''  and  printPage=='' ">
            AND #{printPage2} <![CDATA[ >= ]]> rf.print_Page
        </if>

        <if test="remark!=null and remark !=''">
            AND rf.remark like CONCAT('%',#{remark},'%')
        </if>
        <if test="delStatus==0">
            AND rf.del_User = ''
        </if>
        <if test="delStatus==1">
            AND rf.del_User != ''
        </if>

    </select>

    <select id="query" parameterType="map" resultMap="ResultMapWithBLOBs" databaseId="oracle">
        select rf.*,rr.roll_name,rrr.room_name from rms_file rf,rms_roll rr,rms_roll_room rrr where
        rf.roll_id = rr.roll_id AND rr.room_id = rrr.room_id
        <if test="rollId!=null and rollId!=''">
            AND rf.roll_id = #{rollId}
        </if>
        <if test=" roomId!=null and roomId!='' ">
            AND rrr.room_id = #{roomId}
        </if>
        <if test="fileCode!=null and fileCode!=''">
            AND rf.file_Code LIKE CONCAT(CONCAT('%',#{fileCode}),'%')
        </if>
        <if test="fileSubject!=null and fileSubject!=''">
            AND rf.fileSubject like CONCAT(CONCAT('%',#{fileSubject}),'%')
        </if>
        <if test="fileTitle!=null and fileTitle!='' ">
            AND rf.FILE_TITLE LIKE   CONCAT(CONCAT('%',#{fileTitle}),'%')
        </if>
        <if test="fileTitle0!=null and fileTitle0!='' ">
            AND rf.FILE_TITLE0 LIKE   CONCAT(CONCAT('%',#{fileTitle0}),'%')
        </if>
        <if test="sendUnit!=null and sendUnit!='' ">
            AND rf.SEND_UNIT like CONCAT(CONCAT('%',#{sendUnit}),'%')
        </if>

        <if test="sendDate!=null and sendDate2 !=null and sendDate!='' and  sendDate2!=''  ">
            AND #{sendDate2} <![CDATA[ >= ]]> rf.send_Date AND rf.send_Date <![CDATA[ >= ]]> #{sendDate}
        </if>
        <if test="sendDate!=null and sendDate2 ==null or sendDate2=='' ">
            AND #{sendDate} <![CDATA[ <= ]]> rf.send_Date
        </if>
        <if test="sendDate2!=null and sendDate ==null or sendDate=='' ">
            AND #{sendDate2} <![CDATA[ >= ]]> rf.send_Date
        </if>

        <if test="secret!=null and secret!=''">
            AND  rf.secret = #{secret}
        </if>
        <if test="urgency!=null and urgency!=''">
            AND  rf.urgency = #{urgency}
        </if>
        <if test="fileType!=null and fileType!='' ">
            AND rf.file_Type = #{fileType}
        </if>
        <if test="fileKind!=null and fileKind!='' ">
            AND rf.FILE_KIND = #{fileKind}
        </if>

        <if test="filePage!=null and filePage2 !=null and filePage!='' and  filePage2!=''  ">
            AND #{filePage2} <![CDATA[ >= ]]> rf.FILE_PAGE AND rf.FILE_PAGE <![CDATA[ >= ]]> #{filePage}
        </if>
        <if test="filePage!=null and filePage!='' and  filePage2=='' ">
            AND #{filePage} <![CDATA[ <= ]]> rf.FILE_PAGE
        </if>
        <if test="filePage2!=null and filePage2!='' and  filePage=='' ">
            AND #{filePage2} <![CDATA[ >= ]]> rf.FILE_PAGE
        </if>

        <if test="printPage!=null and printPage2 !=null and printPage!='' and  printPage2!=''  ">
            AND #{printPage2} <![CDATA[ >= ]]> rf.print_Page AND rf.print_Page <![CDATA[ >= ]]> #{printPage}
        </if>
        <if test="printPage!=null and  printPage!=''  and printPage2=='' ">
            AND #{printPage} <![CDATA[ <= ]]> rf.print_Page
        </if>
        <if test="printPage2!=null and printPage2!=''  and  printPage=='' ">
            AND #{printPage2} <![CDATA[ >= ]]> rf.print_Page
        </if>

        <if test="remark!=null and remark !=''">
            AND rf.remark like CONCAT(CONCAT('%',#{remark}),'%')
        </if>
        <if test="delStatus==0">
            AND rf.del_User is NULL
        </if>
        <if test="delStatus==1">
            AND rf.del_User is NOT NULL
        </if>

    </select>

    <select id="query" parameterType="map" resultMap="ResultMapWithBLOBs" databaseId="dm">
        select rf.*,rr.roll_name,rrr.room_name from rms_file rf,rms_roll rr,rms_roll_room rrr where
        rf.roll_id = rr.roll_id AND rr.room_id = rrr.room_id
        <if test="rollId!=null and rollId!=''">
            AND rf.roll_id = #{rollId}
        </if>
        <if test=" roomId!=null and roomId!='' ">
            AND rrr.room_id = #{roomId}
        </if>
        <if test="fileCode!=null and fileCode!=''">
            AND rf.file_Code LIKE CONCAT(CONCAT('%',#{fileCode}),'%')
        </if>
        <if test="fileSubject!=null and fileSubject!=''">
            AND rf.fileSubject like CONCAT(CONCAT('%',#{fileSubject}),'%')
        </if>
        <if test="fileTitle!=null and fileTitle!='' ">
            AND rf.FILE_TITLE LIKE   CONCAT(CONCAT('%',#{fileTitle}),'%')
        </if>
        <if test="fileTitle0!=null and fileTitle0!='' ">
            AND rf.FILE_TITLE0 LIKE   CONCAT(CONCAT('%',#{fileTitle0}),'%')
        </if>
        <if test="sendUnit!=null and sendUnit!='' ">
            AND rf.SEND_UNIT like CONCAT(CONCAT('%',#{sendUnit}),'%')
        </if>

        <if test="sendDate!=null and sendDate2 !=null and sendDate!='' and  sendDate2!=''  ">
            AND #{sendDate2} <![CDATA[ >= ]]> rf.send_Date AND rf.send_Date <![CDATA[ >= ]]> #{sendDate}
        </if>
        <if test="sendDate!=null and sendDate2 ==null or sendDate2=='' ">
            AND #{sendDate} <![CDATA[ <= ]]> rf.send_Date
        </if>
        <if test="sendDate2!=null and sendDate ==null or sendDate=='' ">
            AND #{sendDate2} <![CDATA[ >= ]]> rf.send_Date
        </if>

        <if test="secret!=null and secret!=''">
            AND  rf.secret = #{secret}
        </if>
        <if test="urgency!=null and urgency!=''">
            AND  rf.urgency = #{urgency}
        </if>
        <if test="fileType!=null and fileType!='' ">
            AND rf.file_Type = #{fileType}
        </if>
        <if test="fileKind!=null and fileKind!='' ">
            AND rf.FILE_KIND = #{fileKind}
        </if>

        <if test="filePage!=null and filePage2 !=null and filePage!='' and  filePage2!=''  ">
            AND #{filePage2} <![CDATA[ >= ]]> rf.FILE_PAGE AND rf.FILE_PAGE <![CDATA[ >= ]]> #{filePage}
        </if>
        <if test="filePage!=null and filePage!='' and  filePage2=='' ">
            AND #{filePage} <![CDATA[ <= ]]> rf.FILE_PAGE
        </if>
        <if test="filePage2!=null and filePage2!='' and  filePage=='' ">
            AND #{filePage2} <![CDATA[ >= ]]> rf.FILE_PAGE
        </if>

        <if test="printPage!=null and printPage2 !=null and printPage!='' and  printPage2!=''  ">
            AND #{printPage2} <![CDATA[ >= ]]> rf.print_Page AND rf.print_Page <![CDATA[ >= ]]> #{printPage}
        </if>
        <if test="printPage!=null and  printPage!=''  and printPage2=='' ">
            AND #{printPage} <![CDATA[ <= ]]> rf.print_Page
        </if>
        <if test="printPage2!=null and printPage2!=''  and  printPage=='' ">
            AND #{printPage2} <![CDATA[ >= ]]> rf.print_Page
        </if>

        <if test="remark!=null and remark !=''">
            AND rf.remark like CONCAT(CONCAT('%',#{remark}),'%')
        </if>
        <if test="delStatus==0">
            AND rf.del_User is NULL
        </if>
        <if test="delStatus==1">
            AND rf.del_User is NOT NULL
        </if>

    </select>

    <update id="destroy" >
      update rms_file SET del_User = #{delUser} , del_time= #{delTime} where file_id IN
        <foreach item="fileId" collection="fileIds" open="(" separator="," close=")">
            <if test="fileId!=null and fileId != '' ">
                #{fileId}
            </if>
        </foreach>
    </update>

    <delete id="delete" >
        delete from  rms_file  where file_id IN
        <foreach item="fileId" collection="fileIds" open="(" separator="," close=")">
            <if test="fileId!=null and fileId != '' ">
                #{fileId}
            </if>
        </foreach>
    </delete>

    <update id="restore" >
        update rms_file SET del_User = ""  where file_id IN
        <foreach item="fileId" collection="fileIds" open="(" separator="," close=")">
            <if test="fileId!=null and fileId != '' ">
                #{fileId}
            </if>
        </foreach>
    </update>

    <update id="restore" databaseId="oracle">
        update rms_file SET del_User = null  where file_id IN
        <foreach item="fileId" collection="fileIds" open="(" separator="," close=")">
            <if test="fileId!=null and fileId != '' ">
                #{fileId}
            </if>
        </foreach>
    </update>
    <update id="restore" databaseId="dm">
        update rms_file SET del_User = null  where file_id IN
        <foreach item="fileId" collection="fileIds" open="(" separator="," close=")">
            <if test="fileId!=null and fileId != '' ">
                #{fileId}
            </if>
        </foreach>
    </update>

    <select id="selectByFileIds"  resultMap="ResultMapWithBLOBs">
        SELECT  * from rms_file where file_id IN
        <foreach item="fileId" collection="fileIds" open="(" separator="," close=")">
            <if test="fileId!=null and fileId != '' ">
                #{fileId}
            </if>
        </foreach>
    </select>

    <update id="updateRollBath" >
        update rms_file SET ROLL_ID = #{rollId}  where file_id IN
        <foreach item="fileId" collection="fileIds" open="(" separator="," close=")">
            <if test="fileId!=null and fileId != '' ">
                #{fileId}
            </if>
        </foreach>
    </update>

</mapper>
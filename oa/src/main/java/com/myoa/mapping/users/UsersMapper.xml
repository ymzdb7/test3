<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.myoa.dao.users.UsersMapper">
    <resultMap id="UserResultMap" type="com.myoa.model.users.Users">
        <id column="UID" property="uid" javaType="int"/>
        <result column="USER_ID" property="userId" javaType="string"/>
        <result column="USER_NAME" property="userName" javaType="string"/>
        <result column="USER_NAME_INDEX" property="userNameIndex"
                javaType="string"/>
        <result column="BYNAME" property="byname" javaType="string"/>
        <result column="USEING_KEY" property="useingKey" javaType="string"/>
        <result column="USING_FINGER" property="usingFinger" javaType="string"/>
        <result column="PASSWORD" property="password" javaType="string"/>
        <result column="KEY_SN" property="keySn" javaType="string"/>
        <result column="SECURE_KEY_SN" property="secureKeySn" javaType="string"/>
        <result column="USER_PRIV" property="userPriv" javaType="int"/>
        <result column="USER_PRIV_NO" property="userPrivNo" javaType="short"/>
        <result column="USER_PRIV_NAME" property="userPrivName"
                javaType="string"/>
        <result column="POST_PRIV" property="postPriv" javaType="string"/>
        <result column="POST_DEPT" property="postDept" javaType="string"/>
        <result column="DEPT_ID" property="deptId" javaType="int"/>
        <result column="DEPT_ID_OTHER" property="deptIdOther" javaType="string"/>
        <result column="SEX" property="sex" javaType="string"/>
        <result column="BIRTHDAY" property="birthday" />
        <result column="IS_LUNAR" property="isLunar" javaType="string"/>
        <result column="TEL_NO_DEPT" property="telNoDept" javaType="string"/>
        <result column="FAX_NO_DEPT" property="faxNoDept" javaType="string"/>
        <result column="ADD_HOME" property="addHome" javaType="string"/>
        <result column="POST_NO_HOME" property="postNoHome" javaType="string"/>
        <result column="TEL_NO_HOME" property="telNoHome" javaType="string"/>
        <result column="MOBIL_NO" property="mobilNo" javaType="string"/>
        <result column="BP_NO" property="bpNo" javaType="string"/>
        <result column="EMAIL" property="email" javaType="string"/>
        <result column="OICQ_NO" property="oicqNo" javaType="string"/>
        <result column="ICQ_NO" property="icqNo" javaType="string"/>
        <result column="MSN" property="msn" javaType="string"/>
        <result column="AVATAR" property="avatar" javaType="string"/>
        <result column="AVATAR_128" property="avatar128" javaType="string"/>
        <result column="CALL_SOUND" property="callSound" javaType="string"/>
        <result column="LAST_VISIT_TIME" property="lastVisitTime"
                javaType="java.sql.Timestamp"/>
        <result column="SMS_ON" property="smsOn" javaType="string"/>
        <result column="MENU_TYPE" property="menuType" javaType="string"/>
        <result column="LAST_PASS_TIME" property="lastPassTime"
                javaType="java.sql.Timestamp"/>
        <result column="THEME" property="theme" javaType="byte"/>
        <result column="PORTAL" property="portal" javaType="string"/>
        <result column="PANEL" property="panel" javaType="string"/>
        <result column="ONLINE" property="online" javaType="int"/>
        <result column="ON_STATUS" property="onStatus" javaType="string"/>
        <result column="ATTEND_STATUS" property="attendStatus"
                javaType="string"/>
        <result column="MOBIL_NO_HIDDEN" property="mobilNoHidden"
                javaType="string"/>
        <result column="MYTABLE_LEFT" property="mytableLeft" javaType="string"/>
        <result column="MYTABLE_RIGHT" property="mytableRight"
                javaType="string"/>
        <result column="USER_PRIV_OTHER" property="userPrivOther"
                javaType="string"/>
        <result column="USER_NO" property="userNo" javaType="short"/>
        <result column="NOT_LOGIN" property="notLogin" javaType="byte"/>
        <result column="NOT_VIEW_USER" property="notViewUser" javaType="string"/>
        <result column="NOT_VIEW_TABLE" property="notViewTable"
                javaType="string"/>
        <result column="NOT_SEARCH" property="notSearch" javaType="string"/>
        <result column="BKGROUND" property="bkground" javaType="string"/>
        <result column="BIND_IP" property="bindIp" javaType="string"/>
        <result column="LAST_VISIT_IP" property="lastVisitIp" javaType="string"/>
        <result column="MENU_IMAGE" property="menuImage" javaType="string"/>
        <result column="WEATHER_CITY" property="weatherCity" javaType="string"/>
        <result column="SHOW_RSS" property="showRss" javaType="string"/>
        <result column="MENU_EXPAND" property="menuExpand" javaType="string"/>
        <result column="MY_STATUS" property="myStatus" javaType="string"/>
        <result column="LIMIT_LOGIN" property="limitLogin" javaType="string"/>
        <result column="PHOTO" property="photo" javaType="string"/>
        <result column="IM_RANGE" property="imRange" javaType="byte"/>
        <result column="LEAVE_TIME" property="leaveTime" javaType="java.sql.Timestamp"/>
        <result column="SECRET_LEVEL" property="secretLevel" javaType="int"/>
        <result column="NOT_MOBILE_LOGIN" property="notMobileLogin"
                />
        <result column="MANAGE_MODULE_TYPE" property="manageModuleType"
                javaType="string"/>
        <result column="USER_PRIV_TYPE" property="userPrivType"
                />
        <result column="USER_MANAGE_ORGS" property="userManageOrgs"
                javaType="string"/>
        <result column="SHORTCUT" property="shortcut" javaType="string"/>
        <result column="MY_RSS" property="myRss" javaType="string"/>
        <result column="REMARK" property="remark" javaType="string"/>
        <result column="USER_PARA" property="userPara" javaType="string"/>
        <result column="DEPT_NAME" property="deptName" javaType="string"/>
        <result column="DUTY_TYPE" property="dutyType"  />
        <result column="ID_NUMBER" property="idNumber"  javaType="string"/>
        <result column="TRA_NUMBER" property="traNumber" javaType="string" />
        <result column="SUBJECT" property="subject" javaType="string" />
        <result column="POST" property="post" javaType="string" />
        <result column="SETTLEMENT_NO" property="settlementNo" javaType="string"/>
        <result column="deptName" property="deptName" jdbcType="VARCHAR"/>
        <result column="POST_ID" property="postId" javaType="int" />
        <result column="POST_NAME" property="postName" javaType="string" />
        <result column="JOB_ID" property="jobId" javaType="int" />
        <result column="JOB_NAME" property="jobName" javaType="string" />

        <association property="dep"
                     javaType="com.myoa.model.department.Department">
            <id column="DEPT_ID" property="deptId"/>
            <result column="DEPT_NAME" property="deptName" jdbcType="VARCHAR"/>
            <result column="TEL_NO" property="telNo" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="FAX_NO" property="faxNo" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="DEPT_ADDRESS" property="deptAddress" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="DEPT_NO" property="deptNo" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="DEPT_PARENT" property="deptParent" jdbcType="INTEGER"
                    javaType="int"/>
            <result column="IS_ORG" property="isOrg" jdbcType="CHAR"
                    javaType="string"/>
            <result column="ORG_ADMIN" property="orgAdmin" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="DEPT_EMAIL_AUDITS_IDS" property="deptEmailAuditsIds"
                    jdbcType="VARCHAR" javaType="string"/>
            <result column="WEIXIN_DEPT_ID" property="weixinDeptId"
                    jdbcType="INTEGER" javaType="int"/>
            <result column="DINGDING_DEPT_ID" property="dingdingDeptId"
                    jdbcType="INTEGER" javaType="int"/>
            <result column="G_DEPT" property="gDept" jdbcType="TINYINT"
                    javaType="byte"/>
            <result column="MANAGER" property="manager" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="ASSISTANT_ID" property="assistantId" jdbcType="LONGVARCHAR"
                    javaType="string"/>
            <result column="LEADER1" property="leader1" jdbcType="LONGVARCHAR"
                    javaType="string"/>
            <result column="LEADER2" property="leader2" jdbcType="LONGVARCHAR"
                    javaType="string"/>
            <result column="DEPT_FUNC" property="deptFunc" jdbcType="LONGVARCHAR"
                    javaType="string"/>
        </association>
        <association property="role" javaType="com.myoa.model.role.Role">
            <id column="USER_PRIV" property="userPriv" jdbcType="INTEGER"
                javaType="int"/>
            <result column="PRIV_NAME" property="privName" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="PRIV_NO" property="privNo" jdbcType="SMALLINT"
                    javaType="string"/>
            <result column="FUNC_ID_STR" property="funcIdStr" jdbcType="VARCHAR"
                    javaType="string"/>
            <result column="PRIV_DEPT_ID" property="privDeptId" jdbcType="INTEGER"
                    javaType="string"/>
            <result column="PRIV_TYPE" property="privType" jdbcType="TINYINT"
                    />
            <result column="IS_GLOBAL" property="isGlobal" jdbcType="TINYINT"
                    />
        </association>

        <association property="para" javaType="com.myoa.model.common.SysPara">
            <id column="PARA_NAME" property="paraName" javaType="string"/>
            <result column="PARA_VALUE" property="paraValue" javaType="string"/>
        </association>

        <association property="userExt" javaType="com.myoa.model.users.UserExt">
            <id column="UID" property="uid" javaType="java.lang.Integer"/>
            <result column="USER_ID" property="userId" javaType="java.lang.String" />
            <result column="TABLE_ICON" property="tableIcon" javaType="java.lang.String"/>
            <result column="EMAIL_RECENT_LINKMAN" property="emailRecentLinkman" javaType="java.lang.String"/>
            <result column="NICK_NAME" property="nickName" javaType="java.lang.String"/>
            <result column="BBS_COUNTER" property="bbsCounter" javaType="java.lang.Integer"/>
            <result column="BBS_SIGNATURE" property="bbsSignature" javaType="java.lang.String"/>
            <result column="EMAIL_CAPACITY" property="emailCapacity" />
            <result column="FOLDER_CAPACITY" property="folderCapacity" />
            <result column="WEBMAIL_CAPACITY" property="webmailCapacity" />
            <result column="WEBMAIL_NUM" property="webmailNum" />
            <result column="SCORE" property="score" javaType="java.lang.Integer"/>
            <result column="TDER_FLAG" property="tderFlag" jdbcType="CHAR"/>
            <result column="DUTY_TYPE" property="dutyType" jdbcType="SMALLINT"/>
            <result column="USE_POP3" property="usePop3" jdbcType="BIT"/>
            <result column="IS_USE_POP3" property="isUsePop3" jdbcType="BIT"/>
            <result column="POP3_PASS_STYLE" property="pop3PassStyle" jdbcType="BIT"/>
            <result column="POP3_PASS" property="pop3Pass" javaType="java.lang.String"/>
            <result column="CC_USERNAME" property="ccUsername" javaType="java.lang.String"/>
            <result column="CC_PWD" property="ccPwd" javaType="java.lang.String"/>
            <result column="IS_USE_EMAILSEND" property="isUseEmailsend" jdbcType="BIT"/>
            <result column="TASKCENTER_OPEN_START" property="taskcenterOpenStart" jdbcType="BIT"/>
            <result column="EMAIL_GETBOX" property="emailGetbox" javaType="java.lang.String"/>
            <result column="FOLDER_VIEW_MODEL" property="folderViewModel" jdbcType="BIT"/>
            <result column="USE_EMAIL" property="useEmail" jdbcType="BIT"/>
        </association>


        <association property="modulePriv" javaType="com.myoa.model.modulePriv.ModulePriv">
            <id column="UID" property="uid" javaType="java.lang.Integer"/>
            <result column="MODULE_ID" property="moduleId" javaType="java.lang.Integer"/>
            <result column="DEPT_PRIV" property="deptPriv" javaType="string"/>
            <result column="ROLE_PRIV" property="rolePriv" javaType="string"/>
        </association>

    </resultMap>
    <select id="getByDeptId" parameterType="Map"
            resultMap="UserResultMap">
        select u.* ,
        <if test="deptId!=null and deptId != 0 " >
            d.DEPT_NAME,
        </if>
        ue.DUTY_TYPE
        from user u
        <if test="deptId!=null and deptId != 0 " >
            INNER JOIN
            department d ON u.DEPT_ID = d.DEPT_ID
        </if>
        INNER JOIN user_ext ue ON u.UID = ue.UID
        where 1=1 AND (u.DEPT_ID = #{deptId} OR (u.DEPT_ID_OTHER LIKE CONCAT('%,',#{deptId},',%') OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptId},',%')) )
        <if test="notLogin != null and notLogin !='' or notLogin == '0' ">
            and u.NOT_LOGIN = ${notLogin}
        </if>
        ORDER BY u.USER_NO;
	</select>
    <select id="getByDeptId" parameterType="Map"
            resultMap="UserResultMap" databaseId="oracle">
        select u.* ,
        <if test="deptId!=null and deptId != 0 " >
            d.DEPT_NAME,
        </if>
        ue.DUTY_TYPE
        from "USER" u
        <if test="deptId!=null and deptId != 0 " >
            INNER JOIN
            department d ON u.DEPT_ID = d.DEPT_ID
        </if>
        INNER JOIN user_ext ue ON u."UID" = ue."UID"
        where 1=1 AND (u.DEPT_ID = #{deptId} OR (u.DEPT_ID_OTHER LIKE CONCAT(CONCAT('%,',#{deptId}),',%') OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptId},',%')) )
        <if test="notLogin != null and notLogin !='' or notLogin == '0' ">
            and u.NOT_LOGIN = ${notLogin}
        </if>
        ORDER BY u.USER_NO;
    </select>
    <select id="getByDeptId" parameterType="Map"
            resultMap="UserResultMap" databaseId="dm">
        select u.* ,
        <if test="deptId!=null and deptId != 0 " >
            d.DEPT_NAME,
        </if>
        ue.DUTY_TYPE
        from "USER" u
        <if test="deptId!=null and deptId != 0 " >
            INNER JOIN
            department d ON u.DEPT_ID = d.DEPT_ID
        </if>
        INNER JOIN user_ext ue ON u."UID" = ue."UID"
        where 1=1 AND (u.DEPT_ID = #{deptId} OR (u.DEPT_ID_OTHER LIKE CONCAT(CONCAT('%,',#{deptId}),',%') OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptId},',%')) )
        <if test="notLogin != null and notLogin !='' or notLogin == '0' ">
            and u.NOT_LOGIN = ${notLogin}
        </if>
        ORDER BY u.USER_NO;
    </select>



   <select id="findUserByuid" parameterType="Map"
           resultMap="UserResultMap">
	    select u.* ,
		d.DEPT_NAME,ue.*
		from user u,department d ,user_ext ue where
		u.DEPT_ID= d.DEPT_ID
		and ue.uid=u.uid and u.UID= #{uid}
	</select>
    <select id="findUserByuid" parameterType="Map"
            resultMap="UserResultMap" databaseId="oracle">
        select u.* ,
        d.DEPT_NAME,ue.*
        from "USER" u,department d ,user_ext ue where
        u.DEPT_ID= d.DEPT_ID
        and ue."UID"=u."UID" and u."UID" = #{uid}
    </select>
    <select id="findUserByuid" parameterType="Map"
            resultMap="UserResultMap" databaseId="dm">
        select u.* ,
        d.DEPT_NAME,ue.*
        from "USER" u,department d ,user_ext ue where
        u.DEPT_ID= d.DEPT_ID
        and ue."UID"=u."UID" and u."UID" = #{uid}
    </select>
    <select id="getUserByUid" parameterType="int"
            resultMap="UserResultMap" databaseId="oracle">
        select u.* ,d.DEPT_NAME,
        ue.*
        from "USER" u,user_ext ue ,department d where
        ue."UID"=u."UID" and u."UID"= #{uid} and d.DEPT_ID =u.DEPT_ID

    </select>

    <select id="getUserByUid" parameterType="int"
            resultMap="UserResultMap">
        select u.* ,d.DEPT_NAME,
        ue.*
        from user u,user_ext ue ,department d where
        ue.uid=u.uid and u.UID= #{uid} and (d.DEPT_ID =u.DEPT_ID or u.DEPT_ID =0) GROUP BY u.uid

    </select>
    <select id="selectUserByUId" resultMap="UserResultMap">
        SELECT * FROM user WHERE UID = #{uid}
    </select>
    <select id="selectUserByUId" resultMap="UserResultMap" databaseId="oracle">
        SELECT * FROM "USER" WHERE "UID" = #{uid}
    </select>
    <select id="selectUserByUId" resultMap="UserResultMap" databaseId="dm">
        SELECT * FROM "USER" WHERE "UID" = #{uid}
    </select>
    <select id="findUsersByuserId"  resultMap="UserResultMap">
        select u.*, d.DEPT_NAME,user_ext.* from user u,department d,user_ext  where u.DEPT_ID= d.DEPT_ID and u.USER_ID=user_ext.USER_ID and u.USER_ID= #{userId}
    </select>
	
	 <select id="findUsersByuserId"  resultMap="UserResultMap"  databaseId="oracle">
        select u.*, d.DEPT_NAME,user_ext.* from "USER" u,department d,user_ext  where u.DEPT_ID= d.DEPT_ID and u.USER_ID=user_ext.USER_ID and u.USER_ID= #{userId}
    </select>

    <select id="findUsersByuserId"  resultMap="UserResultMap" databaseId="dm">
        select u.*, d.DEPT_NAME,user_ext.* from "USER" u,department d,user_ext  where u.DEPT_ID= d.DEPT_ID and u.USER_ID=user_ext.USER_ID and u.USER_ID= #{userId}
    </select>

    <select id="getByUid"
            resultType="com.myoa.model.users.Users">
		select u.USER_ID as userId,u.UID as uid ,u.USER_NAME as
		userName,u.BYNAME,u.USER_PRIV_NAME as userPrivName,u.password as password,
		u.SEX,d.DEPT_NAME as deptName,u.AVATAR from user u
		INNER JOIN department d ON (u.DEPT_ID= d.DEPT_ID OR u.DEPT_ID=0)
		where   UID= #{uid} GROUP BY u.uid
	</select>

    <select id="getByUid"
            resultType="com.myoa.model.users.Users" databaseId="oracle">
         select u.USER_ID as userId,u."UID" as "uid" ,u.USER_NAME as
        userName,u.BYNAME,u.USER_PRIV_NAME as userPrivName,u.password as password,
        u.SEX,d.DEPT_NAME as deptName,u.AVATAR from "USER" u
        INNER JOIN department d ON u.DEPT_ID= d.DEPT_ID
        where   u."UID"=  #{uid}
    </select>

    <select id="getByUid"
            resultType="com.myoa.model.users.Users" databaseId="dm">
        select u.USER_ID as userId,u."UID" as "uid" ,u.USER_NAME as
        userName,u.BYNAME,u.USER_PRIV_NAME as userPrivName,u.password as password,
        u.SEX,d.DEPT_NAME as deptName,u.AVATAR from "USER" u
        INNER JOIN department d ON u.DEPT_ID= d.DEPT_ID
        where   u."UID"=  #{uid}
    </select>


    <select id="getBySearch" parameterType="Map"
            resultType="com.myoa.model.users.Users">
        select u.USER_NAME as userName,
        u.USER_NAME as name ,u.USER_PRIV_NAME as userPrivName,u.USER_ID AS userId,
        d.DEPT_NAME as deptName ,u.UID ,u.AVATAR ,u.USER_ID as userId
        from user u
        ,department d where u.DEPT_ID= d.DEPT_ID AND u.DEPT_ID!=0 AND u.NOT_LOGIN!=1 AND (
             u.USER_NAME like CONCAT(CONCAT('%', #{userName}), '%')
            or u.USER_PRIV_NAME like CONCAT(CONCAT('%', #{userPrivName}), '%')
            or d.DEPT_NAME like CONCAT(CONCAT('%', #{deptName}), '%')
            or u.USER_ID like CONCAT(CONCAT('%', #{userId}), '%')
            or u.BYNAME like CONCAT(CONCAT('%', #{byName}), '%'))
            ORDER BY user_priv_no,user_no
    </select>

    <select id="getUserAndDept" parameterType="java.lang.Integer"
            resultType="com.myoa.model.users.Users">
		select u.UID,u.USER_ID as userId,u.USER_NAME as name,u.USER_NAME as
		userName,u.BYNAME,u.USER_PRIV,u.USER_PRIV_NAME as userPrivName,
		u.DEPT_ID,u.SEX,u.AVATAR, d.DEPT_NAME as deptName from user u
		,department d
		where u.DEPT_ID= d.DEPT_ID and u.NOT_LOGIN!=1 ORDER BY DEPT_NO,user_priv_no,user_no ASC ;
	</select>

    <select id="findUserByName" resultMap="UserResultMap">
    select
        u.UID,u.USER_ID,u.USER_NAME,u.BYNAME,u.`PASSWORD`,u.DEPT_ID,u.DEPT_ID_OTHER,u.USER_PRIV,u.USER_PRIV_OTHER,u.USER_PRIV_NAME,u.SEX,u.AVATAR,s.PARA_NAME,s.PARA_VALUE,u.MY_STATUS,u.THEME,u.NOT_LOGIN,u.MOBIL_NO
        from user u,sys_para s WHERE
        u.BYNAME= #{byname}   and s.PARA_NAME='IM_WINDOW_CAPTION'
	</select>
    <select id="findUserByName" resultMap="UserResultMap" databaseId="oracle">
        select
        u."UID",u.USER_ID,u.USER_NAME,u.BYNAME,u."PASSWORD",u.DEPT_ID,u.DEPT_ID_OTHER,u.USER_PRIV,u.USER_PRIV_OTHER,u.USER_PRIV_NAME,u.SEX,u.AVATAR,s.PARA_NAME,s.PARA_VALUE,u.MY_STATUS,u.THEME,u.NOT_LOGIN,u.MOBIL_NO
        from "USER" U,sys_para s WHERE
        u.BYNAME= #{byname}   and s.PARA_NAME='IM_WINDOW_CAPTION'
    </select>

    <select id="selectUserAllInfoByName" resultMap="UserResultMap">
        select * from user u,sys_para s WHERE
        u.BYNAME= #{byname}   and s.PARA_NAME='IM_WINDOW_CAPTION'
    </select>


    <select id="selectUserAllInfoByName" resultMap="UserResultMap" databaseId="oracle">
        select * from "USER" u,sys_para s WHERE
        u.BYNAME= #{byname}   and s.PARA_NAME='IM_WINDOW_CAPTION'
    </select>


    <select id="selectUserAllInfoByName" resultMap="UserResultMap" databaseId="dm">
        select * from "USER" u,sys_para s WHERE
        u.BYNAME= #{byname}   and s.PARA_NAME='IM_WINDOW_CAPTION'
    </select>

    <select id="getUsernameById" resultType="java.lang.String">
		select USER_NAME FROM user
		WHERE UID= #{uid}
	</select>

    <select id="getUsernameById" resultType="java.lang.String" databaseId="oracle">
        select USER_NAME FROM "USER"
        WHERE "UID"= #{uid}
    </select>

    <select id="getUsernameById" resultType="java.lang.String" databaseId="dm">
        select USER_NAME FROM "USER"
        WHERE "UID"= #{uid}
    </select>

    <select id="getUsernameByUserId" resultType="java.lang.String">
		select USER_NAME
		FROM user
		WHERE USER_ID = #{userId}
	</select>
    <select id="getUsernameByUserId" resultType="java.lang.String" databaseId="oracle">
        select USER_NAME
		FROM "USER"
		WHERE USER_ID = #{userId}
    </select>

    <select id="getUsernameByUserId" resultType="java.lang.String" databaseId="dm">
        select USER_NAME
        FROM "USER"
        WHERE USER_ID = #{userId}
    </select>

    <select id="getDatagrid" resultMap="UserResultMap">
		select * from user ORDER BY user_priv_no,user_no
	</select>

    <select id="getAlluser" resultType="com.myoa.model.users.Users"
            parameterType="com.myoa.model.users.Users">
        select
        UID as uid,USER_ID as userId,USER_NAME as userName,BYNAME as byName,USER_PRIV as userPriv,
        USER_PRIV_NAME as userPrivName,DEPT_ID as deptId,SEX as sex,AVATAR as avatar,USER_NAME as name
        from user
        where 1=1
        <if test="userId != null and userId !=''">
            and USER_ID = #{userId},
        </if>
        <if test="userName != null and userName !=''">
            and USER_NAME = #{userName},
        </if>
        <if test="userNameIndex != null and userNameIndex !=''">
            and USER_NAME_INDEX = #{userNameIndex},
        </if>
        <if test="byname != null and byname !=''">
            and BYNAME = #{byname},
        </if>
        <if test="useingKey != null and useingKey !=''">
            and USEING_KEY = #{useingKey},
        </if>
        <if test="usingFinger != null and usingFinger !=''">
            and USING_FINGER = #{usingFinger},
        </if>
        <if test="password != null and password !=''">
            and PASSWORD = #{password},
        </if>
        <if test="keySn != null and keySn !=''">
            and KEY_SN = #{keySn},
        </if>
        <if test="secureKeySn != null and secureKeySn !=''">
            and SECURE_KEY_SN = #{secureKeySn},
        </if>
        <if test="userPriv != null and userPriv !='' ">
            and USER_PRIV = #{userPriv},
        </if>
        <if test="userPrivNo != null and userPrivNo !=''">
            and USER_PRIV_NO = #{userPrivNo},
        </if>
        <if test="userPrivName != null and userPrivName !=''">
            and USER_PRIV_NAME = #{userPrivName},
        </if>
        <if test="postPriv != null and postPriv !=''or postPriv==0 ">
            and POST_PRIV = #{postPriv},
        </if>
        <if test="postDept != null and postDept !=''">
            and POST_DEPT = #{postDept},
        </if>
        <if test="deptId != null and deptId !=''">
            and DEPT_ID = #{deptId},
        </if>
        <if test="deptIdOther != null and deptIdOther !=''">
            and DEPT_ID_OTHER = #{deptIdOther},
        </if>
        <if test="sex != null and sex !=''">
            and SEX = #{sex},
        </if>
        <if test="birthday != null and birthday !=''">
            and BIRTHDAY = #{birthday},
        </if>
        <if test="isLunar != null and isLunar !=''">
            and IS_LUNAR = #{isLunar},
        </if>
        <if test="telNoDept != null and telNoDept !=''">
            and TEL_NO_DEPT = #{telNoDept},
        </if>
        <if test="faxNoDept != null and faxNoDept !=''">
            and FAX_NO_DEPT = #{faxNoDept},
        </if>
        <if test="addHome != null and addHome !=''">
            and ADD_HOME = #{addHome},
        </if>
        <if test="postNoHome != null and postNoHome !=''">
            and POST_NO_HOME = #{postNoHome},
        </if>
        <if test="telNoHome != null and telNoHome !=''">
            and TEL_NO_HOME = #{telNoHome},
        </if>
        <if test="mobilNo != null and mobilNo !=''">
            and MOBIL_NO = #{mobilNo},
        </if>
        <if test="bpNo != null and bpNo !=''">
            and BP_NO = #{bpNo},
        </if>
        <if test="email != null and email !=''">
            and EMAIL = #{email},
        </if>
        <if test="oicqNo != null and oicqNo !=''">
            and OICQ_NO = #{oicqNo},
        </if>
        <if test="icqNo != null and icqNo !=''">
            and ICQ_NO = #{icqNo},
        </if>
        <if test="msn != null and msn !=''">
            and MSN = #{msn},
        </if>
        <if test="avatar != null and avatar !=''">
            and AVATAR = #{avatar},
        </if>
        <if test="callSound != null and callSound !=''">
            and CALL_SOUND = #{callSound},
        </if>
        <if test="lastVisitTime != null  and lastVisitTime !=''">
            and LAST_VISIT_TIME = #{lastVisitTime},
        </if>
        <if test="smsOn != null and smsOn !=''">
            and SMS_ON = #{smsOn},
        </if>
        <if test="menuType != null and menuType !=''">
            and MENU_TYPE = #{menuType},
        </if>
        <if test="lastPassTime != null and lastPassTime !=''">
            and LAST_PASS_TIME = #{lastPassTime},
        </if>
        <if test="theme != null and theme !=''">
            and THEME = #{theme},
        </if>
        <if test="portal != null and portal !=''">
            and PORTAL = #{portal},
        </if>
        <if test="panel != null and panel !=''">
            and PANEL = #{panel},
        </if>
        <if test="online != null and online !=''">
            and ONLINE = #{online},
        </if>
        <if test="onStatus != null and onStatus !=''">
            and ON_STATUS = #{onStatus},
        </if>
        <if test="attendStatus != null and attendStatus !=''">
            and ATTEND_STATUS = #{attendStatus},
        </if>
        <if test="mobilNoHidden != null and mobilNoHidden !=''">
            and MOBIL_NO_HIDDEN = #{mobilNoHidden},
        </if>
        <if test="mytableLeft != null and mytableLeft !=''">
            and MYTABLE_LEFT = #{mytableLeft},
        </if>
        <if test="mytableRight != null and mytableRight !=''">
            and MYTABLE_RIGHT = #{mytableRight},
        </if>
        <if test="userPrivOther != null and userPrivOther !=''">
            and USER_PRIV_OTHER = #{userPrivOther},
        </if>
        <if test="userNo != null and userNo !=''">
            and USER_NO = #{userNo},
        </if>
        <if test="notLogin != null and notLogin !=''">
            and NOT_LOGIN = #{notLogin},
        </if>
        <if test="notViewUser != null and notViewUser !=''">
            and NOT_VIEW_USER = #{notViewUser},
        </if>
        <if test="notViewTable != null and notViewTable !=''">
            and NOT_VIEW_TABLE = #{notViewTable},
        </if>
        <if test="notSearch != null and notSearch !=''">
            and NOT_SEARCH = #{notSearch},
        </if>
        <if test="bkground != null and bkground !=''">
            and BKGROUND = #{bkground},
        </if>
        <if test="bindIp != null and bindIp !=''">
            and BIND_IP = #{bindIp},
        </if>
        <if test="lastVisitIp != null and lastVisitIp !=''">
            and LAST_VISIT_IP = #{lastVisitIp},
        </if>
        <if test="menuImage != null and menuImage !=''">
            and MENU_IMAGE = #{menuImage},
        </if>
        <if test="weatherCity != null and weatherCity !=''">
            and WEATHER_CITY = #{weatherCity},
        </if>
        <if test="showRss != null and showRss !=''">
            and SHOW_RSS = #{showRss},
        </if>
        <if test="menuExpand != null and menuExpand !=''">
            and MENU_EXPAND = #{menuExpand},
        </if>
        <if test="myStatus != null and myStatus !=''">
            and MY_STATUS = #{myStatus},
        </if>
        <if test="limitLogin != null and limitLogin !=''">
            and LIMIT_LOGIN = #{limitLogin},
        </if>
        <if test="photo != null and photo !=''">
            and PHOTO = #{photo},
        </if>
        <if test="imRange != null and imRange !=''">
            and IM_RANGE = #{imRange},
        </if>
        <if test="leaveTime != null and leaveTime !=''">
            and LEAVE_TIME = #{leaveTime},
        </if>
        <if test="secretLevel != null and secretLevel !=''">
            and SECRET_LEVEL = #{secretLevel},
        </if>
        <if test="notMobileLogin != null and notMobileLogin !=''">
            and NOT_MOBILE_LOGIN = #{notMobileLogin},
        </if>
        <if test="manageModuleType != null and manageModuleType !=''">
            and MANAGE_MODULE_TYPE = #{manageModuleType},
        </if>
        <if test="userPrivType != null and userPrivType !=''">
            and USER_PRIV_TYPE = #{userPrivType},
        </if>
        <if test="userManageOrgs != null and userManageOrgs !=''">
            and USER_MANAGE_ORGS = #{userManageOrgs},
        </if>
        <if test="shortcut != null and shortcut !=''">
            and SHORTCUT = #{shortcut},
        </if>
        <if test="myRss != null and myRss !=''">
            and MY_RSS = #{myRss},
        </if>
        <if test="remark != null and remark !=''">
            and REMARK = #{remark},
        </if>
        <if test="userPara != null and userPara !=''">
            and USER_PARA = #{userPara}
        </if>
        ORDER BY user_priv_no,user_no
    </select>


    <select id="getAlluser" resultType="com.myoa.model.users.Users"
            parameterType="com.myoa.model.users.Users" databaseId="oracle">
        select
        "UID" as "uid",USER_ID as userId,USER_NAME as userName,BYNAME as byName,USER_PRIV as userPriv,
        USER_PRIV_NAME as userPrivName,DEPT_ID as deptId,SEX as sex,AVATAR as avatar,USER_NAME as name
        from "USER"
        where 1=1
        <if test="userId != null and userId !=''">
            and USER_ID = #{userId},
        </if>
        <if test="userName != null and userName !=''">
            and USER_NAME = #{userName},
        </if>
        <if test="userNameIndex != null and userNameIndex !=''">
            and USER_NAME_INDEX = #{userNameIndex},
        </if>
        <if test="byname != null and byname !=''">
            and BYNAME = #{byname},
        </if>
        <if test="useingKey != null and useingKey !=''">
            and USEING_KEY = #{useingKey},
        </if>
        <if test="usingFinger != null and usingFinger !=''">
            and USING_FINGER = #{usingFinger},
        </if>
        <if test="password != null and password !=''">
            and PASSWORD = #{password},
        </if>
        <if test="keySn != null and keySn !=''">
            and KEY_SN = #{keySn},
        </if>
        <if test="secureKeySn != null and secureKeySn !=''">
            and SECURE_KEY_SN = #{secureKeySn},
        </if>
        <if test="userPriv != null and userPriv !='' ">
            and USER_PRIV = #{userPriv},
        </if>
        <if test="userPrivNo != null and userPrivNo !=''">
            and USER_PRIV_NO = #{userPrivNo},
        </if>
        <if test="userPrivName != null and userPrivName !=''">
            and USER_PRIV_NAME = #{userPrivName},
        </if>
        <if test="postPriv != null and postPriv !=''or postPriv==0 ">
            and POST_PRIV = #{postPriv},
        </if>
        <if test="postDept != null and postDept !=''">
            and POST_DEPT = #{postDept},
        </if>
        <if test="deptId != null and deptId !=''">
            and DEPT_ID = #{deptId},
        </if>
        <if test="deptIdOther != null and deptIdOther !=''">
            and DEPT_ID_OTHER = #{deptIdOther},
        </if>
        <if test="sex != null and sex !=''">
            and SEX = #{sex},
        </if>
        <if test="birthday != null and birthday !=''">
            and BIRTHDAY = #{birthday},
        </if>
        <if test="isLunar != null and isLunar !=''">
            and IS_LUNAR = #{isLunar},
        </if>
        <if test="telNoDept != null and telNoDept !=''">
            and TEL_NO_DEPT = #{telNoDept},
        </if>
        <if test="faxNoDept != null and faxNoDept !=''">
            and FAX_NO_DEPT = #{faxNoDept},
        </if>
        <if test="addHome != null and addHome !=''">
            and ADD_HOME = #{addHome},
        </if>
        <if test="postNoHome != null and postNoHome !=''">
            and POST_NO_HOME = #{postNoHome},
        </if>
        <if test="telNoHome != null and telNoHome !=''">
            and TEL_NO_HOME = #{telNoHome},
        </if>
        <if test="mobilNo != null and mobilNo !=''">
            and MOBIL_NO = #{mobilNo},
        </if>
        <if test="bpNo != null and bpNo !=''">
            and BP_NO = #{bpNo},
        </if>
        <if test="email != null and email !=''">
            and EMAIL = #{email},
        </if>
        <if test="oicqNo != null and oicqNo !=''">
            and OICQ_NO = #{oicqNo},
        </if>
        <if test="icqNo != null and icqNo !=''">
            and ICQ_NO = #{icqNo},
        </if>
        <if test="msn != null and msn !=''">
            and MSN = #{msn},
        </if>
        <if test="avatar != null and avatar !=''">
            and AVATAR = #{avatar},
        </if>
        <if test="callSound != null and callSound !=''">
            and CALL_SOUND = #{callSound},
        </if>
        <if test="lastVisitTime != null  and lastVisitTime !=''">
            and LAST_VISIT_TIME = #{lastVisitTime},
        </if>
        <if test="smsOn != null and smsOn !=''">
            and SMS_ON = #{smsOn},
        </if>
        <if test="menuType != null and menuType !=''">
            and MENU_TYPE = #{menuType},
        </if>
        <if test="lastPassTime != null and lastPassTime !=''">
            and LAST_PASS_TIME = #{lastPassTime},
        </if>
        <if test="theme != null and theme !=''">
            and THEME = #{theme},
        </if>
        <if test="portal != null and portal !=''">
            and PORTAL = #{portal},
        </if>
        <if test="panel != null and panel !=''">
            and PANEL = #{panel},
        </if>
        <if test="online != null and online !=''">
            and ONLINE = #{online},
        </if>
        <if test="onStatus != null and onStatus !=''">
            and ON_STATUS = #{onStatus},
        </if>
        <if test="attendStatus != null and attendStatus !=''">
            and ATTEND_STATUS = #{attendStatus},
        </if>
        <if test="mobilNoHidden != null and mobilNoHidden !=''">
            and MOBIL_NO_HIDDEN = #{mobilNoHidden},
        </if>
        <if test="mytableLeft != null and mytableLeft !=''">
            and MYTABLE_LEFT = #{mytableLeft},
        </if>
        <if test="mytableRight != null and mytableRight !=''">
            and MYTABLE_RIGHT = #{mytableRight},
        </if>
        <if test="userPrivOther != null and userPrivOther !=''">
            and USER_PRIV_OTHER = #{userPrivOther},
        </if>
        <if test="userNo != null and userNo !=''">
            and USER_NO = #{userNo},
        </if>
        <if test="notLogin != null and notLogin !=''">
            and NOT_LOGIN = #{notLogin},
        </if>
        <if test="notViewUser != null and notViewUser !=''">
            and NOT_VIEW_USER = #{notViewUser},
        </if>
        <if test="notViewTable != null and notViewTable !=''">
            and NOT_VIEW_TABLE = #{notViewTable},
        </if>
        <if test="notSearch != null and notSearch !=''">
            and NOT_SEARCH = #{notSearch},
        </if>
        <if test="bkground != null and bkground !=''">
            and BKGROUND = #{bkground},
        </if>
        <if test="bindIp != null and bindIp !=''">
            and BIND_IP = #{bindIp},
        </if>
        <if test="lastVisitIp != null and lastVisitIp !=''">
            and LAST_VISIT_IP = #{lastVisitIp},
        </if>
        <if test="menuImage != null and menuImage !=''">
            and MENU_IMAGE = #{menuImage},
        </if>
        <if test="weatherCity != null and weatherCity !=''">
            and WEATHER_CITY = #{weatherCity},
        </if>
        <if test="showRss != null and showRss !=''">
            and SHOW_RSS = #{showRss},
        </if>
        <if test="menuExpand != null and menuExpand !=''">
            and MENU_EXPAND = #{menuExpand},
        </if>
        <if test="myStatus != null and myStatus !=''">
            and MY_STATUS = #{myStatus},
        </if>
        <if test="limitLogin != null and limitLogin !=''">
            and LIMIT_LOGIN = #{limitLogin},
        </if>
        <if test="photo != null and photo !=''">
            and PHOTO = #{photo},
        </if>
        <if test="imRange != null and imRange !=''">
            and IM_RANGE = #{imRange},
        </if>
        <if test="leaveTime != null and leaveTime !=''">
            and LEAVE_TIME = #{leaveTime},
        </if>
        <if test="secretLevel != null and secretLevel !=''">
            and SECRET_LEVEL = #{secretLevel},
        </if>
        <if test="notMobileLogin != null and notMobileLogin !=''">
            and NOT_MOBILE_LOGIN = #{notMobileLogin},
        </if>
        <if test="manageModuleType != null and manageModuleType !=''">
            and MANAGE_MODULE_TYPE = #{manageModuleType},
        </if>
        <if test="userPrivType != null and userPrivType !=''">
            and USER_PRIV_TYPE = #{userPrivType},
        </if>
        <if test="userManageOrgs != null and userManageOrgs !=''">
            and USER_MANAGE_ORGS = #{userManageOrgs},
        </if>
        <if test="shortcut != null and shortcut !=''">
            and SHORTCUT = #{shortcut},
        </if>
        <if test="myRss != null and myRss !=''">
            and MY_RSS = #{myRss},
        </if>
        <if test="remark != null and remark !=''">
            and REMARK = #{remark},
        </if>
        <if test="userPara != null and userPara !=''">
            and USER_PARA = #{userPara}
        </if>
        ORDER BY user_priv_no,user_no
    </select>

    <select id="getAlluser" resultType="com.myoa.model.users.Users"
            parameterType="com.myoa.model.users.Users" databaseId="dm">
        select
        "UID" as "uid",USER_ID as userId,USER_NAME as userName,BYNAME as byName,USER_PRIV as userPriv,
        USER_PRIV_NAME as userPrivName,DEPT_ID as deptId,SEX as sex,AVATAR as avatar,USER_NAME as name
        from "USER"
        where 1=1
        <if test="userId != null and userId !=''">
            and USER_ID = #{userId},
        </if>
        <if test="userName != null and userName !=''">
            and USER_NAME = #{userName},
        </if>
        <if test="userNameIndex != null and userNameIndex !=''">
            and USER_NAME_INDEX = #{userNameIndex},
        </if>
        <if test="byname != null and byname !=''">
            and BYNAME = #{byname},
        </if>
        <if test="useingKey != null and useingKey !=''">
            and USEING_KEY = #{useingKey},
        </if>
        <if test="usingFinger != null and usingFinger !=''">
            and USING_FINGER = #{usingFinger},
        </if>
        <if test="password != null and password !=''">
            and PASSWORD = #{password},
        </if>
        <if test="keySn != null and keySn !=''">
            and KEY_SN = #{keySn},
        </if>
        <if test="secureKeySn != null and secureKeySn !=''">
            and SECURE_KEY_SN = #{secureKeySn},
        </if>
        <if test="userPriv != null and userPriv !='' ">
            and USER_PRIV = #{userPriv},
        </if>
        <if test="userPrivNo != null and userPrivNo !=''">
            and USER_PRIV_NO = #{userPrivNo},
        </if>
        <if test="userPrivName != null and userPrivName !=''">
            and USER_PRIV_NAME = #{userPrivName},
        </if>
        <if test="postPriv != null and postPriv !=''or postPriv==0 ">
            and POST_PRIV = #{postPriv},
        </if>
        <if test="postDept != null and postDept !=''">
            and POST_DEPT = #{postDept},
        </if>
        <if test="deptId != null and deptId !=''">
            and DEPT_ID = #{deptId},
        </if>
        <if test="deptIdOther != null and deptIdOther !=''">
            and DEPT_ID_OTHER = #{deptIdOther},
        </if>
        <if test="sex != null and sex !=''">
            and SEX = #{sex},
        </if>
        <if test="birthday != null and birthday !=''">
            and BIRTHDAY = #{birthday},
        </if>
        <if test="isLunar != null and isLunar !=''">
            and IS_LUNAR = #{isLunar},
        </if>
        <if test="telNoDept != null and telNoDept !=''">
            and TEL_NO_DEPT = #{telNoDept},
        </if>
        <if test="faxNoDept != null and faxNoDept !=''">
            and FAX_NO_DEPT = #{faxNoDept},
        </if>
        <if test="addHome != null and addHome !=''">
            and ADD_HOME = #{addHome},
        </if>
        <if test="postNoHome != null and postNoHome !=''">
            and POST_NO_HOME = #{postNoHome},
        </if>
        <if test="telNoHome != null and telNoHome !=''">
            and TEL_NO_HOME = #{telNoHome},
        </if>
        <if test="mobilNo != null and mobilNo !=''">
            and MOBIL_NO = #{mobilNo},
        </if>
        <if test="bpNo != null and bpNo !=''">
            and BP_NO = #{bpNo},
        </if>
        <if test="email != null and email !=''">
            and EMAIL = #{email},
        </if>
        <if test="oicqNo != null and oicqNo !=''">
            and OICQ_NO = #{oicqNo},
        </if>
        <if test="icqNo != null and icqNo !=''">
            and ICQ_NO = #{icqNo},
        </if>
        <if test="msn != null and msn !=''">
            and MSN = #{msn},
        </if>
        <if test="avatar != null and avatar !=''">
            and AVATAR = #{avatar},
        </if>
        <if test="callSound != null and callSound !=''">
            and CALL_SOUND = #{callSound},
        </if>
        <if test="lastVisitTime != null  and lastVisitTime !=''">
            and LAST_VISIT_TIME = #{lastVisitTime},
        </if>
        <if test="smsOn != null and smsOn !=''">
            and SMS_ON = #{smsOn},
        </if>
        <if test="menuType != null and menuType !=''">
            and MENU_TYPE = #{menuType},
        </if>
        <if test="lastPassTime != null and lastPassTime !=''">
            and LAST_PASS_TIME = #{lastPassTime},
        </if>
        <if test="theme != null and theme !=''">
            and THEME = #{theme},
        </if>
        <if test="portal != null and portal !=''">
            and PORTAL = #{portal},
        </if>
        <if test="panel != null and panel !=''">
            and PANEL = #{panel},
        </if>
        <if test="online != null and online !=''">
            and ONLINE = #{online},
        </if>
        <if test="onStatus != null and onStatus !=''">
            and ON_STATUS = #{onStatus},
        </if>
        <if test="attendStatus != null and attendStatus !=''">
            and ATTEND_STATUS = #{attendStatus},
        </if>
        <if test="mobilNoHidden != null and mobilNoHidden !=''">
            and MOBIL_NO_HIDDEN = #{mobilNoHidden},
        </if>
        <if test="mytableLeft != null and mytableLeft !=''">
            and MYTABLE_LEFT = #{mytableLeft},
        </if>
        <if test="mytableRight != null and mytableRight !=''">
            and MYTABLE_RIGHT = #{mytableRight},
        </if>
        <if test="userPrivOther != null and userPrivOther !=''">
            and USER_PRIV_OTHER = #{userPrivOther},
        </if>
        <if test="userNo != null and userNo !=''">
            and USER_NO = #{userNo},
        </if>
        <if test="notLogin != null and notLogin !=''">
            and NOT_LOGIN = #{notLogin},
        </if>
        <if test="notViewUser != null and notViewUser !=''">
            and NOT_VIEW_USER = #{notViewUser},
        </if>
        <if test="notViewTable != null and notViewTable !=''">
            and NOT_VIEW_TABLE = #{notViewTable},
        </if>
        <if test="notSearch != null and notSearch !=''">
            and NOT_SEARCH = #{notSearch},
        </if>
        <if test="bkground != null and bkground !=''">
            and BKGROUND = #{bkground},
        </if>
        <if test="bindIp != null and bindIp !=''">
            and BIND_IP = #{bindIp},
        </if>
        <if test="lastVisitIp != null and lastVisitIp !=''">
            and LAST_VISIT_IP = #{lastVisitIp},
        </if>
        <if test="menuImage != null and menuImage !=''">
            and MENU_IMAGE = #{menuImage},
        </if>
        <if test="weatherCity != null and weatherCity !=''">
            and WEATHER_CITY = #{weatherCity},
        </if>
        <if test="showRss != null and showRss !=''">
            and SHOW_RSS = #{showRss},
        </if>
        <if test="menuExpand != null and menuExpand !=''">
            and MENU_EXPAND = #{menuExpand},
        </if>
        <if test="myStatus != null and myStatus !=''">
            and MY_STATUS = #{myStatus},
        </if>
        <if test="limitLogin != null and limitLogin !=''">
            and LIMIT_LOGIN = #{limitLogin},
        </if>
        <if test="photo != null and photo !=''">
            and PHOTO = #{photo},
        </if>
        <if test="imRange != null and imRange !=''">
            and IM_RANGE = #{imRange},
        </if>
        <if test="leaveTime != null and leaveTime !=''">
            and LEAVE_TIME = #{leaveTime},
        </if>
        <if test="secretLevel != null and secretLevel !=''">
            and SECRET_LEVEL = #{secretLevel},
        </if>
        <if test="notMobileLogin != null and notMobileLogin !=''">
            and NOT_MOBILE_LOGIN = #{notMobileLogin},
        </if>
        <if test="manageModuleType != null and manageModuleType !=''">
            and MANAGE_MODULE_TYPE = #{manageModuleType},
        </if>
        <if test="userPrivType != null and userPrivType !=''">
            and USER_PRIV_TYPE = #{userPrivType},
        </if>
        <if test="userManageOrgs != null and userManageOrgs !=''">
            and USER_MANAGE_ORGS = #{userManageOrgs},
        </if>
        <if test="shortcut != null and shortcut !=''">
            and SHORTCUT = #{shortcut},
        </if>
        <if test="myRss != null and myRss !=''">
            and MY_RSS = #{myRss},
        </if>
        <if test="remark != null and remark !=''">
            and REMARK = #{remark},
        </if>
        <if test="userPara != null and userPara !=''">
            and USER_PARA = #{userPara}
        </if>
        ORDER BY user_priv_no,user_no
    </select>
    <insert id="addUser"  useGeneratedKeys="true" keyProperty="uid">
        <selectKey order="AFTER" keyProperty="uid" resultType="int">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into user(
        <trim suffixOverrides=",">
            <if test="userId != null and userId !=''">
               USER_ID,
        </if>
            <if test="userName != null and userName !=''">
                USER_NAME,
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX,
            </if>
            <if test="byname != null and byname !=''">
                BYNAME,
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY,
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER,
            </if>
            <if test="password != null and password !=''">
                PASSWORD,
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN,
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN,
            </if>
            <if test="userPriv != null and userPriv !=''">
                USER_PRIV,
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO,
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME,
            </if>
            <if test="postPriv != null and postPriv !=''">
                POST_PRIV,
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT,
            </if>
            <if test="deptId != null and deptId !=''">
                DEPT_ID,
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                DEPT_ID_OTHER,
            </if>
            <if test="sex != null and sex !=''">
                SEX,
            </if>
            <if test="birthday != null and birthday !=''">
                BIRTHDAY,
            </if>
            <if test="isLunar != null and isLunar !=''">
                IS_LUNAR,
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                TEL_NO_DEPT,
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT,
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME,
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME,
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME,
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                MOBIL_NO,
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO,
            </if>
            <if test="email != null and email !=''">
                EMAIL,
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                OICQ_NO,
            </if>
            <if test="icqNo != null and icqNo !=''">
                ICQ_NO,
            </if>
            <if test="msn != null and msn !=''">
                MSN,
            </if>
            <if test="avatar != null and avatar !=''">
                AVATAR,
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND,
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME,
            </if>
            <if test="smsOn != null and smsOn !=''">
                SMS_ON,
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE,
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME,
            </if>
            <if test="theme != null and theme !=''">
                THEME,
            </if>
            <if test="portal != null and portal !=''">
                PORTAL,
            </if>
            <if test="panel != null and panel !=''">
                PANEL,
            </if>
            <if test="online != null and online !=''">
                ONLINE,
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS,
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS,
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                MOBIL_NO_HIDDEN,
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT,
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT,
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                USER_PRIV_OTHER,
            </if>
            <if test="userNo != null and userNameIndex !=''">
                USER_NO,
            </if>
            <if test="notLogin != null and notLogin !=''">
                NOT_LOGIN,
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                NOT_VIEW_USER,
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                NOT_VIEW_TABLE,
            </if>
            <if test="notSearch != null and userNameIndex !=''">
                NOT_SEARCH,
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND,
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP,
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP,
            </if>
            <if test="menuImage != null and menuImage !=''">
                MENU_IMAGE,
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY,
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS,
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND,
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS,
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN,
            </if>
            <if test="photo != null and photo !=''">
                PHOTO,
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE,
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME,
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL,
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                NOT_MOBILE_LOGIN,
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE,
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE,
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS,
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT,
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS,
            </if>
            <if test="remark != null and remark !=''">
                REMARK,
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA,
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER,
            </if>
            <if test="traNumber != null and traNumber !=''">
                TRA_NUMBER,
            </if>
            <if test="subject != null and subject !=''">
                SUBJECT,
            </if>
            <if test="postId != null and postId !=''">
                POST_ID,
            </if>
            <if test="jobId != null and jobId !=''">
                JOB_ID
            </if>
        </trim>
        )values(
        <trim suffixOverrides=",">
            <if test="userId != null and userId !=''">
                #{userId},
            </if>
            <if test="userName != null and userName !=''">
                #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                #{userNameIndex},
            </if>
            <if test="byname != null and byname !=''">
                #{byname},
            </if>
            <if test="useingKey != null and useingKey !=''">
                #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !=''">
                #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''">
                #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                #{postDept},
            </if>
            <if test="deptId != null and deptId !=''">
                #{deptId},
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                #{sex},
            </if>
            <if test="birthday != null and birthday !=''">
                #{birthday},
            </if>
            <if test="isLunar != null and isLunar !=''">
                #{isLunar},
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                #{telNoHome},
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                #{bpNo},
            </if>
            <if test="email != null and email !=''">
                #{email},
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                #{oicqNo},
            </if>
            <if test="icqNo != null and icqNo !=''">
                #{icqNo},
            </if>
            <if test="msn != null and msn !=''">
                #{msn},
            </if>
            <if test="avatar != null and avatar !=''">
                #{avatar},
            </if>
            <if test="callSound != null and callSound !=''">
                #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !=''">
                #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                #{theme},
            </if>
            <if test="portal != null and portal !=''">
                #{portal},
            </if>
            <if test="panel != null and panel !=''">
                #{panel},
            </if>
            <if test="online != null and online !=''">
                #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                #{mytableRight},
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                #{userNo},
            </if>
            <if test="notLogin != null and notLogin !=''">
                #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !=''">
                #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !=''">
                #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                #{limitLogin},
            </if>
            <if test="photo != null and photo !=''">
                #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                #{userPara},
            </if>
            <if test="idNumber != null and idNumber !=''">
                #{idNumber},
            </if>
            <if test="traNumber != null and traNumber !=''">
                #{traNumber},
            </if>
            <if test="subject != null and subject !=''">
                #{subject},
            </if>
            <if test="postId != null and postId !=''">
                #{postId},
            </if>
            <if test="jobId != null and jobId !=''">
                #{jobId}
            </if>
        </trim>
        )
    </insert>

    <insert id="addUser"  useGeneratedKeys="true" keyProperty="uid" databaseId="oracle">
        <selectKey order="BEFORE" keyProperty="uid" resultType="int">
            SELECT USER_UID_SEQ.nextval as "uid" FROM  dual
        </selectKey>
        insert into "USER"(
        <trim suffixOverrides=",">
            "UID",
            <if test="userId != null and userId !=''">
                USER_ID,
            </if>
            <if test="userName != null and userName !=''">
                USER_NAME,
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX,
            </if>
            <if test="byname != null and byname !=''">
                BYNAME,
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY,
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER,
            </if>
            <if test="password != null and password !=''">
                PASSWORD,
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN,
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN,
            </if>
            <if test="userPriv != null and userPriv !=''">
                USER_PRIV,
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO,
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME,
            </if>
            <if test="postPriv != null and postPriv !=''">
                POST_PRIV,
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT,
            </if>
            <if test="deptId != null and deptId !=''">
                DEPT_ID,
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                DEPT_ID_OTHER,
            </if>
            <if test="sex != null and sex !=''">
                SEX,
            </if>
            <if test="birthday != null and birthday !=''">
                BIRTHDAY,
            </if>
            <if test="isLunar != null and isLunar !=''">
                IS_LUNAR,
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                TEL_NO_DEPT,
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT,
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME,
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME,
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME,
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                MOBIL_NO,
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO,
            </if>
            <if test="email != null and email !=''">
                EMAIL,
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                OICQ_NO,
            </if>
            <if test="icqNo != null and icqNo !=''">
                ICQ_NO,
            </if>
            <if test="msn != null and msn !=''">
                MSN,
            </if>
            <if test="avatar != null and avatar !=''">
                AVATAR,
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND,
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME,
            </if>
            <if test="smsOn != null and smsOn !=''">
                SMS_ON,
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE,
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME,
            </if>
            <if test="theme != null and theme !=''">
                THEME,
            </if>
            <if test="portal != null and portal !=''">
                PORTAL,
            </if>
            <if test="panel != null and panel !=''">
                PANEL,
            </if>
            <if test="online != null and online !=''">
                ONLINE,
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS,
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS,
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                MOBIL_NO_HIDDEN,
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT,
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT,
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                USER_PRIV_OTHER,
            </if>
            <if test="userNo != null and userNameIndex !=''">
                USER_NO,
            </if>
            <if test="notLogin != null and notLogin !=''">
                NOT_LOGIN,
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                NOT_VIEW_USER,
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                NOT_VIEW_TABLE,
            </if>
            <if test="notSearch != null and userNameIndex !=''">
                NOT_SEARCH,
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND,
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP,
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP,
            </if>
            <if test="menuImage != null and menuImage !=''">
                MENU_IMAGE,
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY,
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS,
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND,
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS,
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN,
            </if>
            <if test="photo != null and photo !=''">
                PHOTO,
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE,
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME,
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL,
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                NOT_MOBILE_LOGIN,
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE,
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE,
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS,
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT,
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS,
            </if>
            <if test="remark != null and remark !=''">
                REMARK,
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA,
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER,
            </if>
            <if test="traNumber != null and traNumber !=''">
                TRA_NUMBER,
            </if>
            <if test="subject != null and subject !=''">
                SUBJECT,
            </if>
            <if test="postId != null and postId !=''">
                POST_ID,
            </if>
            <if test="jobId != null and jobId !=''">
                JOB_ID
            </if>
        </trim>
        )values(
        <trim suffixOverrides=",">
            #{uid},
            <if test="userId != null and userId !=''">
                #{userId},
            </if>
            <if test="userName != null and userName !=''">
                #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                #{userNameIndex},
            </if>
            <if test="byname != null and byname !=''">
                #{byname},
            </if>
            <if test="useingKey != null and useingKey !=''">
                #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !=''">
                #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''">
                #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                #{postDept},
            </if>
            <if test="deptId != null and deptId !=''">
                #{deptId},
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                #{sex},
            </if>
            <if test="birthday != null and birthday !=''">
                #{birthday},
            </if>
            <if test="isLunar != null and isLunar !=''">
                #{isLunar},
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                #{telNoHome},
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                #{bpNo},
            </if>
            <if test="email != null and email !=''">
                #{email},
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                #{oicqNo},
            </if>
            <if test="icqNo != null and icqNo !=''">
                #{icqNo},
            </if>
            <if test="msn != null and msn !=''">
                #{msn},
            </if>
            <if test="avatar != null and avatar !=''">
                #{avatar},
            </if>
            <if test="callSound != null and callSound !=''">
                #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !=''">
                #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                #{theme},
            </if>
            <if test="portal != null and portal !=''">
                #{portal},
            </if>
            <if test="panel != null and panel !=''">
                #{panel},
            </if>
            <if test="online != null and online !=''">
                #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                #{mytableRight},
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                #{userNo},
            </if>
            <if test="notLogin != null and notLogin !=''">
                #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !=''">
                #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !=''">
                #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                #{limitLogin},
            </if>
            <if test="photo != null and photo !=''">
                #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                #{userPara},
            </if>
            <if test="idNumber != null and idNumber !=''">
                #{idNumber},
            </if>
            <if test="traNumber != null and traNumber !=''">
                #{traNumber},
            </if>
            <if test="subject != null and subject !=''">
                #{subject},
            </if>
            <if test="postId != null and postId !=''">
                #{postId},
            </if>
            <if test="jobId != null and jobId !=''">
                #{jobId}
            </if>
        </trim>
        )
    </insert>

    <insert id="addUser"  useGeneratedKeys="true" keyProperty="uid" databaseId="dm">
        <selectKey order="BEFORE" keyProperty="uid" resultType="int">
            SELECT USER_UID_SEQ.nextval as "uid" FROM  dual
        </selectKey>
        insert into "USER"(
        <trim suffixOverrides=",">
            "UID",
            <if test="userId != null and userId !=''">
                USER_ID,
            </if>
            <if test="userName != null and userName !=''">
                USER_NAME,
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX,
            </if>
            <if test="byname != null and byname !=''">
                BYNAME,
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY,
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER,
            </if>
            <if test="password != null and password !=''">
                PASSWORD,
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN,
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN,
            </if>
            <if test="userPriv != null and userPriv !=''">
                USER_PRIV,
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO,
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME,
            </if>
            <if test="postPriv != null and postPriv !=''">
                POST_PRIV,
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT,
            </if>
            <if test="deptId != null and deptId !=''">
                DEPT_ID,
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                DEPT_ID_OTHER,
            </if>
            <if test="sex != null and sex !=''">
                SEX,
            </if>
            <if test="birthday != null and birthday !=''">
                BIRTHDAY,
            </if>
            <if test="isLunar != null and isLunar !=''">
                IS_LUNAR,
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                TEL_NO_DEPT,
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT,
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME,
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME,
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME,
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                MOBIL_NO,
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO,
            </if>
            <if test="email != null and email !=''">
                EMAIL,
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                OICQ_NO,
            </if>
            <if test="icqNo != null and icqNo !=''">
                ICQ_NO,
            </if>
            <if test="msn != null and msn !=''">
                MSN,
            </if>
            <if test="avatar != null and avatar !=''">
                AVATAR,
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND,
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME,
            </if>
            <if test="smsOn != null and smsOn !=''">
                SMS_ON,
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE,
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME,
            </if>
            <if test="theme != null and theme !=''">
                THEME,
            </if>
            <if test="portal != null and portal !=''">
                PORTAL,
            </if>
            <if test="panel != null and panel !=''">
                PANEL,
            </if>
            <if test="online != null and online !=''">
                ONLINE,
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS,
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS,
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                MOBIL_NO_HIDDEN,
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT,
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT,
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                USER_PRIV_OTHER,
            </if>
            <if test="userNo != null and userNameIndex !=''">
                USER_NO,
            </if>
            <if test="notLogin != null and notLogin !=''">
                NOT_LOGIN,
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                NOT_VIEW_USER,
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                NOT_VIEW_TABLE,
            </if>
            <if test="notSearch != null and userNameIndex !=''">
                NOT_SEARCH,
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND,
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP,
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP,
            </if>
            <if test="menuImage != null and menuImage !=''">
                MENU_IMAGE,
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY,
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS,
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND,
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS,
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN,
            </if>
            <if test="photo != null and photo !=''">
                PHOTO,
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE,
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME,
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL,
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                NOT_MOBILE_LOGIN,
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE,
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE,
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS,
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT,
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS,
            </if>
            <if test="remark != null and remark !=''">
                REMARK,
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA,
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER,
            </if>
            <if test="traNumber != null and traNumber !=''">
                TRA_NUMBER,
            </if>
            <if test="subject != null and subject !=''">
                SUBJECT,
            </if>
            <if test="postId != null and postId !=''">
                POST_ID,
            </if>
            <if test="jobId != null and jobId !=''">
                JOB_ID
            </if>
        </trim>
        )values(
        <trim suffixOverrides=",">
            #{uid},
            <if test="userId != null and userId !=''">
                #{userId},
            </if>
            <if test="userName != null and userName !=''">
                #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                #{userNameIndex},
            </if>
            <if test="byname != null and byname !=''">
                #{byname},
            </if>
            <if test="useingKey != null and useingKey !=''">
                #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !=''">
                #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''">
                #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                #{postDept},
            </if>
            <if test="deptId != null and deptId !=''">
                #{deptId},
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                #{sex},
            </if>
            <if test="birthday != null and birthday !=''">
                #{birthday},
            </if>
            <if test="isLunar != null and isLunar !=''">
                #{isLunar},
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                #{telNoHome},
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                #{bpNo},
            </if>
            <if test="email != null and email !=''">
                #{email},
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                #{oicqNo},
            </if>
            <if test="icqNo != null and icqNo !=''">
                #{icqNo},
            </if>
            <if test="msn != null and msn !=''">
                #{msn},
            </if>
            <if test="avatar != null and avatar !=''">
                #{avatar},
            </if>
            <if test="callSound != null and callSound !=''">
                #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !=''">
                #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                #{theme},
            </if>
            <if test="portal != null and portal !=''">
                #{portal},
            </if>
            <if test="panel != null and panel !=''">
                #{panel},
            </if>
            <if test="online != null and online !=''">
                #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                #{mytableRight},
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                #{userNo},
            </if>
            <if test="notLogin != null and notLogin !=''">
                #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !=''">
                #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !=''">
                #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                #{limitLogin},
            </if>
            <if test="photo != null and photo !=''">
                #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                #{userPara},
            </if>
            <if test="idNumber != null and idNumber !=''">
                #{idNumber},
            </if>
            <if test="traNumber != null and traNumber !=''">
                #{traNumber},
            </if>
            <if test="subject != null and subject !=''">
                #{subject},
            </if>
            <if test="postId != null and postId !=''">
                #{postId},
            </if>
            <if test="jobId != null and jobId !=''">
                #{jobId}
            </if>
        </trim>
        )
    </insert>

    <update id="editUser"  parameterType="com.myoa.model.users.Users">
        update user
        <set>
            <if test="userId != null and userId !=''">
                USER_ID = #{userId},
            </if>
            <if test="userName != null and userName !=''">
                USER_NAME = #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX = #{userNameIndex},
            </if>
            <if test="byname != null and byname !=''">
                BYNAME = #{byname},
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY = #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER = #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                PASSWORD = #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN = #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN = #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !='' ">
                USER_PRIV = #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO = #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME = #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''or postPriv==0 ">
                POST_PRIV = #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT = #{postDept},
            </if>
            <if test="deptId != null and deptId !='' or deptId ==0 ">
                DEPT_ID = #{deptId},
            </if>
            <if test="deptIdOther != null ">
                DEPT_ID_OTHER = #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                SEX = #{sex},
            </if>
             BIRTHDAY = #{birthday},
            <if test="isLunar != null and isLunar !='' or isLunar == 0 ">
                IS_LUNAR = #{isLunar},
            </if>
            <if test="telNoDept != null">
                TEL_NO_DEPT = #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT = #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME = #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME = #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME = #{telNoHome},
            </if>
            <if test="mobilNo != null ">
                MOBIL_NO = #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO = #{bpNo},
            </if>
            <if test="email != null ">
                EMAIL = #{email},
            </if>
            <if test="oicqNo != null ">
                OICQ_NO = #{oicqNo},
            </if>
            <if test="icqNo != null">
                ICQ_NO = #{icqNo},
            </if>
            <if test="msn != null ">
                MSN = #{msn},
            </if>
            <if test="avatar != null ">
                AVATAR = #{avatar},
            </if>
            <if test="avatar128 != null ">
                AVATAR_128 = #{avatar128},
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND = #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME = #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !='' or smsOn ==0 ">
                SMS_ON = #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE = #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME = #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                THEME = #{theme},
            </if>
            <if test="portal != null and portal !=''">
                PORTAL = #{portal},
            </if>
            <if test="panel != null and panel !=''">
                PANEL = #{panel},
            </if>
            <if test="online != null and online !=''">
                ONLINE = #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS = #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS = #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !='' or mobilNoHidden==0 ">
                MOBIL_NO_HIDDEN = #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT = #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT = #{mytableRight},
            </if>
            <if test="userPrivOther != null ">
                USER_PRIV_OTHER = #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                USER_NO = #{userNo},
            </if>
            <if test="notLogin != null and notLogin !='' or notLogin == 0 ">
                NOT_LOGIN = #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !='' or notViewUser==0 ">
                NOT_VIEW_USER = #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !='' or notViewTable==0 ">
                NOT_VIEW_TABLE = #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !='' or notSearch==0 ">
                NOT_SEARCH = #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND = #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP = #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP = #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !='' or menuImage==0 ">
                MENU_IMAGE = #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY = #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS = #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND = #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS = #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN = #{limitLogin},
            </if>
            <if test="photo != null">
                PHOTO = #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE = #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME = #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL = #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !='' or notMobileLogin==0 ">
                NOT_MOBILE_LOGIN = #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE = #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE = #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS = #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT = #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS = #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                REMARK = #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA = #{userPara},
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER = #{idNumber},
            </if>
            <if test="traNumber != null and traNumber !=''">
               TRA_NUMBER =  #{traNumber},
            </if>
            <if test="subject != null and subject !=''">
              SUBJECT =  #{subject},
            </if>
            <if test="post!=null">
              POST = #{post},
            </if>
            <if test="postId!=null">
                POST_ID = #{postId},
            </if>
            <if test="jobId!=null">
                JOB_ID = #{jobId}
            </if>
        </set>
        where UID = #{uid}
    </update>
	
	 <update id="editUser"  parameterType="com.myoa.model.users.Users"  databaseId="oracle">
        update "USER"
        <set>
            <if test="userId != null and userId !=''">
                USER_ID = #{userId},
            </if>
            <if test="userName != null and userName !=''">
                USER_NAME = #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX = #{userNameIndex},
            </if>
            <if test="byname != null and byname !=''">
                BYNAME = #{byname},
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY = #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER = #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                "PASSWORD" = #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN = #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN = #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !='' ">
                USER_PRIV = #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO = #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME = #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''or postPriv==0 ">
                POST_PRIV = #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT = #{postDept},
            </if>
            <if test="deptId != null and deptId !='' or deptId ==0 ">
                DEPT_ID = #{deptId},
            </if>
            <if test="deptIdOther != null ">
                DEPT_ID_OTHER = #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                SEX = #{sex},
            </if>
            <if test="birthday != null and birthday !=''">
                BIRTHDAY = #{birthday},
            </if>
            <if test="isLunar != null and isLunar !='' or isLunar == 0 ">
                IS_LUNAR = #{isLunar},
            </if>
            <if test="telNoDept != null">
                TEL_NO_DEPT = #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT = #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME = #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME = #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME = #{telNoHome},
            </if>
            <if test="mobilNo != null ">
                MOBIL_NO = #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO = #{bpNo},
            </if>
            <if test="email != null ">
                EMAIL = #{email},
            </if>
            <if test="oicqNo != null ">
                OICQ_NO = #{oicqNo},
            </if>
            <if test="icqNo != null">
                ICQ_NO = #{icqNo},
            </if>
            <if test="msn != null ">
                MSN = #{msn},
            </if>
            <if test="avatar != null ">
                AVATAR = #{avatar},
            </if>
            <if test="avatar128 != null ">
                AVATAR_128 = #{avatar128},
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND = #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME = #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !='' or smsOn ==0 ">
                SMS_ON = #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE = #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME = #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                THEME = #{theme},
            </if>
            <if test="portal != null and portal !=''">
                PORTAL = #{portal},
            </if>
            <if test="panel != null and panel !=''">
                PANEL = #{panel},
            </if>
            <if test="online != null and online !=''">
                "ONLINE" = #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS = #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS = #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !='' or mobilNoHidden==0 ">
                MOBIL_NO_HIDDEN = #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT = #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT = #{mytableRight},
            </if>
            <if test="userPrivOther != null ">
                USER_PRIV_OTHER = #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                USER_NO = #{userNo},
            </if>
            <if test="notLogin != null and notLogin !='' or notLogin == 0 ">
                NOT_LOGIN = #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !='' or notViewUser==0 ">
                NOT_VIEW_USER = #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !='' or notViewTable==0 ">
                NOT_VIEW_TABLE = #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !='' or notSearch==0 ">
                NOT_SEARCH = #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND = #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP = #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP = #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !='' or menuImage==0 ">
                MENU_IMAGE = #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY = #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS = #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND = #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS = #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN = #{limitLogin},
            </if>
            <if test="photo != null">
                PHOTO = #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE = #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME = #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL = #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !='' or notMobileLogin==0 ">
                NOT_MOBILE_LOGIN = #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE = #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE = #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS = #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT = #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS = #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                REMARK = #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA = #{userPara},
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER = #{idNumber},
            </if>
            <if test="traNumber != null and traNumber !=''">
                TRA_NUMBER =  #{traNumber},
            </if>
            <if test="subject != null and subject !=''">
                SUBJECT =  #{subject},
            </if>
            <if test="post!=null">
                POST = #{post},
            </if>
            <if test="postId!=null">
                POST_ID = #{postId},
            </if>
            <if test="jobId!=null">
                JOB_ID = #{jobId}
            </if>
        </set>
        where "UID" = #{uid}
    </update>

    <update id="editUser"  parameterType="com.myoa.model.users.Users" databaseId="dm">
        update "USER"
        <set>
            <if test="userId != null and userId !=''">
                USER_ID = #{userId},
            </if>
            <if test="userName != null and userName !=''">
                USER_NAME = #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX = #{userNameIndex},
            </if>
            <if test="byname != null and byname !=''">
                BYNAME = #{byname},
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY = #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER = #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                "PASSWORD" = #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN = #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN = #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !='' ">
                USER_PRIV = #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO = #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME = #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''or postPriv==0 ">
                POST_PRIV = #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT = #{postDept},
            </if>
            <if test="deptId != null and deptId !='' or deptId ==0 ">
                DEPT_ID = #{deptId},
            </if>
            <if test="deptIdOther != null ">
                DEPT_ID_OTHER = #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                SEX = #{sex},
            </if>
            <if test="birthday != null and birthday !=''">
                BIRTHDAY = #{birthday},
            </if>
            <if test="isLunar != null and isLunar !='' or isLunar == 0 ">
                IS_LUNAR = #{isLunar},
            </if>
            <if test="telNoDept != null">
                TEL_NO_DEPT = #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT = #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME = #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME = #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME = #{telNoHome},
            </if>
            <if test="mobilNo != null ">
                MOBIL_NO = #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO = #{bpNo},
            </if>
            <if test="email != null ">
                EMAIL = #{email},
            </if>
            <if test="oicqNo != null ">
                OICQ_NO = #{oicqNo},
            </if>
            <if test="icqNo != null">
                ICQ_NO = #{icqNo},
            </if>
            <if test="msn != null ">
                MSN = #{msn},
            </if>
            <if test="avatar != null ">
                AVATAR = #{avatar},
            </if>
            <if test="avatar128 != null ">
                AVATAR_128 = #{avatar128},
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND = #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME = #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !='' or smsOn ==0 ">
                SMS_ON = #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE = #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME = #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                THEME = #{theme},
            </if>
            <if test="portal != null and portal !=''">
                PORTAL = #{portal},
            </if>
            <if test="panel != null and panel !=''">
                PANEL = #{panel},
            </if>
            <if test="online != null and online !=''">
                "ONLINE" = #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS = #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS = #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !='' or mobilNoHidden==0 ">
                MOBIL_NO_HIDDEN = #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT = #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT = #{mytableRight},
            </if>
            <if test="userPrivOther != null ">
                USER_PRIV_OTHER = #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                USER_NO = #{userNo},
            </if>
            <if test="notLogin != null and notLogin !='' or notLogin == 0 ">
                NOT_LOGIN = #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !='' or notViewUser==0 ">
                NOT_VIEW_USER = #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !='' or notViewTable==0 ">
                NOT_VIEW_TABLE = #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !='' or notSearch==0 ">
                NOT_SEARCH = #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND = #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP = #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP = #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !='' or menuImage==0 ">
                MENU_IMAGE = #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY = #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS = #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND = #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS = #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN = #{limitLogin},
            </if>
            <if test="photo != null">
                PHOTO = #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE = #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME = #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL = #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !='' or notMobileLogin==0 ">
                NOT_MOBILE_LOGIN = #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE = #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE = #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS = #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT = #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS = #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                REMARK = #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA = #{userPara},
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER = #{idNumber},
            </if>
            <if test="traNumber != null and traNumber !=''">
                TRA_NUMBER =  #{traNumber},
            </if>
            <if test="subject != null and subject !=''">
                SUBJECT =  #{subject},
            </if>
            <if test="post!=null">
                POST = #{post},
            </if>
            <if test="postId!=null">
                POST_ID = #{postId},
            </if>
            <if test="jobId!=null">
                JOB_ID = #{jobId}
            </if>
        </set>
        where "UID" = #{uid}
    </update>
	
    <delete id="deleteUser" parameterType="string">
		DELETE FROM user WHERE UID in
        <foreach item="uids" collection="array" open="(" separator="," close=")">
            <if test=' uids!="" '>
                #{uids}
            </if>
        </foreach>
	</delete>
    <insert id="insert" parameterType="com.myoa.model.users.Users" useGeneratedKeys="true" keyProperty="uid">
        <selectKey order="AFTER" keyProperty="uid" resultType="int">
            SELECT LAST_INSERT_ID()
        </selectKey>
    insert into user (USER_ID, USER_NAME, 
      USER_NAME_INDEX, BYNAME, USEING_KEY, 
      USING_FINGER, PASSWORD, KEY_SN, 
      SECURE_KEY_SN, USER_PRIV, USER_PRIV_NO, 
      USER_PRIV_NAME, POST_PRIV, POST_DEPT, 
      DEPT_ID, DEPT_ID_OTHER, SEX, 
      BIRTHDAY, IS_LUNAR, TEL_NO_DEPT, 
      FAX_NO_DEPT, ADD_HOME, POST_NO_HOME, 
      TEL_NO_HOME, MOBIL_NO, BP_NO, 
      EMAIL, OICQ_NO, ICQ_NO, 
      MSN, AVATAR, CALL_SOUND, 
      LAST_VISIT_TIME, SMS_ON, MENU_TYPE, 
      LAST_PASS_TIME, THEME, PORTAL, 
      PANEL, ONLINE, ON_STATUS, 
      ATTEND_STATUS, MOBIL_NO_HIDDEN, MYTABLE_LEFT, 
      MYTABLE_RIGHT, USER_PRIV_OTHER, USER_NO, 
      NOT_LOGIN, NOT_VIEW_USER, NOT_VIEW_TABLE, 
      NOT_SEARCH, BKGROUND, BIND_IP, 
      LAST_VISIT_IP, MENU_IMAGE, WEATHER_CITY, 
      SHOW_RSS, MENU_EXPAND, MY_STATUS, 
      LIMIT_LOGIN, PHOTO, IM_RANGE, 
      LEAVE_TIME, SECRET_LEVEL, NOT_MOBILE_LOGIN, 
      MANAGE_MODULE_TYPE, USER_PRIV_TYPE, USER_MANAGE_ORGS, 
      SHORTCUT, MY_RSS, REMARK, 
      USER_PARA, ID_NUMBER, TRA_NUMBER, SUBJECT ,POST_ID,JOB_ID)
    values ( #{userId}, #{userName}, 
      #{userNameIndex}, #{byname}, #{useingKey}, 
      #{usingFinger}, #{password}, #{keySn}, 
      #{secureKeySn}, #{userPriv}, #{userPrivNo}, 
      #{userPrivName}, #{postPriv}, #{postDept}, 
      #{deptId}, #{deptIdOther}, #{sex}, 
      #{birthday}, #{isLunar}, #{telNoDept}, 
      #{faxNoDept}, #{addHome}, #{postNoHome}, 
      #{telNoHome}, #{mobilNo}, #{bpNo}, 
      #{email}, #{oicqNo}, #{icqNo}, 
      #{msn}, #{avatar}, #{callSound}, 
      #{lastVisitTime}, #{smsOn}, #{menuType}, 
      #{lastPassTime}, #{theme}, #{portal}, 
      #{panel}, #{online}, #{onStatus}, 
      #{attendStatus}, #{mobilNoHidden}, #{mytableLeft}, 
      #{mytableRight}, #{userPrivOther}, #{userNo}, 
      #{notLogin}, #{notViewUser}, #{notViewTable}, 
      #{notSearch}, #{bkground}, #{bindIp}, 
      #{lastVisitIp}, #{menuImage}, #{weatherCity}, 
      #{showRss}, #{menuExpand}, #{myStatus}, 
      #{limitLogin}, #{photo}, #{imRange}, 
      #{leaveTime}, #{secretLevel}, #{notMobileLogin}, 
      #{manageModuleType}, #{userPrivType}, #{userManageOrgs}, 
      #{shortcut}, #{myRss}, #{remark}, 
      #{userPara}, #{idNumber}, #{traNumber}, #{subject} , #{postId},#{jobId})
  </insert>

    <insert id="insert" parameterType="com.myoa.model.users.Users" useGeneratedKeys="true" keyProperty="uid" databaseId="oracle">
        <selectKey order="BEFORE" keyProperty="uid" resultType="int">
            SELECT USER_UID_SEQ.nextval as "uid"  from dual
        </selectKey>
        insert into "USER" (
        <trim suffixOverrides=",">
            "UID",
            <if test="userId != null and userId !=''">
                USER_ID,
            </if>
            <if test="userName != null and userName !=''">
                USER_NAME,
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX,
            </if>
            <if test="byname != null and byname !=''">
                BYNAME,
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY,
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER,
            </if>
            <if test="password != null and password !=''">
                PASSWORD,
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN,
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN,
            </if>
            <if test="userPriv != null and userPriv !=''">
                USER_PRIV,
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO,
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME,
            </if>
            <if test="postPriv != null and postPriv !=''">
                POST_PRIV,
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT,
            </if>
            <if test="deptId != null and deptId !=''">
                DEPT_ID,
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                DEPT_ID_OTHER,
            </if>
            <if test="sex != null and sex !=''">
                SEX,
            </if>
            <if test="birthday != null and birthday !=''">
                BIRTHDAY,
            </if>
            <if test="isLunar != null and isLunar !=''">
                IS_LUNAR,
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                TEL_NO_DEPT,
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT,
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME,
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME,
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME,
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                MOBIL_NO,
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO,
            </if>
            <if test="email != null and email !=''">
                EMAIL,
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                OICQ_NO,
            </if>
            <if test="icqNo != null and icqNo !=''">
                ICQ_NO,
            </if>
            <if test="msn != null and msn !=''">
                MSN,
            </if>
            <if test="avatar != null and avatar !=''">
                AVATAR,
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND,
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME,
            </if>
            <if test="smsOn != null and smsOn !=''">
                SMS_ON,
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE,
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME,
            </if>
            <if test="theme != null and theme !=''">
                THEME,
            </if>
            <if test="portal != null and portal !=''">
                PORTAL,
            </if>
            <if test="panel != null and panel !=''">
                PANEL,
            </if>
            <if test="online != null and online !=''">
                ONLINE,
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS,
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS,
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                MOBIL_NO_HIDDEN,
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT,
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT,
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                USER_PRIV_OTHER,
            </if>
            <if test="userNo != null and userNameIndex !=''">
                USER_NO,
            </if>
            <if test="notLogin != null and notLogin !=''">
                NOT_LOGIN,
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                NOT_VIEW_USER,
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                NOT_VIEW_TABLE,
            </if>
            <if test="notSearch != null and userNameIndex !=''">
                NOT_SEARCH,
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND,
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP,
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP,
            </if>
            <if test="menuImage != null and menuImage !=''">
                MENU_IMAGE,
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY,
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS,
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND,
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS,
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN,
            </if>
            <if test="photo != null and photo !=''">
                PHOTO,
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE,
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME,
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL,
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                NOT_MOBILE_LOGIN,
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE,
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE,
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS,
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT,
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS,
            </if>
            <if test="remark != null and remark !=''">
                REMARK,
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA,
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER,
            </if>
            <if test="traNumber != null and traNumber !=''">
                TRA_NUMBER,
            </if>
            <if test="subject != null and subject !=''">
                SUBJECT,
            </if>
            <if test="postId != null and postId !=''">
                POST_ID,
            </if>
            <if test="jobId != null and jobId !=''">
                JOB_ID
            </if>
        </trim>
        )values(
        <trim suffixOverrides=",">
            #{uid},
            <if test="userId != null and userId !=''">
                #{userId},
            </if>
            <if test="userName != null and userName !=''">
                #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                #{userNameIndex},
            </if>
            <if test="byname != null and byname !=''">
                #{byname},
            </if>
            <if test="useingKey != null and useingKey !=''">
                #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !=''">
                #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''">
                #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                #{postDept},
            </if>
            <if test="deptId != null and deptId !=''">
                #{deptId},
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                #{sex},
            </if>
            <if test="birthday != null and birthday !=''">
                #{birthday},
            </if>
            <if test="isLunar != null and isLunar !=''">
                #{isLunar},
            </if>
            <if test="telNoDept != null and telNoDept !=''">
                #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                #{telNoHome},
            </if>
            <if test="mobilNo != null and mobilNo !=''">
                #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                #{bpNo},
            </if>
            <if test="email != null and email !=''">
                #{email},
            </if>
            <if test="oicqNo != null and oicqNo !=''">
                #{oicqNo},
            </if>
            <if test="icqNo != null and icqNo !=''">
                #{icqNo},
            </if>
            <if test="msn != null and msn !=''">
                #{msn},
            </if>
            <if test="avatar != null and avatar !=''">
                #{avatar},
            </if>
            <if test="callSound != null and callSound !=''">
                #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !=''">
                #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                #{theme},
            </if>
            <if test="portal != null and portal !=''">
                #{portal},
            </if>
            <if test="panel != null and panel !=''">
                #{panel},
            </if>
            <if test="online != null and online !=''">
                #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !=''">
                #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                #{mytableRight},
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                #{userNo},
            </if>
            <if test="notLogin != null and notLogin !=''">
                #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !=''">
                #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !=''">
                #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !=''">
                #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !=''">
                #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                #{limitLogin},
            </if>
            <if test="photo != null and photo !=''">
                #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !=''">
                #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                #{userPara},
            </if>
            <if test="idNumber != null and idNumber !=''">
                #{idNumber},
            </if>
            <if test="traNumber != null and traNumber !=''">
                #{traNumber},
            </if>
            <if test="subject != null and subject !=''">
                #{subject},
            </if>
            <if test="postId != null and postId !=''">
                #{postId},
            </if>
            <if test="jobId != null and jobId !=''">
                #{jobId}
            </if>
        </trim>
        )
    </insert>



    <insert id="insertByEdu" parameterType="com.myoa.model.users.Users" useGeneratedKeys="true" keyProperty="uid">
        <selectKey order="AFTER" keyProperty="uid" resultType="int">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into user (USER_ID, USER_NAME,
        USER_NAME_INDEX, BYNAME, USEING_KEY,
        USING_FINGER, PASSWORD, KEY_SN,
        SECURE_KEY_SN, USER_PRIV, USER_PRIV_NO,
        USER_PRIV_NAME, POST_PRIV, POST_DEPT,
        DEPT_ID, DEPT_ID_OTHER, SEX,
        BIRTHDAY, IS_LUNAR, TEL_NO_DEPT,
        FAX_NO_DEPT, ADD_HOME, POST_NO_HOME,
        TEL_NO_HOME, MOBIL_NO, BP_NO,
        EMAIL, OICQ_NO, ICQ_NO,
        MSN, AVATAR, CALL_SOUND,
        LAST_VISIT_TIME, SMS_ON, MENU_TYPE,
        LAST_PASS_TIME, THEME, PORTAL,
        PANEL, ONLINE, ON_STATUS,
        ATTEND_STATUS, MOBIL_NO_HIDDEN, MYTABLE_LEFT,
        MYTABLE_RIGHT, USER_PRIV_OTHER, USER_NO,
        NOT_LOGIN, NOT_VIEW_USER, NOT_VIEW_TABLE,
        NOT_SEARCH, BKGROUND, BIND_IP,
        LAST_VISIT_IP, MENU_IMAGE, WEATHER_CITY,
        SHOW_RSS, MENU_EXPAND, MY_STATUS,
        LIMIT_LOGIN, PHOTO, IM_RANGE,
        LEAVE_TIME, SECRET_LEVEL, NOT_MOBILE_LOGIN,
        MANAGE_MODULE_TYPE, USER_PRIV_TYPE, USER_MANAGE_ORGS,
        SHORTCUT, MY_RSS, REMARK,
        USER_PARA)
        values ( #{userId}, #{userName},
        #{userNameIndex}, #{byname}, #{useingKey},
        #{usingFinger}, #{password}, #{keySn},
        #{secureKeySn}, #{userPriv}, #{userPrivNo},
        #{userPrivName}, #{postPriv}, #{postDept},
        #{deptId}, #{deptIdOther}, #{sex},
        #{birthday}, #{isLunar}, #{telNoDept},
        #{faxNoDept}, #{addHome}, #{postNoHome},
        #{telNoHome}, #{mobilNo}, #{bpNo},
        #{email}, #{oicqNo}, #{icqNo},
        #{msn}, #{avatar}, #{callSound},
        #{lastVisitTime}, #{smsOn}, #{menuType},
        #{lastPassTime}, #{theme}, #{portal},
        #{panel}, #{online}, #{onStatus},
        #{attendStatus}, #{mobilNoHidden}, #{mytableLeft},
        #{mytableRight}, #{userPrivOther}, #{userNo},
        #{notLogin}, #{notViewUser}, #{notViewTable},
        #{notSearch}, #{bkground}, #{bindIp},
        #{lastVisitIp}, #{menuImage}, #{weatherCity},
        #{showRss}, #{menuExpand}, #{myStatus},
        #{limitLogin}, #{photo}, #{imRange},
        #{leaveTime}, #{secretLevel}, #{notMobileLogin},
        #{manageModuleType}, #{userPrivType}, #{userManageOrgs},
        #{shortcut}, #{myRss}, #{remark},
        #{userPara})
    </insert>






    <select id="getUserByDeptId" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap">
        select u.USER_NAME, u.UID,u.avatar,u.sex from user u WHERE u.DEPT_ID = #{deptId}
        OR u.DEPT_ID_OTHER LIKE CONCAT('%,',#{deptId},',%')
        OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptId},',%') ORDER BY u.user_priv_no,u.user_no;
    </select>
    <select id="getUserByDeptId" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap" databaseId="oracle">
        select u.USER_NAME, u."UID",u.avatar,u.sex from "USER" u WHERE u.DEPT_ID = #{deptId}
        OR u.DEPT_ID_OTHER LIKE CONCAT(CONCAT('%,',#{deptId}),',%')
        OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptId},',%') ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="getUserByDeptId" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap" databaseId="dm">
        select u.USER_NAME, u."UID",u.avatar,u.sex from user u WHERE u.DEPT_ID = #{deptId}
        OR u.DEPT_ID_OTHER LIKE CONCAT(CONCAT('%,',#{deptId}),',%')
        OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptId},',%') ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="getUserByRoleId" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap">
        select u.USER_NAME, u.UID,u.avatar,u.sex from user u WHERE u.USER_PRIV = #{userPriv} ORDER BY u.USER_PRIV_NO ASC,u.user_no;
    </select>
    <select id="getUserOnline" resultMap="UserResultMap">
        select u.UID, u.USER_NAME,u.avatar,u.sex from user u, user_online uo WHERE u.UID = uo.UID;
    </select>
    <select id="getUserbyCondition" resultMap="UserResultMap">
      SELECT
	u.UID,
	u.USER_ID,
	u.USER_NAME,
	u.BYNAME,
	u.USER_PRIV,
	u.USER_PRIV_NO,
    u.EMAIL,
	u.USER_PRIV_NAME,
	d.DEPT_NAME,
	d.TEL_NO,
	u.TEL_NO_DEPT,
	u.MOBIL_NO,
	u.`ONLINE`,
	u.SEX,
	u.POST_NO_HOME,
	u.USER_PRIV_OTHER
FROM
	USER u,
	department d
WHERE
	u.DEPT_ID = d.DEPT_ID
        <if test="userId != null and userId != ''">
            AND u.byname  like concat('%', #{userId}, '%')
        </if>
        <if test="userName != null and userName != ''">
            AND u.USER_NAME like concat('%', #{userName}, '%')
        </if>
        <if test="sex != null and sex != ''">
            AND u.SEX = #{sex}
        </if>
        <if test="deptId != null and deptId != ''">
            AND u.DEPT_ID = #{deptId}
        </if>
        <if test="userPrivNo != null and userPrivNo != ''">
            AND u.USER_PRIV = #{userPrivNo}
        </if>
        ORDER BY u.user_priv_no,u.user_no
</select>

    <select id="getUserbyCondition" resultMap="UserResultMap" databaseId="oracle">
        SELECT
        U ."UID",
        U .USER_ID,
        U .USER_NAME,
        U .BYNAME,
        U .USER_PRIV,
        U .USER_PRIV_NO,
        U .EMAIL,
        U .USER_PRIV_NAME,
        D .DEPT_NAME,
        D .TEL_NO,
        U .TEL_NO_DEPT,
        U .MOBIL_NO,
        U ."ONLINE", U .SEX,
        U .POST_NO_HOME,
        U .USER_PRIV_OTHER
        FROM
        "USER" U,
        department D
        WHERE
        U .DEPT_ID = D .DEPT_ID
        <if test="userId != null and userId != ''">
            AND u.byname  like concat('%', #{userId}, '%')
        </if>
        <if test="userName != null and userName != ''">
            AND u.USER_NAME like concat('%', #{userName}, '%')
        </if>
        <if test="sex != null and sex != ''">
            AND u.SEX = #{sex}
        </if>
        <if test="deptId != null and deptId != ''">
            AND u.DEPT_ID = #{deptId}
        </if>
        <if test="userPrivNo != null and userPrivNo != ''">
            AND u.USER_PRIV = #{userPrivNo}
        </if>
        ORDER BY u.user_priv_no,u.user_no
    </select>
<select id="getUserNameByFuncId" parameterType="java.lang.String" resultMap="UserResultMap">
        SELECT u.USER_NAME, u.UID from user u, user_function uf WHERE u.UID = uf.uid;
    </select>
 <select id="getUserByFuncId" parameterType="java.lang.String" resultType="java.lang.String">
select DISTINCT (u.UID)  from
  user_ext ue, user u, user_function uf
where
(
        ue.USER_ID = u.USER_ID
       AND
       (
          ue.U_FUNC_ID_STR LIKE concat('%,', #{fid}, ',%')
         OR
           ue.U_FUNC_ID_STR LIKE concat(#{fid}, ',%')
        )

  OR
      (
        u.USER_ID = uf.user_id
        AND

        (uf.user_func_id_str LIKE concat('%,', #{fid}, ',%')
         OR uf.user_func_id_str LIKE concat( #{fid}, ',%')
        )
      )
) ORDER BY u.user_priv_no,u.user_no

    </select>

    <select id="getUserByFuncId" parameterType="java.lang.String" resultType="java.lang.String" databaseId="oracle">
        select  u."UID"
        from user_ext ue, "USER" u, user_function uf
        where
        (
        ue.USER_ID = u.USER_ID
        AND
        (
        ue.U_FUNC_ID_STR LIKE concat(concat('%,', #{fid}), ',%')
        OR
        ue.U_FUNC_ID_STR LIKE concat(#{fid}, ',%')
        )

        OR
        (
        u.USER_ID = uf.user_id
        AND
        (uf.user_func_id_str LIKE concat(concat('%,', #{fid}), ',%')
        OR uf.user_func_id_str LIKE concat( #{fid}, ',%')
        )
        )
        )
        GROUP BY u."UID",u.user_priv_no,u.user_no
        ORDER BY u.user_priv_no,u.user_no

    </select>

    <select id="getUserByFuncId" parameterType="java.lang.String" resultType="java.lang.String" databaseId="dm">
        select DISTINCT (u."UID")  from
        user_ext ue, "USER" u, user_function uf
        where
        (
        ue.USER_ID = u.USER_ID
        AND
        (
        ue.U_FUNC_ID_STR LIKE concat('%,', #{fid}, ',%')
        OR
        ue.U_FUNC_ID_STR LIKE concat(#{fid}, ',%')
        )

        OR
        (
        u.USER_ID = uf.user_id
        AND

        (uf.user_func_id_str LIKE concat('%,', #{fid}, ',%')
        OR uf.user_func_id_str LIKE concat( #{fid}, ',%')
        )
        )
        ) ORDER BY u.user_priv_no,u.user_no

    </select>

    <select id="findUsersByIds" parameterType="hashMap" resultType="java.lang.String">

        SELECT u.USER_NAME FROM user u
        <where>
            <foreach collection="ids" item="id" open=" AND  UID  IN ( " close=" ) " separator=" , ">
                #{id}
            </foreach>
        </where>
        ORDER BY u.user_priv_no,u.user_no

    </select>
    <select id="findUsersByIds" parameterType="hashMap" resultType="java.lang.String" databaseId="oracle">

        SELECT u.USER_NAME FROM "USER" u
        <where>
            <foreach collection="ids" item="id" open=' AND  "UID"  IN ( ' close=" ) " separator=" , ">
                #{id}
            </foreach>
        </where>
        ORDER BY u.user_priv_no,u.user_no

    </select>
    <select id="findUsersByIds" parameterType="hashMap" resultType="java.lang.String" databaseId="dm">

        SELECT u.USER_NAME FROM "USER" u
        <where>
            <foreach collection="ids" item="id" open=" AND  UID  IN ( " close=" ) " separator=" , ">
                #{id}
            </foreach>
        </where>
        ORDER BY u.user_priv_no,u.user_no

    </select>
    <select id="checkPassWord" parameterType="java.lang.String" resultType="com.myoa.model.users.Users">
        select u.PASSWORD FROM user u WHERE  u.BYNAME = #{userName};
    </select>

    <select id="checkPassWord" parameterType="java.lang.String" resultType="com.myoa.model.users.Users" databaseId="dm">
        select u.PASSWORD FROM "USER" u WHERE  u.BYNAME = #{userName};
    </select>

    <select id="checkPassWord" parameterType="java.lang.String" resultType="com.myoa.model.users.Users" databaseId="oracle">
        select u.PASSWORD FROM "USER" u WHERE  u.BYNAME = #{userName}
    </select>

    <select id="getUsersByDeptId" parameterType="java.lang.Integer" resultMap="UserResultMap">
        select u.*,d.DEPT_NAME FROM user u , department d WHERE  u.DEPT_ID = #{deptId} and u.DEPT_ID = d.DEPT_ID  ORDER BY u.user_priv_no,u.user_no;
    </select>

    <select id="getUsersByDeptId" parameterType="java.lang.Integer" resultMap="UserResultMap" databaseId="dm">
        select u.*,d.DEPT_NAME FROM "USER" u , department d WHERE  u.DEPT_ID = #{deptId} and u.DEPT_ID = d.DEPT_ID  ORDER BY u.user_priv_no,u.user_no;
    </select>

    <select id="getUsersByDeptId" parameterType="java.lang.Integer" resultMap="UserResultMap" databaseId="oracle">
        select u.*,d.DEPT_NAME FROM "USER" u , department d WHERE  u.DEPT_ID = #{deptId} and u.DEPT_ID = d.DEPT_ID  ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="getuserNameByDeptId" parameterType="java.lang.Integer" resultMap="UserResultMap">
        select UID,USER_NAME from user where DEPT_ID=#{deptId} ORDER BY user_priv_no,user_no
    </select>
    <select id="getuserNameByDeptId" parameterType="java.lang.Integer" resultMap="UserResultMap" databaseId="oracle">
        select "UID",USER_NAME from "USER" where DEPT_ID=#{deptId}
    </select>

    <select id="getuserNameByDeptId" parameterType="java.lang.Integer" resultMap="UserResultMap" databaseId="dm">
        select "UID",USER_NAME from "USER" where DEPT_ID=#{deptId}
    </select>

    <select id="selectuidByName"  parameterType="String" resultType="Integer">
        select UID  from user where USER_NAME=#{userName}
    </select>

    <select id="getdepId" parameterType="Map"
            resultMap="UserResultMap">
        SELECT
        u.* ,d.DEPT_NAME
        FROM
        `user` u ,department d WHERE  u.DEPT_ID = d.DEPT_ID
        <if test="deptId != null and deptId !=''">
            AND u.DEPT_ID= #{deptId}
        </if>
        <if test="userPriv != null and userPriv !=''">
            and u.USER_PRIV= #{userPriv}
        </if>
        <if test="deptIdOther != null and deptIdOther !=''">
            and (u.DEPT_ID_OTHER LIKE CONCAT('%,',#{deptIdOther},',%') OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptIdOther},',%'))
        </if>
        <if test="userPrivOther != null and userPrivOther !=''">
            and (u.USER_PRIV_OTHER LIKE CONCAT('%,',#{userPrivOther},',%') OR u.USER_PRIV_OTHER LIKE CONCAT(#{userPrivOther},',%'))
        </if>
        ORDER BY u.user_priv_no,u.user_no
    </select>



    <select id="getdepId" parameterType="Map"
            resultMap="UserResultMap" databaseId="oracle">
        SELECT
        u.* ,d.DEPT_NAME
        FROM
        "USER" u ,department d WHERE  u.DEPT_ID = d.DEPT_ID
        <if test="deptId != null and deptId !=''">
            AND u.DEPT_ID= #{deptId}
        </if>
        <if test="userPriv != null and userPriv !=''">
            and u.USER_PRIV= #{userPriv}
        </if>
        <if test="deptIdOther != null and deptIdOther !=''">
            and (u.DEPT_ID_OTHER LIKE CONCAT('%,',#{deptIdOther},',%') OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptIdOther},',%'))
        </if>
        <if test="userPrivOther != null and userPrivOther !=''">
            and (u.USER_PRIV_OTHER LIKE CONCAT('%,',#{userPrivOther},',%') OR u.USER_PRIV_OTHER LIKE CONCAT(#{userPrivOther},',%'))
        </if>
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="getdepId" parameterType="Map"
            resultMap="UserResultMap" databaseId="dm">
        SELECT
        u.* ,d.DEPT_NAME
        FROM
        "USER" u ,department d WHERE  u.DEPT_ID = d.DEPT_ID
        <if test="deptId != null and deptId !=''">
            AND u.DEPT_ID= #{deptId}
        </if>
        <if test="userPriv != null and userPriv !=''">
            and u.USER_PRIV= #{userPriv}
        </if>
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="getNullPwUsers" parameterType="Integer" resultType="com.myoa.model.users.Users">
        SELECT UID as uid,USER_NAME as userName from user where PASSWORD IS NULL or PASSWORD = "tVHbkPWW57Hw."
        <if test="_parameter!=null and _parameter !=''">
            and dept_Id = #{_parameter}
        </if>
        ORDER BY user_priv_no,user_no
    </select>

    <select id="getNewUsers" resultMap="UserResultMap">
        select u.* , d.DEPT_NAME,ue.DUTY_TYPE
        from user u , department d,user_ext ue where
        u.user_id is not null
        and  u.DEPT_ID=d.DEPT_ID
        and u.uid=ue.uid and u.uid=u.user_id
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="getPUsersByDeptId" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap">
        select u.USER_NAME as userName, u.UID as uid, u.USER_ID as userId from user u WHERE u.DEPT_ID =
        (select DEPT_PARENT from department WHERE DEPT_ID = #{deptId}) ORDER BY u.user_priv_no,u.user_no;
    </select>

    <select id="getCUsersByDeptId" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap">
        select u.USER_NAME as userName, u.UID as uid, u.USER_ID as userId from user u WHERE u.DEPT_ID =
        (select DEPT_ID from department WHERE DEPT_PARENT = #{deptId}) ORDER BY u.user_priv_no,u.user_no ;
    </select>

    <select id="getTUsersByDeptId" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap">
        select u.USER_NAME as userName, u.UID as uid, u.USER_ID as userId from user u WHERE u.DEPT_ID IN
        (select DEPT_ID from department where DEPT_PARENT =(select DEPT_PARENT from department WHERE DEPT_ID = #{deptId}))
        ORDER BY u.user_priv_no,u.user_no;
    </select>

    <update id="clearPassword" parameterType="Integer">
        update user
        <set>
            PASSWORD = "tVHbkPWW57Hw."
        </set>
        WHERE UID in
        <foreach item="uid" collection="array" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>

    <update id="clearOnLine" parameterType="Integer">
        update user
        <set>
            ONLINE = 0
        </set>
        WHERE UID in
        <foreach item="uid" collection="array" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>

    <update id="setNotLogin" parameterType="Integer">
        update user
        <set>
            NOT_LOGIN = 1
        </set>
        WHERE UID in
        <foreach item="uid" collection="array" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>

    <update id="setNotLogin" parameterType="Integer" databaseId="oracle">
        update "USER"
        <set>
            NOT_LOGIN = 1
        </set>
        WHERE "UID" in
        <foreach item="uid" collection="array" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>
    <update id="setNotLogin" parameterType="Integer" databaseId="dm">
        update "USER"
        <set>
            NOT_LOGIN = 1
        </set>
        WHERE "UID" in
        <foreach item="uid" collection="array" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>



    <update id="editUsersDetId" >
        update user
        <set>
            DEPT_ID = #{deptId}
            <if test="deptId==0">
                ,NOT_LOGIN = 1 ,NOT_MOBILE_LOGIN = 1
            </if>
        </set>
        WHERE byname in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>

    <update id="editUsersDetId" databaseId="oracle">
        update "USER"
        <set>
            DEPT_ID = #{deptId}
            <if test="deptId==0">
                ,NOT_LOGIN = 1 ,NOT_MOBILE_LOGIN = 1
            </if>
        </set>
        WHERE byname in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>

    <update id="editUsersDetId" databaseId="dm">
        update "USER"
        <set>
            DEPT_ID = #{deptId}
            <if test="deptId==0">
                ,NOT_LOGIN = 1 ,NOT_MOBILE_LOGIN = 1
            </if>
        </set>
        WHERE byname in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>


    <select id="getUsersByUids" resultMap="UserResultMap" >
        SELECT uid,USER_NAME,DEPT_ID,USER_ID from user
        WHERE UID in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>

    <select id="getUsersByUids" resultMap="UserResultMap" databaseId="oracle">
        SELECT "UID",USER_NAME,DEPT_ID,USER_ID from "USER"
        WHERE "UID" in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>

    <select id="getUsersByUids" resultMap="UserResultMap" databaseId="dm">
        SELECT "UID",USER_NAME,DEPT_ID,USER_ID from "USER"
        WHERE "UID" in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>



    <select id="getUsersByUserIds" resultMap="UserResultMap" >
        SELECT uid,USER_NAME,DEPT_ID from user
        WHERE user_Id in
        <foreach item="userId" collection="userIds" open="(" separator="," close=")">
            <if test="userId!=null and userId != '' ">
                #{userId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByUserIds" resultMap="UserResultMap"  databaseId="oracle">
        SELECT "UID",USER_NAME,DEPT_ID from "USER"
        WHERE user_Id in
        <foreach item="userId" collection="userIds" open="(" separator="," close=")">
            <if test="userId!=null and userId != '' ">
                #{userId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByUserIds" resultMap="UserResultMap"  databaseId="dm">
        SELECT "UID",USER_NAME,DEPT_ID from "USER"
        WHERE user_Id in
        <foreach item="userId" collection="userIds" open="(" separator="," close=")">
            <if test="userId!=null and userId != '' ">
                #{userId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByBynames" resultMap="UserResultMap" >
        SELECT uid,USER_NAME,byname from user
        WHERE byname in
        <foreach item="byname" collection="bynames" open="(" separator="," close=")">
            <if test="byname!=null and byname != '' ">
                #{byname}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>

    <select id="getUsersByBynames" resultMap="UserResultMap"  databaseId="oracle">
        SELECT "UID",USER_NAME,byname from "USER"
        WHERE byname in
        <foreach item="byname" collection="bynames" open="(" separator="," close=")">
            <if test="byname!=null and byname != '' ">
                #{byname}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByBynames" resultMap="UserResultMap"  databaseId="dm">
        SELECT "UID",USER_NAME,byname from "USER"
        WHERE byname in
        <foreach item="byname" collection="bynames" open="(" separator="," close=")">
            <if test="byname!=null and byname != '' ">
                #{byname}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>




    <select id="getUserPrivByuId" parameterType="java.lang.Integer" resultType="java.lang.String">
        select u.USER_PRIV from user u WHERE u.UID = #{uId};
    </select>
    <select id="getUserPrivByuId" parameterType="java.lang.Integer" resultType="java.lang.String" databaseId="oracle">
        select u.USER_PRIV from "USER" u WHERE u."UID" = #{uId};
    </select>
    <select id="getUserPrivByuId" parameterType="java.lang.Integer" resultType="java.lang.String" databaseId="dm">
        select u.USER_PRIV from "USER" u WHERE u."UID" = #{uId};
    </select>
    <select id="deptHaveUser"  resultMap="UserResultMap">
        SELECT UID,USER_ID,USER_NAME,USER_PRIV,USER_PRIV_NAME,DEPT_ID,SEX,AVATAR FROM user u where u.DEPT_ID in (select DEPT_ID from department where DEPT_NO LIKE CONCAT( #{deptNO},'%')) ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="deptHaveUser"  resultMap="UserResultMap" databaseId="oracle">
        SELECT "UID",USER_ID,USER_NAME,USER_PRIV,USER_PRIV_NAME,DEPT_ID,SEX,AVATAR FROM "USER" u where u.DEPT_ID in (select DEPT_ID from department where DEPT_NO LIKE CONCAT( #{deptNO},'%')) ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="deptHaveUser"  resultMap="UserResultMap" databaseId="dm">
        SELECT "UID",USER_ID,USER_NAME,USER_PRIV,USER_PRIV_NAME,DEPT_ID,SEX,AVATAR FROM "USER" u where u.DEPT_ID in (select DEPT_ID from department where DEPT_NO LIKE CONCAT( #{deptNO},'%')) ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="queryUserByUserId" resultMap="UserResultMap">
        select  UID,USER_ID,USER_NAME ,BYNAME,USER_PRIV,USER_PRIV_NAME,DEPT_ID,SEX,AVATAR,MOBIL_NO,EMAIL
        from user where USER_ID LIKE '%' #{userId} '%' or  USER_NAME LIKE '%' #{userName} '%'
    </select>
    <select id="queryUserByUserId" resultMap="UserResultMap" databaseId="oracle">
        select  "UID",USER_ID,USER_NAME ,BYNAME,USER_PRIV,USER_PRIV_NAME,DEPT_ID,SEX,AVATAR,MOBIL_NO,EMAIL
        from "USER" where USER_ID LIKE '%' #{userId} '%' or  USER_NAME LIKE '%' #{userName} '%'
    </select>
    <select id="queryUserByUserId" resultMap="UserResultMap" databaseId="dm">
        select  "UID",USER_ID,USER_NAME ,BYNAME,USER_PRIV,USER_PRIV_NAME,DEPT_ID,SEX,AVATAR,MOBIL_NO,EMAIL
        from "USER" where USER_ID LIKE '%' #{userId} '%' or  USER_NAME LIKE '%' #{userName} '%'
    </select>

    <select id="queryCountByUserId" resultType="java.lang.Integer">
        select  count(*)
        from user where USER_ID LIKE '%' #{userName} '%' or  USER_NAME LIKE '%' #{userName} '%'
    </select>
    <select id="queryCountByUserId" resultType="java.lang.Integer" databaseId="oracle">
        select  count(*)
        from "USER" where USER_ID LIKE '%' #{userName} '%' or  USER_NAME LIKE '%' #{userName} '%'
    </select>
    <select id="queryCountByUserId" resultType="java.lang.Integer" databaseId="dm">
        select  count(*)
        from "USER" where USER_ID LIKE '%' #{userName} '%' or  USER_NAME LIKE '%' #{userName} '%'
    </select>
    <select id="getUserCount" resultType="java.lang.Integer">
        select count(u.UID) from user u;
    </select>
    <select id="getUserCount" resultType="java.lang.Integer" databaseId="oracle">
        select count(u."UID") from "USER" u
    </select>
    <select id="getUserCount" resultType="java.lang.Integer" databaseId="dm">
        select count(u."UID") from "USER" u
    </select>

    <update id="updatePwd"   parameterType="Map"    >
        UPDATE user u set u.PASSWORD = #{pwd},u.LAST_PASS_TIME=#{lastPassTime} WHERE u.USER_ID=#{uid};
    </update>
	
	  <update id="updatePwd"   parameterType="Map"    databaseId="oracle" >
        UPDATE "USER" u set u."PASSWORD" = #{pwd},u.LAST_PASS_TIME=#{lastPassTime} WHERE u.USER_ID=#{uid};
    </update>

    <update id="updatePwd"   parameterType="Map"  databaseId="dm"  >
        UPDATE "USER" u set u."PASSWORD" = #{pwd},u.LAST_PASS_TIME=#{lastPassTime} WHERE u.USER_ID=#{uid};
    </update>



  <!-- -->
    <insert id="addU" parameterType="com.myoa.model.users.Users" >
        insert into user(
        <trim suffixOverrides=",">
            <if test="menuType != null and menuType !=''">
                MENU_TYPE,
            </if>
            <if test="theme != null and theme !=''">
                THEME,
            </if>
            <if test="bkground != null and bkground !=''">
                #{BKGROUND},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{MENU_EXPAND},
            </if>
            <if test="panel != null and panel !=''">
                #{PANEL},
            </if>
            <if test="callSound != null and callSound !=''">
                #{CALL_SOUND},
            </if>
        </trim>
        ) values(
        <trim suffixOverrides="," >
            <if test="menuType != null and menuType !=''">
                #{menuType},
            </if>
            <if test="theme != null and theme !=''">
                #{theme},
            </if>
            <if test="bkground != null and bkground !=''">
                #{bkground},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{menuExpand},
            </if>
            <if test="panel != null and panel !=''">
                #{panel},
            </if>
            <if test="callSound != null and callSound !=''">
                #{callSound},
            </if>
        </trim>
        )
    </insert>
    <insert id="addU" parameterType="com.myoa.model.users.Users" databaseId="oracle">
        insert into user(
        <trim suffixOverrides=",">
            <if test="menuType != null and menuType !=''">
                MENU_TYPE,
            </if>
            <if test="theme != null and theme !=''">
                THEME,
            </if>
            <if test="bkground != null and bkground !=''">
                #{BKGROUND},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{MENU_EXPAND},
            </if>
            <if test="panel != null and panel !=''">
                #{PANEL},
            </if>
            <if test="callSound != null and callSound !=''">
                #{CALL_SOUND},
            </if>
        </trim>
        ) values(
        <trim suffixOverrides="," >
            <if test="menuType != null and menuType !=''">
                #{menuType},
            </if>
            <if test="theme != null and theme !=''">
                #{theme},
            </if>
            <if test="bkground != null and bkground !=''">
                #{bkground},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                #{menuExpand},
            </if>
            <if test="panel != null and panel !=''">
                #{panel},
            </if>
            <if test="callSound != null and callSound !=''">
                #{callSound},
            </if>
        </trim>
        )
    </insert>
   <!-- -->
    <select id="selectList" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap">
        SELECT MENU_TYPE,THEME,BKGROUND,MENU_EXPAND,PANEL,CALL_SOUND from user
        <where>
            <if test="menuType != null">
                and MENU_TYPE = #{menuType},
            </if>
            <if test="theme != null">
                and THEME = #{theme},
            </if>
            <if test="bkground != null">
                and BKGROUND = #{bkground},
            </if>
            <if test="menuExpand != null">
                and MENU_EXPAND = #{menuExpand},
            </if>
            <if test="panel != null">
                and PANEL = #{panel}
            </if>
            <if test="callSound != null">
                and CALL_SOUND = #{callSound}
            </if>
        </where>
    </select>
    <select id="selectList" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap" databaseId="oracle">
        SELECT MENU_TYPE,THEME,BKGROUND,MENU_EXPAND,PANEL,CALL_SOUND from "USER"
        <where>
            <if test="menuType != null">
                and MENU_TYPE = #{menuType},
            </if>
            <if test="theme != null">
                and THEME = #{theme},
            </if>
            <if test="bkground != null">
                and BKGROUND = #{bkground},
            </if>
            <if test="menuExpand != null">
                and MENU_EXPAND = #{menuExpand},
            </if>
            <if test="panel != null">
                and PANEL = #{panel}
            </if>
            <if test="callSound != null">
                and CALL_SOUND = #{callSound}
            </if>
        </where>
    </select>
    <select id="selectList" parameterType="com.myoa.model.users.Users" resultMap="UserResultMap" databaseId="dm">
        SELECT MENU_TYPE,THEME,BKGROUND,MENU_EXPAND,PANEL,CALL_SOUND from "USER"
        <where>
            <if test="menuType != null">
                and MENU_TYPE = #{menuType},
            </if>
            <if test="theme != null">
                and THEME = #{theme},
            </if>
            <if test="bkground != null">
                and BKGROUND = #{bkground},
            </if>
            <if test="menuExpand != null">
                and MENU_EXPAND = #{menuExpand},
            </if>
            <if test="panel != null">
                and PANEL = #{panel}
            </if>
            <if test="callSound != null">
                and CALL_SOUND = #{callSound}
            </if>
        </where>
    </select>
    <select id="getLoginUserCount" resultType="java.lang.Integer" >
        SELECT count(uid) from user where not_login = 0
    </select>
    <select id="getLoginUserCount" resultType="java.lang.Integer" databaseId="oracle">
        SELECT count("UID") from "USER" where not_login = 0
    </select>
    <select id="getLoginUserCount" resultType="java.lang.Integer" databaseId="dm">
        SELECT count("UID") from "USER" where not_login = 0
    </select>
    <update id="updateUserTheme" parameterType="com.myoa.model.users.Users">
        update user
        <set>
            <if test="menuType != null and menuType != ''">
                MENU_TYPE = #{menuType},
            </if>
            <if test="theme != null">
                THEME = #{theme},
            </if>
            <if test="panel != null">
                PANEL = #{panel},
            </if>
            <if test="bkground != null">
                BKGROUND = #{bkground},
            </if>
            <if test="menuExpand != null">
                MENU_EXPAND = #{menuExpand},
            </if>

            <if test="callSound != null">
                CALL_SOUND = #{callSound}
            </if>
        </set>
        where UID = #{uid}
    </update>
	
	 <update id="updateUserTheme" parameterType="com.myoa.model.users.Users"  databaseId="oracle">
        update "USER"
        <set>
            <if test="menuType != null and menuType != ''">
                MENU_TYPE = #{menuType},
            </if>
            <if test="theme != null">
                THEME = #{theme},
            </if>
            <if test="panel != null">
                PANEL = #{panel},
            </if>
            <if test="bkground != null">
                BKGROUND = #{bkground},
            </if>
            <if test="menuExpand != null">
                MENU_EXPAND = #{menuExpand},
            </if>

            <if test="callSound != null">
                CALL_SOUND = #{callSound}
            </if>
        </set>
        where "UID" = #{uid}
    </update>

    <update id="updateUserTheme" parameterType="com.myoa.model.users.Users" databaseId="dm">
        update "USER"
        <set>
            <if test="menuType != null and menuType != ''">
                MENU_TYPE = #{menuType},
            </if>
            <if test="theme != null">
                THEME = #{theme},
            </if>
            <if test="panel != null">
                PANEL = #{panel},
            </if>
            <if test="bkground != null">
                BKGROUND = #{bkground},
            </if>
            <if test="menuExpand != null">
                MENU_EXPAND = #{menuExpand},
            </if>

            <if test="callSound != null">
                CALL_SOUND = #{callSound}
            </if>
        </set>
        where "UID" = #{uid}
    </update>


    <select id="queryExportUsers" parameterType="map" resultMap="UserResultMap">
        select u.* ,ue.DUTY_TYPE
        <if test="deptIda != 0 ">
            , d.DEPT_NAME
        </if>
        from user u
        <if  test="deptIda!=0">
            , department d
        </if>
        ,user_ext ue where
        u.user_id is not null
        and u.uid=ue.uid
        <if test="deptIda != 0 " >
            and  u.DEPT_ID=d.DEPT_ID
        </if>
        <if test="byname!=null and byname!='' ">
            and u.byname like concat("%", #{byname},"%")
        </if>
        <if test="userName!=null and userName!='' ">
            and u.user_name like concat("%", #{userName},"%")
        </if>
        <if test="mobilNo!=null and mobilNo!='' ">
            and u.mobil_no = #{mobilNo}
        </if>
        <if test="sex!=null and sex !='' " >
            and u.sex = #{sex}
        </if>
        <if test="postPriv!=null and postPriv!='' ">
            and u.post_Priv = #{postPriv}
        </if>
        <if test="notLogin != null and notLogin !='' or notLogin ==0 ">
            and u.NOT_LOGIN = ${notLogin}
        </if>
        <if test="notViewUser!=null and notViewUser!=''">
            AND u.not_View_User = #{notViewUser}
        </if>
        <if test="notViewTable!=null and notViewTable!=''">
            AND u.not_View_Table = #{notViewTable}
        </if>
        <if test="dutyType!=null and dutyType!=0 ">
            AND ue.DUTY_TYPE = #{dutyType}
        </if>

        <if test="deptIda==0">
            AND u.dept_id = 0
        </if>


        <if test="userPrivs!=null">
            <foreach collection="userPrivs" item="userPriv" open="and u.user_priv in (" close=")" separator="," >
                <if test="userPriv!=null and userPriv!=0" >
                    ${userPriv}
                </if>
            </foreach>
        </if>

        <if test="deptIds!=null">
            <foreach collection="deptIds" item="deptId" open="and u.dept_Id in (" close=")" separator="," >
                <if test="deptId!=null and deptId!=0">
                    ${deptId}
                </if>
            </foreach>
        </if>

        <if test=" deptIda > 0 " >
            OR (u.DEPT_ID_OTHER LIKE CONCAT('%,',#{deptIda},',%') OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptIda},',%'))
        </if>

        ORDER BY
        <if test="deptIda != 0 " >
            d.DEPT_NO,
        </if>
        u.user_priv_no,u.user_no

        <if test="sortType!=null and sortType=='desc' " >
             ,u.LAST_VISIT_TIME desc
        </if>
        <if test="sortType!=null and sortType=='asc' " >
             ,u.LAST_VISIT_TIME ASC
        </if>

    </select>
    <select id="queryExportUsers" parameterType="map" resultMap="UserResultMap" databaseId="oracle">
        select u.* ,ue.DUTY_TYPE
        <if test="deptIda != 0 ">
            , d.DEPT_NAME
        </if>
        from "USER" u
        <if  test="deptIda!=0">
            , department d
        </if>
        ,user_ext ue where
        u.user_id is not null
        and u."UID"=ue."UID"
        <if test="deptIda != 0 " >
            and  u.DEPT_ID=d.DEPT_ID
        </if>
        <if test="byname!=null and byname!='' ">
            and u.byname like concat(concat('%',#{byname}),'%')
        </if>
        <if test="userName!=null and userName!='' ">
            and u.user_name like concat(concat('%',#{userName}),'%')
        </if>
        <if test="mobilNo!=null and mobilNo!='' ">
            and u.mobil_no = #{mobilNo}
        </if>
        <if test="sex!=null and sex !='' " >
            and u.sex = #{sex}
        </if>
        <if test="postPriv!=null and postPriv!='' ">
            and u.post_Priv = #{postPriv}
        </if>
        <if test="notLogin != null and notLogin !='' or notLogin ==0 ">
            and u.NOT_LOGIN = ${notLogin}
        </if>
        <if test="notViewUser!=null and notViewUser!=''">
            AND u.not_View_User = #{notViewUser}
        </if>
        <if test="notViewTable!=null and notViewTable!=''">
            AND u.not_View_Table = #{notViewTable}
        </if>
        <if test="dutyType!=null and dutyType!=0 ">
            AND ue.DUTY_TYPE = #{dutyType}
        </if>

        <if test="deptIda==0">
            AND u.dept_id = 0
        </if>


        <if test="userPrivs!=null">
            <foreach collection="userPrivs" item="userPriv" open="and u.user_priv in (" close=")" separator="," >
                <if test="userPriv!=null and userPriv!=0" >
                    ${userPriv}
                </if>
            </foreach>
        </if>

        <if test="deptIds!=null">
            <foreach collection="deptIds" item="deptId" open="and u.dept_Id in (" close=")" separator="," >
                <if test="deptId!=null and deptId!=0">
                    ${deptId}
                </if>
            </foreach>
        </if>

        <if test=" deptIda > 0 " >
            OR (u.DEPT_ID_OTHER LIKE CONCAT(CONCAT('%,',#{deptIda}),',%') OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptIda},',%'))
        </if>

        ORDER BY
        <if test="deptIda != 0 " >
            d.DEPT_NO,
        </if>
        u.user_priv_no,u.user_no

        <if test="sortType!=null and sortType=='desc' " >
            ,u.LAST_VISIT_TIME desc
        </if>
        <if test="sortType!=null and sortType=='asc' " >
            ,u.LAST_VISIT_TIME ASC
        </if>

    </select>
    <select id="queryExportUsers" parameterType="map" resultMap="UserResultMap" databaseId="dm">
        select u.* ,ue.DUTY_TYPE
        <if test="deptIda != 0 ">
            , d.DEPT_NAME
        </if>
        from "USER" u
        <if  test="deptIda!=0">
            , department d
        </if>
        ,user_ext ue where
        u.user_id is not null
        and u.uid=ue.uid
        <if test="deptIda != 0 " >
            and  u.DEPT_ID=d.DEPT_ID
        </if>
        <if test="byname!=null and byname!='' ">
            and u.byname like concat("%#{byname}","%")
        </if>
        <if test="userName!=null and userName!='' ">
            and u.user_name like concat("%#{userName}","%")
        </if>
        <if test="mobilNo!=null and mobilNo!='' ">
            and u.mobil_no = #{mobilNo}
        </if>
        <if test="sex!=null and sex !='' " >
            and u.sex = #{sex}
        </if>
        <if test="postPriv!=null and postPriv!='' ">
            and u.post_Priv = #{postPriv}
        </if>
        <if test="notLogin != null and notLogin !='' or notLogin ==0 ">
            and u.NOT_LOGIN = ${notLogin}
        </if>
        <if test="notViewUser!=null and notViewUser!=''">
            AND u.not_View_User = #{notViewUser}
        </if>
        <if test="notViewTable!=null and notViewTable!=''">
            AND u.not_View_Table = #{notViewTable}
        </if>
        <if test="dutyType!=null and dutyType!=0 ">
            AND ue.DUTY_TYPE = #{dutyType}
        </if>

        <if test="deptIda==0">
            AND u.dept_id = 0
        </if>


        <if test="userPrivs!=null">
            <foreach collection="userPrivs" item="userPriv" open="and u.user_priv in (" close=")" separator="," >
                <if test="userPriv!=null and userPriv!=0" >
                    ${userPriv}
                </if>
            </foreach>
        </if>

        <if test="deptIds!=null">
            <foreach collection="deptIds" item="deptId" open="and u.dept_Id in (" close=")" separator="," >
                <if test="deptId!=null and deptId!=0">
                    ${deptId}
                </if>
            </foreach>
        </if>

        <if test=" deptIda > 0 " >
            OR (u.DEPT_ID_OTHER LIKE CONCAT("%,#{deptIda}",",%") OR u.DEPT_ID_OTHER LIKE CONCAT(#{deptIda},",%"))
        </if>

        ORDER BY
        <if test="deptIda != 0 " >
            d.DEPT_NO,
        </if>
        u.user_priv_no,u.user_no

        <if test="sortType!=null and sortType=='desc' " >
            ,u.LAST_VISIT_TIME desc
        </if>
        <if test="sortType!=null and sortType=='asc' " >
            ,u.LAST_VISIT_TIME ASC
        </if>

    </select>
    <update id="editUserBatch" >
        update user
        <set>
            <if test="user.userId != null and user.userId !=''">
                USER_ID = #{user.userId},
            </if>
            <if test="user.userName != null and user.userName !=''">
                USER_NAME = #{user.userName},
            </if>
            <if test="user.userNameIndex != null and user.userNameIndex !=''">
                USER_NAME_INDEX = #{user.userNameIndex},
            </if>
            <if test="user.byname != null and user.byname !=''">
                BYNAME = #{user.byname},
            </if>
            <if test="user.useingKey != null and user.useingKey !=''">
                USEING_KEY = #{user.useingKey},
            </if>
            <if test="user.usingFinger != null and user.usingFinger !=''">
                USING_FINGER = #{user.usingFinger},
            </if>
            <if test="user.password != null and user.password !=''">
                PASSWORD = #{user.password},
            </if>
            <if test="user.keySn != null and user.keySn !=''">
                KEY_SN = #{user.keySn},
            </if>
            <if test="user.secureKeySn != null and user.secureKeySn !=''">
                SECURE_KEY_SN = #{user.secureKeySn},
            </if>
            <if test="user.userPriv != null and user.userPriv !='' ">
                USER_PRIV = #{user.userPriv},
            </if>
            <if test="user.userPrivNo != null and user.userPrivNo !=''">
                USER_PRIV_NO = #{user.userPrivNo},
            </if>
            <if test="user.userPrivName != null and user.userPrivName !=''">
                USER_PRIV_NAME = #{user.userPrivName},
            </if>
            <if test="user.postPriv != null and user.postPriv !=''or user.postPriv==0 ">
                POST_PRIV = #{user.postPriv},
            </if>
            <if test="user.postDept != null and user.postDept !=''">
                POST_DEPT = #{user.postDept},
            </if>
            <if test="user.deptId != null and user.deptId !='' or user.deptId ==0 ">
                DEPT_ID = #{user.deptId},
            </if>
            <if test="user.deptIdOther != null and user.deptIdOther !=''">
                DEPT_ID_OTHER = #{user.deptIdOther},
            </if>
            <if test="user.sex != null and user.sex !=''">
                SEX = #{user.sex},
            </if>
            <if test="user.birthday != null ">
                BIRTHDAY = #{user.birthday},
            </if>
            <if test="user.isLunar != null and user.isLunar !='' or user.isLunar == 0 ">
                IS_LUNAR = #{user.isLunar},
            </if>
            <if test="user.telNoDept != null">
                TEL_NO_DEPT = #{user.telNoDept},
            </if>
            <if test="user.faxNoDept != null and user.faxNoDept !=''">
                FAX_NO_DEPT = #{user.faxNoDept},
            </if>
            <if test="user.addHome != null and user.addHome !=''">
                ADD_HOME = #{user.addHome},
            </if>
            <if test="user.postNoHome != null and user.postNoHome !=''">
                POST_NO_HOME = #{user.postNoHome},
            </if>
            <if test="user.telNoHome != null and user.telNoHome !=''">
                TEL_NO_HOME = #{user.telNoHome},
            </if>
            <if test="user.mobilNo != null ">
                MOBIL_NO = #{user.mobilNo},
            </if>
            <if test="user.bpNo != null and user.bpNo !=''">
                BP_NO = #{user.bpNo},
            </if>
            <if test="user.email != null ">
                EMAIL = #{user.email},
            </if>
            <if test="user.oicqNo != null ">
                OICQ_NO = #{user.oicqNo},
            </if>
            <if test="user.icqNo != null">
                ICQ_NO = #{user.icqNo},
            </if>
            <if test="user.msn != null ">
                MSN = #{user.msn},
            </if>
            <if test="user.avatar != null ">
                AVATAR = #{user.avatar},
            </if>
            <if test="user.callSound != null and user.callSound !=''">
                CALL_SOUND = #{user.callSound},
            </if>
            <if test="user.lastVisitTime != null and user.lastVisitTime !=''">
                LAST_VISIT_TIME = #{user.lastVisitTime},
            </if>
            <if test="user.smsOn != null and user.smsOn !='' or user.smsOn ==0 ">
                SMS_ON = #{user.smsOn},
            </if>
            <if test="user.menuType != null and user.menuType !=''">
                MENU_TYPE = #{user.menuType},
            </if>
            <if test="user.lastPassTime != null and user.lastPassTime !=''">
                LAST_PASS_TIME = #{user.lastPassTime},
            </if>
            <if test="user.theme != null and user.theme !=''">
                THEME = #{user.theme},
            </if>
            <if test="user.portal != null and user.portal !=''">
                PORTAL = #{user.portal},
            </if>
            <if test="user.panel != null and user.panel !=''">
                PANEL = #{user.panel},
            </if>
            <if test="user.online != null and user.online !=''">
                ONLINE = #{user.online},
            </if>
            <if test="user.onStatus != null and user.onStatus !=''">
                ON_STATUS = #{user.onStatus},
            </if>
            <if test="user.attendStatus != null and user.attendStatus !=''">
                ATTEND_STATUS = #{user.attendStatus},
            </if>
            <if test="user.mobilNoHidden != null and user.mobilNoHidden !='' or user.mobilNoHidden==0 ">
                MOBIL_NO_HIDDEN = #{user.mobilNoHidden},
            </if>
            <if test="user.mytableLeft != null and user.mytableLeft !=''">
                MYTABLE_LEFT = #{user.mytableLeft},
            </if>
            <if test="user.mytableRight != null and user.mytableRight !=''">
                MYTABLE_RIGHT = #{user.mytableRight},
            </if>
            <if test="user.userPrivOther != null and user.userPrivOther !=''">
                USER_PRIV_OTHER = #{user.userPrivOther},
            </if>
            <if test="user.userNo != null and user.userNo !=''">
                USER_NO = #{user.userNo},
            </if>
            <if test="user.notLogin != null and user.notLogin !='' or user.notLogin == 0 ">
                NOT_LOGIN = #{user.notLogin},
            </if>
            <if test="user.notViewUser != null and user.notViewUser !='' or user.notViewUser==0 ">
                NOT_VIEW_USER = #{user.notViewUser},
            </if>
            <if test="user.notViewTable != null and user.notViewTable !='' or user.notViewTable==0 ">
                NOT_VIEW_TABLE = #{user.notViewTable},
            </if>
            <if test="user.notSearch != null and user.notSearch !='' or user.notSearch==0 ">
                NOT_SEARCH = #{user.notSearch},
            </if>
            <if test="user.bkground != null and user.bkground !=''">
                BKGROUND = #{user.bkground},
            </if>
            <if test="user.bindIp != null and user.bindIp !=''">
                BIND_IP = #{user.bindIp},
            </if>
            <if test="user.lastVisitIp != null and user.lastVisitIp !=''">
                LAST_VISIT_IP = #{user.lastVisitIp},
            </if>
            <if test="user.menuImage != null and user.menuImage !='' or user.menuImage==0 ">
                MENU_IMAGE = #{user.menuImage},
            </if>
            <if test="user.weatherCity != null and user.weatherCity !=''">
                WEATHER_CITY = #{user.weatherCity},
            </if>
            <if test="user.showRss != null and user.showRss !=''">
                SHOW_RSS = #{user.showRss},
            </if>
            <if test="user.menuExpand != null and user.menuExpand !=''">
                MENU_EXPAND = #{user.menuExpand},
            </if>
            <if test="user.myStatus != null and user.myStatus !=''">
                MY_STATUS = #{user.myStatus},
            </if>
            <if test="user.limitLogin != null and user.limitLogin !=''">
                LIMIT_LOGIN = #{user.limitLogin},
            </if>
            <if test="user.photo != null and user.photo !=''">
                PHOTO = #{user.photo},
            </if>
            <if test="user.imRange != null and user.imRange !=''">
                IM_RANGE = #{user.imRange},
            </if>
            <if test="user.leaveTime != null and user.leaveTime !=''">
                LEAVE_TIME = #{user.leaveTime},
            </if>
            <if test="user.secretLevel != null and user.secretLevel !=''">
                SECRET_LEVEL = #{user.secretLevel},
            </if>
            <if test="user.notMobileLogin != null and user.notMobileLogin !='' or user.notMobileLogin==0 ">
                NOT_MOBILE_LOGIN = #{user.notMobileLogin},
            </if>
            <if test="user.manageModuleType != null and user.manageModuleType !=''">
                MANAGE_MODULE_TYPE = #{user.manageModuleType},
            </if>
            <if test="user.userPrivType != null and user.userPrivType !=''">
                USER_PRIV_TYPE = #{user.userPrivType},
            </if>
            <if test="user.userManageOrgs != null and user.userManageOrgs !=''">
                USER_MANAGE_ORGS = #{user.userManageOrgs},
            </if>
            <if test="user.shortcut != null and user.shortcut !=''">
                SHORTCUT = #{user.shortcut},
            </if>
            <if test="user.myRss != null and user.myRss !=''">
                MY_RSS = #{user.myRss},
            </if>
            <if test="user.remark != null and user.remark !=''">
                REMARK = #{user.remark},
            </if>
            <if test="user.userPara != null and user.userPara !=''">
                USER_PARA = #{user.userPara}
            </if>
        </set>
        WHERE uid in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>
    <update id="editUserBatch" databaseId="oracle">
        update "USER"
        <set>
            <if test="user.userId != null and user.userId !=''">
                USER_ID = #{user.userId},
            </if>
            <if test="user.userName != null and user.userName !=''">
                USER_NAME = #{user.userName},
            </if>
            <if test="user.userNameIndex != null and user.userNameIndex !=''">
                USER_NAME_INDEX = #{user.userNameIndex},
            </if>
            <if test="user.byname != null and user.byname !=''">
                BYNAME = #{user.byname},
            </if>
            <if test="user.useingKey != null and user.useingKey !=''">
                USEING_KEY = #{user.useingKey},
            </if>
            <if test="user.usingFinger != null and user.usingFinger !=''">
                USING_FINGER = #{user.usingFinger},
            </if>
            <if test="user.password != null and user.password !=''">
                PASSWORD = #{user.password},
            </if>
            <if test="user.keySn != null and user.keySn !=''">
                KEY_SN = #{user.keySn},
            </if>
            <if test="user.secureKeySn != null and user.secureKeySn !=''">
                SECURE_KEY_SN = #{user.secureKeySn},
            </if>
            <if test="user.userPriv != null and user.userPriv !='' ">
                USER_PRIV = #{user.userPriv},
            </if>
            <if test="user.userPrivNo != null and user.userPrivNo !=''">
                USER_PRIV_NO = #{user.userPrivNo},
            </if>
            <if test="user.userPrivName != null and user.userPrivName !=''">
                USER_PRIV_NAME = #{user.userPrivName},
            </if>
            <if test="user.postPriv != null and user.postPriv !=''or user.postPriv==0 ">
                POST_PRIV = #{user.postPriv},
            </if>
            <if test="user.postDept != null and user.postDept !=''">
                POST_DEPT = #{user.postDept},
            </if>
            <if test="user.deptId != null and user.deptId !='' or user.deptId ==0 ">
                DEPT_ID = #{user.deptId},
            </if>
            <if test="user.deptIdOther != null and user.deptIdOther !=''">
                DEPT_ID_OTHER = #{user.deptIdOther},
            </if>
            <if test="user.sex != null and user.sex !=''">
                SEX = #{user.sex},
            </if>
            <if test="user.birthday != null ">
                BIRTHDAY = #{user.birthday},
            </if>
            <if test="user.isLunar != null and user.isLunar !='' or user.isLunar == 0 ">
                IS_LUNAR = #{user.isLunar},
            </if>
            <if test="user.telNoDept != null">
                TEL_NO_DEPT = #{user.telNoDept},
            </if>
            <if test="user.faxNoDept != null and user.faxNoDept !=''">
                FAX_NO_DEPT = #{user.faxNoDept},
            </if>
            <if test="user.addHome != null and user.addHome !=''">
                ADD_HOME = #{user.addHome},
            </if>
            <if test="user.postNoHome != null and user.postNoHome !=''">
                POST_NO_HOME = #{user.postNoHome},
            </if>
            <if test="user.telNoHome != null and user.telNoHome !=''">
                TEL_NO_HOME = #{user.telNoHome},
            </if>
            <if test="user.mobilNo != null ">
                MOBIL_NO = #{user.mobilNo},
            </if>
            <if test="user.bpNo != null and user.bpNo !=''">
                BP_NO = #{user.bpNo},
            </if>
            <if test="user.email != null ">
                EMAIL = #{user.email},
            </if>
            <if test="user.oicqNo != null ">
                OICQ_NO = #{user.oicqNo},
            </if>
            <if test="user.icqNo != null">
                ICQ_NO = #{user.icqNo},
            </if>
            <if test="user.msn != null ">
                MSN = #{user.msn},
            </if>
            <if test="user.avatar != null ">
                AVATAR = #{user.avatar},
            </if>
            <if test="user.callSound != null and user.callSound !=''">
                CALL_SOUND = #{user.callSound},
            </if>
            <if test="user.lastVisitTime != null and user.lastVisitTime !=''">
                LAST_VISIT_TIME = #{user.lastVisitTime},
            </if>
            <if test="user.smsOn != null and user.smsOn !='' or user.smsOn ==0 ">
                SMS_ON = #{user.smsOn},
            </if>
            <if test="user.menuType != null and user.menuType !=''">
                MENU_TYPE = #{user.menuType},
            </if>
            <if test="user.lastPassTime != null and user.lastPassTime !=''">
                LAST_PASS_TIME = #{user.lastPassTime},
            </if>
            <if test="user.theme != null and user.theme !=''">
                THEME = #{user.theme},
            </if>
            <if test="user.portal != null and user.portal !=''">
                PORTAL = #{user.portal},
            </if>
            <if test="user.panel != null and user.panel !=''">
                PANEL = #{user.panel},
            </if>
            <if test="user.online != null and user.online !=''">
                ONLINE = #{user.online},
            </if>
            <if test="user.onStatus != null and user.onStatus !=''">
                ON_STATUS = #{user.onStatus},
            </if>
            <if test="user.attendStatus != null and user.attendStatus !=''">
                ATTEND_STATUS = #{user.attendStatus},
            </if>
            <if test="user.mobilNoHidden != null and user.mobilNoHidden !='' or user.mobilNoHidden==0 ">
                MOBIL_NO_HIDDEN = #{user.mobilNoHidden},
            </if>
            <if test="user.mytableLeft != null and user.mytableLeft !=''">
                MYTABLE_LEFT = #{user.mytableLeft},
            </if>
            <if test="user.mytableRight != null and user.mytableRight !=''">
                MYTABLE_RIGHT = #{user.mytableRight},
            </if>
            <if test="user.userPrivOther != null and user.userPrivOther !=''">
                USER_PRIV_OTHER = #{user.userPrivOther},
            </if>
            <if test="user.userNo != null and user.userNo !=''">
                USER_NO = #{user.userNo},
            </if>
            <if test="user.notLogin != null and user.notLogin !='' or user.notLogin == 0 ">
                NOT_LOGIN = #{user.notLogin},
            </if>
            <if test="user.notViewUser != null and user.notViewUser !='' or user.notViewUser==0 ">
                NOT_VIEW_USER = #{user.notViewUser},
            </if>
            <if test="user.notViewTable != null and user.notViewTable !='' or user.notViewTable==0 ">
                NOT_VIEW_TABLE = #{user.notViewTable},
            </if>
            <if test="user.notSearch != null and user.notSearch !='' or user.notSearch==0 ">
                NOT_SEARCH = #{user.notSearch},
            </if>
            <if test="user.bkground != null and user.bkground !=''">
                BKGROUND = #{user.bkground},
            </if>
            <if test="user.bindIp != null and user.bindIp !=''">
                BIND_IP = #{user.bindIp},
            </if>
            <if test="user.lastVisitIp != null and user.lastVisitIp !=''">
                LAST_VISIT_IP = #{user.lastVisitIp},
            </if>
            <if test="user.menuImage != null and user.menuImage !='' or user.menuImage==0 ">
                MENU_IMAGE = #{user.menuImage},
            </if>
            <if test="user.weatherCity != null and user.weatherCity !=''">
                WEATHER_CITY = #{user.weatherCity},
            </if>
            <if test="user.showRss != null and user.showRss !=''">
                SHOW_RSS = #{user.showRss},
            </if>
            <if test="user.menuExpand != null and user.menuExpand !=''">
                MENU_EXPAND = #{user.menuExpand},
            </if>
            <if test="user.myStatus != null and user.myStatus !=''">
                MY_STATUS = #{user.myStatus},
            </if>
            <if test="user.limitLogin != null and user.limitLogin !=''">
                LIMIT_LOGIN = #{user.limitLogin},
            </if>
            <if test="user.photo != null and user.photo !=''">
                PHOTO = #{user.photo},
            </if>
            <if test="user.imRange != null and user.imRange !=''">
                IM_RANGE = #{user.imRange},
            </if>
            <if test="user.leaveTime != null and user.leaveTime !=''">
                LEAVE_TIME = #{user.leaveTime},
            </if>
            <if test="user.secretLevel != null and user.secretLevel !=''">
                SECRET_LEVEL = #{user.secretLevel},
            </if>
            <if test="user.notMobileLogin != null and user.notMobileLogin !='' or user.notMobileLogin==0 ">
                NOT_MOBILE_LOGIN = #{user.notMobileLogin},
            </if>
            <if test="user.manageModuleType != null and user.manageModuleType !=''">
                MANAGE_MODULE_TYPE = #{user.manageModuleType},
            </if>
            <if test="user.userPrivType != null and user.userPrivType !=''">
                USER_PRIV_TYPE = #{user.userPrivType},
            </if>
            <if test="user.userManageOrgs != null and user.userManageOrgs !=''">
                USER_MANAGE_ORGS = #{user.userManageOrgs},
            </if>
            <if test="user.shortcut != null and user.shortcut !=''">
                SHORTCUT = #{user.shortcut},
            </if>
            <if test="user.myRss != null and user.myRss !=''">
                MY_RSS = #{user.myRss},
            </if>
            <if test="user.remark != null and user.remark !=''">
                REMARK = #{user.remark},
            </if>
            <if test="user.userPara != null and user.userPara !=''">
                USER_PARA = #{user.userPara}
            </if>
        </set>
        WHERE "UID" in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>
    <update id="editUserBatch" databaseId="dm">
        update "USER"
        <set>
            <if test="user.userId != null and user.userId !=''">
                USER_ID = #{user.userId},
            </if>
            <if test="user.userName != null and user.userName !=''">
                USER_NAME = #{user.userName},
            </if>
            <if test="user.userNameIndex != null and user.userNameIndex !=''">
                USER_NAME_INDEX = #{user.userNameIndex},
            </if>
            <if test="user.byname != null and user.byname !=''">
                BYNAME = #{user.byname},
            </if>
            <if test="user.useingKey != null and user.useingKey !=''">
                USEING_KEY = #{user.useingKey},
            </if>
            <if test="user.usingFinger != null and user.usingFinger !=''">
                USING_FINGER = #{user.usingFinger},
            </if>
            <if test="user.password != null and user.password !=''">
                PASSWORD = #{user.password},
            </if>
            <if test="user.keySn != null and user.keySn !=''">
                KEY_SN = #{user.keySn},
            </if>
            <if test="user.secureKeySn != null and user.secureKeySn !=''">
                SECURE_KEY_SN = #{user.secureKeySn},
            </if>
            <if test="user.userPriv != null and user.userPriv !='' ">
                USER_PRIV = #{user.userPriv},
            </if>
            <if test="user.userPrivNo != null and user.userPrivNo !=''">
                USER_PRIV_NO = #{user.userPrivNo},
            </if>
            <if test="user.userPrivName != null and user.userPrivName !=''">
                USER_PRIV_NAME = #{user.userPrivName},
            </if>
            <if test="user.postPriv != null and user.postPriv !=''or user.postPriv==0 ">
                POST_PRIV = #{user.postPriv},
            </if>
            <if test="user.postDept != null and user.postDept !=''">
                POST_DEPT = #{user.postDept},
            </if>
            <if test="user.deptId != null and user.deptId !='' or user.deptId ==0 ">
                DEPT_ID = #{user.deptId},
            </if>
            <if test="user.deptIdOther != null and user.deptIdOther !=''">
                DEPT_ID_OTHER = #{user.deptIdOther},
            </if>
            <if test="user.sex != null and user.sex !=''">
                SEX = #{user.sex},
            </if>
            <if test="user.birthday != null ">
                BIRTHDAY = #{user.birthday},
            </if>
            <if test="user.isLunar != null and user.isLunar !='' or user.isLunar == 0 ">
                IS_LUNAR = #{user.isLunar},
            </if>
            <if test="user.telNoDept != null">
                TEL_NO_DEPT = #{user.telNoDept},
            </if>
            <if test="user.faxNoDept != null and user.faxNoDept !=''">
                FAX_NO_DEPT = #{user.faxNoDept},
            </if>
            <if test="user.addHome != null and user.addHome !=''">
                ADD_HOME = #{user.addHome},
            </if>
            <if test="user.postNoHome != null and user.postNoHome !=''">
                POST_NO_HOME = #{user.postNoHome},
            </if>
            <if test="user.telNoHome != null and user.telNoHome !=''">
                TEL_NO_HOME = #{user.telNoHome},
            </if>
            <if test="user.mobilNo != null ">
                MOBIL_NO = #{user.mobilNo},
            </if>
            <if test="user.bpNo != null and user.bpNo !=''">
                BP_NO = #{user.bpNo},
            </if>
            <if test="user.email != null ">
                EMAIL = #{user.email},
            </if>
            <if test="user.oicqNo != null ">
                OICQ_NO = #{user.oicqNo},
            </if>
            <if test="user.icqNo != null">
                ICQ_NO = #{user.icqNo},
            </if>
            <if test="user.msn != null ">
                MSN = #{user.msn},
            </if>
            <if test="user.avatar != null ">
                AVATAR = #{user.avatar},
            </if>
            <if test="user.callSound != null and user.callSound !=''">
                CALL_SOUND = #{user.callSound},
            </if>
            <if test="user.lastVisitTime != null and user.lastVisitTime !=''">
                LAST_VISIT_TIME = #{user.lastVisitTime},
            </if>
            <if test="user.smsOn != null and user.smsOn !='' or user.smsOn ==0 ">
                SMS_ON = #{user.smsOn},
            </if>
            <if test="user.menuType != null and user.menuType !=''">
                MENU_TYPE = #{user.menuType},
            </if>
            <if test="user.lastPassTime != null and user.lastPassTime !=''">
                LAST_PASS_TIME = #{user.lastPassTime},
            </if>
            <if test="user.theme != null and user.theme !=''">
                THEME = #{user.theme},
            </if>
            <if test="user.portal != null and user.portal !=''">
                PORTAL = #{user.portal},
            </if>
            <if test="user.panel != null and user.panel !=''">
                PANEL = #{user.panel},
            </if>
            <if test="user.online != null and user.online !=''">
                ONLINE = #{user.online},
            </if>
            <if test="user.onStatus != null and user.onStatus !=''">
                ON_STATUS = #{user.onStatus},
            </if>
            <if test="user.attendStatus != null and user.attendStatus !=''">
                ATTEND_STATUS = #{user.attendStatus},
            </if>
            <if test="user.mobilNoHidden != null and user.mobilNoHidden !='' or user.mobilNoHidden==0 ">
                MOBIL_NO_HIDDEN = #{user.mobilNoHidden},
            </if>
            <if test="user.mytableLeft != null and user.mytableLeft !=''">
                MYTABLE_LEFT = #{user.mytableLeft},
            </if>
            <if test="user.mytableRight != null and user.mytableRight !=''">
                MYTABLE_RIGHT = #{user.mytableRight},
            </if>
            <if test="user.userPrivOther != null and user.userPrivOther !=''">
                USER_PRIV_OTHER = #{user.userPrivOther},
            </if>
            <if test="user.userNo != null and user.userNo !=''">
                USER_NO = #{user.userNo},
            </if>
            <if test="user.notLogin != null and user.notLogin !='' or user.notLogin == 0 ">
                NOT_LOGIN = #{user.notLogin},
            </if>
            <if test="user.notViewUser != null and user.notViewUser !='' or user.notViewUser==0 ">
                NOT_VIEW_USER = #{user.notViewUser},
            </if>
            <if test="user.notViewTable != null and user.notViewTable !='' or user.notViewTable==0 ">
                NOT_VIEW_TABLE = #{user.notViewTable},
            </if>
            <if test="user.notSearch != null and user.notSearch !='' or user.notSearch==0 ">
                NOT_SEARCH = #{user.notSearch},
            </if>
            <if test="user.bkground != null and user.bkground !=''">
                BKGROUND = #{user.bkground},
            </if>
            <if test="user.bindIp != null and user.bindIp !=''">
                BIND_IP = #{user.bindIp},
            </if>
            <if test="user.lastVisitIp != null and user.lastVisitIp !=''">
                LAST_VISIT_IP = #{user.lastVisitIp},
            </if>
            <if test="user.menuImage != null and user.menuImage !='' or user.menuImage==0 ">
                MENU_IMAGE = #{user.menuImage},
            </if>
            <if test="user.weatherCity != null and user.weatherCity !=''">
                WEATHER_CITY = #{user.weatherCity},
            </if>
            <if test="user.showRss != null and user.showRss !=''">
                SHOW_RSS = #{user.showRss},
            </if>
            <if test="user.menuExpand != null and user.menuExpand !=''">
                MENU_EXPAND = #{user.menuExpand},
            </if>
            <if test="user.myStatus != null and user.myStatus !=''">
                MY_STATUS = #{user.myStatus},
            </if>
            <if test="user.limitLogin != null and user.limitLogin !=''">
                LIMIT_LOGIN = #{user.limitLogin},
            </if>
            <if test="user.photo != null and user.photo !=''">
                PHOTO = #{user.photo},
            </if>
            <if test="user.imRange != null and user.imRange !=''">
                IM_RANGE = #{user.imRange},
            </if>
            <if test="user.leaveTime != null and user.leaveTime !=''">
                LEAVE_TIME = #{user.leaveTime},
            </if>
            <if test="user.secretLevel != null and user.secretLevel !=''">
                SECRET_LEVEL = #{user.secretLevel},
            </if>
            <if test="user.notMobileLogin != null and user.notMobileLogin !='' or user.notMobileLogin==0 ">
                NOT_MOBILE_LOGIN = #{user.notMobileLogin},
            </if>
            <if test="user.manageModuleType != null and user.manageModuleType !=''">
                MANAGE_MODULE_TYPE = #{user.manageModuleType},
            </if>
            <if test="user.userPrivType != null and user.userPrivType !=''">
                USER_PRIV_TYPE = #{user.userPrivType},
            </if>
            <if test="user.userManageOrgs != null and user.userManageOrgs !=''">
                USER_MANAGE_ORGS = #{user.userManageOrgs},
            </if>
            <if test="user.shortcut != null and user.shortcut !=''">
                SHORTCUT = #{user.shortcut},
            </if>
            <if test="user.myRss != null and user.myRss !=''">
                MY_RSS = #{user.myRss},
            </if>
            <if test="user.remark != null and user.remark !=''">
                REMARK = #{user.remark},
            </if>
            <if test="user.userPara != null and user.userPara !=''">
                USER_PARA = #{user.userPara}
            </if>
        </set>
        WHERE "UID" in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
    </update>
    <select id="getUsersByDeptIds" resultMap="UserResultMap" >
        SELECT uid from user
        where
        dept_Id in
        <foreach item="deptId" collection="deptIds" open="(" separator="," close=")">
            <if test="deptId!=null and deptId != '' ">
                #{deptId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByDeptIds" resultMap="UserResultMap"  databaseId="oracle">
        SELECT "UID" from "USER"
        where
        dept_Id in
        <foreach item="deptId" collection="deptIds" open="(" separator="," close=")">
            <if test="deptId!=null and deptId != '' ">
                #{deptId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByDeptIds" resultMap="UserResultMap"  databaseId="dm">
        SELECT "UID" from "USER"
        where
        dept_Id in
        <foreach item="deptId" collection="deptIds" open="(" separator="," close=")">
            <if test="deptId!=null and deptId != '' ">
                #{deptId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByPrivIds" resultMap="UserResultMap" >
        SELECT * from user
        where
        USER_PRIV in
        <foreach item="privId" collection="privIds" open="(" separator="," close=")">
            <if test="privId!=null and privId != '' ">
                #{privId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>

    <select id="getUsersByPrivIds" resultMap="UserResultMap" databaseId="oracle">
        SELECT * from "USER"
        where
        USER_PRIV in
        <foreach item="privId" collection="privIds" open="(" separator="," close=")">
            <if test="privId!=null and privId != '' ">
                #{privId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByPrivIds" resultMap="UserResultMap" databaseId="dm">
        SELECT * from user
        where
        USER_PRIV in
        <foreach item="privId" collection="privIds" open="(" separator="," close=")">
            <if test="privId!=null and privId != '' ">
                #{privId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByDeptAndPriv" resultMap="UserResultMap" >
        SELECT uid from user
        where
        USER_PRIV in
        <foreach item="privId" collection="privIds" open="(" separator="," close=")">
            <if test="privId!=null and privId != '' ">
                #{privId}
            </if>
        </foreach>
        AND
        dept_Id in
        <foreach item="deptId" collection="deptids" open="(" separator="," close=")">
            <if test="deptId!=null and deptId != '' ">
                #{deptId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByDeptAndPriv" resultMap="UserResultMap"  databaseId="oracle">
        SELECT "UID" from "USER"
        where
        USER_PRIV in
        <foreach item="privId" collection="privIds" open="(" separator="," close=")">
            <if test="privId!=null and privId != '' ">
                #{privId}
            </if>
        </foreach>
        AND
        dept_Id in
        <foreach item="deptId" collection="deptids" open="(" separator="," close=")">
            <if test="deptId!=null and deptId != '' ">
                #{deptId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>
    <select id="getUsersByDeptAndPriv" resultMap="UserResultMap"  databaseId="dm">
        SELECT "UID" from "USER"
        where
        USER_PRIV in
        <foreach item="privId" collection="privIds" open="(" separator="," close=")">
            <if test="privId!=null and privId != '' ">
                #{privId}
            </if>
        </foreach>
        AND
        dept_Id in
        <foreach item="deptId" collection="deptids" open="(" separator="," close=")">
            <if test="deptId!=null and deptId != '' ">
                #{deptId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>

  <select id="getUsersByuserId" resultMap="UserResultMap" parameterType="java.lang.String">
       SELECT * FROM  user WHERE USER_ID=#{userId}
    </select>
    <select id="getUsersByuserId" resultMap="UserResultMap" parameterType="java.lang.String" databaseId="oracle">
        SELECT * FROM  "USER" WHERE USER_ID=#{userId}
    </select>
    <select id="getUsersByuserId" resultMap="UserResultMap" parameterType="java.lang.String" databaseId="dm">
        SELECT * FROM  "USER" WHERE USER_ID=#{userId}
    </select>

    <select id="unreadConsultTheSituationNotify"  parameterType="Map" resultMap="UserResultMap">
        SELECT
        u.*
        FROM
        notify n,
        `user` u
        WHERE
        n.NOTIFY_ID = #{notifyId}
        AND
      ((n.PRIV_ID LIKE concat('%,',u.USER_PRIV,',%')
				OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
				)OR(n.TO_ID LIKE concat('%,',u.DEPT_ID,',%')
				OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
				)OR(n.USER_ID LIKE concat('%,',n.USER_ID,',%')
				OR n.USER_ID LIKE concat(n.USER_ID,',%')
				)OR n.TO_ID = 'ALL_DEPT')

        AND FIND_IN_SET(u.USER_ID, n.READERS)=0
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="unreadConsultTheSituationNotify"  parameterType="Map" resultMap="UserResultMap" databaseId="dm">

        SELECT
        u.*
        FROM
        notify n,
        "USER" u
        WHERE
        n.NOTIFY_ID = #{notifyId}
        AND
        ((n.PRIV_ID LIKE concat('%,',u.USER_PRIV,',%')
        OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
        )OR(n.TO_ID LIKE concat('%,',u.DEPT_ID,',%')
        OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
        )OR(n.USER_ID LIKE concat('%,',n.USER_ID,',%')
        OR n.USER_ID LIKE concat(n.USER_ID,',%')
        )OR n.TO_ID = 'ALL_DEPT')

        AND FIND_IN_SET(u.USER_ID, n.READERS)=0
        ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="unreadConsultTheSituationNotify"  parameterType="Map" resultMap="UserResultMap" databaseId="oracle">

        SELECT
        u.*
        FROM
        notify n,
        "USER" u
        WHERE
        n.NOTIFY_ID = #{notifyId}
        AND
        (
        (n.PRIV_ID LIKE concat(concat('%,',u.USER_PRIV),',%')
        OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
        )
        OR(n.TO_ID LIKE concat(concat('%,',u.DEPT_ID),',%')
        OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
        )
        OR(n.USER_ID LIKE concat(concat('%,',n.USER_ID),',%')
        OR n.USER_ID LIKE concat(n.USER_ID,',%')
        )
        OR to_char(n.TO_ID) = 'ALL_DEPT'
        )
           AND    FIND_IN_SET(u.USER_ID, n.READERS)='0'
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="readConsultTheSituationNotify"  parameterType="Map" resultMap="UserResultMap">

        SELECT
        u.*
        FROM
        notify n,
        `user` u
        WHERE
        n.NOTIFY_ID = #{notifyId}
        AND
       ((n.PRIV_ID LIKE concat('%,',u.USER_PRIV,',%')
				OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
				)OR(n.TO_ID LIKE concat('%,',u.DEPT_ID,',%')
				OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
				)OR(n.USER_ID LIKE concat('%,',n.USER_ID,',%')
				OR n.USER_ID LIKE concat(n.USER_ID,',%')
				)OR n.TO_ID = 'ALL_DEPT')
        AND FIND_IN_SET(u.USER_ID, n.READERS)>0
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="readConsultTheSituationNotify"  parameterType="Map" resultMap="UserResultMap" databaseId="dm">

        SELECT
        u.*
        FROM
        notify n,
        "USER" u
        WHERE
        n.NOTIFY_ID = #{notifyId}
        AND
        ((n.PRIV_ID LIKE concat('%,',u.USER_PRIV,',%')
        OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
        )OR(n.TO_ID LIKE concat('%,',u.DEPT_ID,',%')
        OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
        )OR(n.USER_ID LIKE concat('%,',n.USER_ID,',%')
        OR n.USER_ID LIKE concat(n.USER_ID,',%')
        )OR n.TO_ID = 'ALL_DEPT')
        AND FIND_IN_SET(u.USER_ID, n.READERS)>0
        ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="readConsultTheSituationNotify"  parameterType="Map" resultMap="UserResultMap" databaseId="oracle">

        SELECT
        u.*
        FROM
        notify n,
        "USER" u
        WHERE
        n.NOTIFY_ID = #{notifyId}
         AND
        (
        (n.PRIV_ID LIKE concat(concat('%,',u.USER_PRIV),',%')
        OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
        )
        OR(n.TO_ID LIKE concat(concat('%,',u.DEPT_ID),',%')
        OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
        )
        OR(n.USER_ID LIKE concat(concat('%,',n.USER_ID),',%')
        OR n.USER_ID LIKE concat(n.USER_ID,',%')
        )
        OR to_char(n.TO_ID) = 'ALL_DEPT'
        )
           AND    FIND_IN_SET(u.USER_ID, n.READERS) !='0'
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="unreadConsultTheSituationNew"  parameterType="Map" resultMap="UserResultMap">
          SELECT
        u.*
        FROM
         news n,
        `user` u
        WHERE
         n.NEWS_ID=#{newsId}
        AND
       ((n.PRIV_ID LIKE concat('%,',u.USER_PRIV,',%')
				OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
				)OR(n.TO_ID LIKE concat('%,',u.DEPT_ID,',%')
				OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
				)OR(n.USER_ID LIKE concat('%,',n.USER_ID,',%')
				OR n.USER_ID LIKE concat(n.USER_ID,',%')
				)OR n.TO_ID = 'ALL_DEPT')
  AND FIND_IN_SET(u.USER_ID, n.READERS)=0
  ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="readConsultTheSituationNew"  parameterType="Map" resultMap="UserResultMap">
        SELECT
        u.*
        FROM
        news n,
        `user` u
        WHERE
        n.NEWS_ID=#{newsId}
        AND
        ((n.PRIV_ID LIKE concat('%,',u.USER_PRIV,',%')
				OR n.PRIV_ID LIKE concat(u.USER_PRIV,',%')
				)OR(n.TO_ID LIKE concat('%,',u.DEPT_ID,',%')
				OR n.TO_ID LIKE concat(u.DEPT_ID,',%')
				)OR(n.USER_ID LIKE concat('%,',n.USER_ID,',%')
				OR n.USER_ID LIKE concat(n.USER_ID,',%')
				)OR n.TO_ID = 'ALL_DEPT')
       AND FIND_IN_SET(u.USER_ID, n.READERS)>0
       ORDER BY u.user_priv_no,u.user_no
  </select>
    <select id="selectFileUserSigner" parameterType="map" resultMap="UserResultMap">
      select  u.UID, u.USER_ID,u.USER_PRIV,u.USER_NAME,u.DEPT_ID  from user u where 1!=1
      <if test="dept_id!=null and dept_id!=''">
        or  u.DEPT_ID in (${dept_id})
      </if>
      <if test="user_Priv!=null and user_Priv!=''">
       or  u.USER_PRIV in (${user_Priv})
      </if>
      <if test="user_id!=null and user_id!=''">
        or u.USER_ID in (${user_id})
      </if>
        ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="selectFileUserSigner" parameterType="map" resultMap="UserResultMap" databaseId="oracle">
        select  u."UID", u.USER_ID,u.USER_PRIV,u.USER_NAME,u.DEPT_ID  from "USER" u where 1!=1
        <if test="dept_id!=null and dept_id!=''">
            or  u.DEPT_ID in (${dept_id})
        </if>
        <if test="user_Priv!=null and user_Priv!=''">
            or  u.USER_PRIV in (${user_Priv})
        </if>
        <if test="user_id!=null and user_id!=''">
            or u.USER_ID in (${user_id})
        </if>
        ORDER BY u.user_priv_no,u.user_no
    </select>
    <select id="selectFileUserSigner" parameterType="map" resultMap="UserResultMap" databaseId="dm">
        select  u."UID", u.USER_ID,u.USER_PRIV,u.USER_NAME,u.DEPT_ID  from "USER" u where 1!=1
        <if test="dept_id!=null and dept_id!=''">
            or  u.DEPT_ID in (${dept_id})
        </if>
        <if test="user_Priv!=null and user_Priv!=''">
            or  u.USER_PRIV in (${user_Priv})
        </if>
        <if test="user_id!=null and user_id!=''">
            or u.USER_ID in (${user_id})
        </if>
        ORDER BY u.user_priv_no,u.user_no
    </select>


    <select id="selectFileUserSignerAll" resultMap="UserResultMap">
      select  u.USER_ID,u.USER_PRIV,u.USER_NAME,u.DEPT_ID  from user u ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="getUsersBybyname" parameterType="java.lang.String" resultMap="UserResultMap" databaseId="oracle">
        SELECT u.* FROM  "USER" u WHERE u.BYNAME=#{byname}
    </select>
    <select id="getUsersBybyname" parameterType="java.lang.String" resultMap="UserResultMap" databaseId="dm">
        SELECT u.* FROM  "USER" u WHERE u.BYNAME=#{byname}
    </select>
    <select id="getUsersBybyname" parameterType="java.lang.String" resultMap="UserResultMap">
      SELECT u.* FROM  USER u WHERE u.BYNAME=#{byname}
    </select>
    <select id="getUsersByname" parameterType="java.lang.String" resultMap="UserResultMap">
        SELECT BYNAME FROM  USER WHERE USER_NAME=#{name}
    </select>

    <select id="singleSearch" resultMap="UserResultMap">
        SELECT DISTINCT u.uid,u.avatar,u.user_name,u.byname,u.sex,u.BIRTHDAY,u.email,u.dept_id,d.dept_name,u.user_priv,up.priv_name,u.mobil_no,u.MY_STATUS,u.TEL_NO_DEPT
        from user u,department d,user_priv up  where u.dept_id = d.dept_id and u.user_priv=up.user_priv
        and u.user_name like '%' #{searchData} '%'  or u.byname like '%' #{searchData} '%' or u.mobil_no like '%' #{searchData} '%'
        or d.dept_name like '%' #{searchData} '%' or up.priv_name like '%' #{searchData} '%' ORDER BY u.user_priv_no,u.user_no ;
    </select>
    <update id="updateUsersByuserName" parameterType="com.myoa.model.users.Users">
        UPDATE user
        <set>
            <if test="userPrivName!=null">
                USER_PRIV_NAME =#{userPrivName}
            </if>
        </set>
        <where>
           USER_NAME=#{userName}
        </where>
    </update>

    <select id="getUserByUserName" resultMap="UserResultMap">
        SELECT * FROM USER WHERE USER_NAME = #{userName}
    </select>

    <select id="getUserByUserName" resultMap="UserResultMap" databaseId="dm">
        SELECT * FROM "USER" WHERE USER_NAME = #{userName}
    </select>
    
    <select id="getUserNames" parameterType="map" resultType="String">
    select USER_NAME  from USER where USER_ID in (${checkUserId});
    </select>
    <select id="getUserNames" parameterType="map" resultType="String" databaseId="oracle">
        select USER_NAME  from "USER" where USER_ID in (${checkUserId})
    </select>
    <select id="getUserNames" parameterType="map" resultType="String" databaseId="dm">
        select USER_NAME  from "USER" where USER_ID in (${checkUserId})
    </select>
<select id="getUsersByMaps" resultMap="UserResultMap"  parameterType="map">

    SELECT u.uid,u.avatar,u.user_name,u.byname,u.sex,u.BIRTHDAY,u.email,u.dept_id,d.dept_name deptName,u.user_priv,
    u.mobil_no,u.MY_STATUS,u.TEL_NO_DEPT
    FROM
    `user` u
    INNER JOIN user_ext us ON u.USER_ID = us.USER_ID
    <if test="dutyType!=null and dutyType!='' ">
        AND us.DUTY_TYPE = #{dutyType}
    </if>
    INNER JOIN department d ON d.DEPT_ID=u.DEPT_ID
    <where>
        <trim suffixOverrides="AND">
            <if test="deptId!=null and deptId!='' ">
                AND u.DEPT_ID=#{deptId}
            </if>
            <if test="uid!=null and uid!='' ">
                AND u.UID=#{uid}
            </if>
        </trim>
    </where>
    ORDER BY u.user_priv_no,u.user_no
</select>

    <select id="getUsersByMaps" resultMap="UserResultMap"  parameterType="map" databaseId="oracle">

        SELECT u."UID",u.avatar,u.user_name,u.byname,u.sex,u.BIRTHDAY,u.email,u.dept_id,d.dept_name deptName,u.user_priv,
        u.mobil_no,u.MY_STATUS,u.TEL_NO_DEPT
        FROM
        "USER" u
        INNER JOIN user_ext us ON u.USER_ID = us.USER_ID
        <if test="dutyType!=null and dutyType!='' ">
            AND us.DUTY_TYPE = #{dutyType}
        </if>
        INNER JOIN department d ON d.DEPT_ID=u.DEPT_ID
        <where>
            <trim suffixOverrides="AND">
                <if test="deptId!=null and deptId!='' ">
                    AND u.DEPT_ID=#{deptId}
                </if>
                <if test="uid!=null and uid!='' ">
                    AND u.UID=#{uid}
                </if>
            </trim>
        </where>
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="getUsersByMaps" resultMap="UserResultMap"  parameterType="map" databaseId="dm">

        SELECT u."UID",u.avatar,u.user_name,u.byname,u.sex,u.BIRTHDAY,u.email,u.dept_id,d.dept_name deptName,u.user_priv,
        u.mobil_no,u.MY_STATUS,u.TEL_NO_DEPT
        FROM
        "USER" u
        INNER JOIN user_ext us ON u.USER_ID = us.USER_ID
        <if test="dutyType!=null and dutyType!='' ">
            AND us.DUTY_TYPE = #{dutyType}
        </if>
        INNER JOIN department d ON d.DEPT_ID=u.DEPT_ID
        <where>
            <trim suffixOverrides="AND">
                <if test="deptId!=null and deptId!='' ">
                    AND u.DEPT_ID=#{deptId}
                </if>
                <if test="uid!=null and uid!='' ">
                    AND u.UID=#{uid}
                </if>
            </trim>
        </where>
        ORDER BY u.user_priv_no,u.user_no
    </select>

    <select id="getUserDepartmentUserexe" resultMap="UserResultMap"  parameterType="map">
        SELECT u.uid,u.avatar,u.user_name,u.byname,u.sex,u.BIRTHDAY,u.email,u.dept_id,d.dept_name,u.user_priv,
        u.mobil_no,u.MY_STATUS,u.TEL_NO_DEPT
        FROM
        `user` u
        INNER JOIN user_ext us ON u.USER_ID = us.USER_ID
        <if test="dutyType!=null and dutyType!='' ">
            AND us.DUTY_TYPE = #{dutyType}
        </if>
        INNER JOIN department d ON d.DEPT_ID=u.DEPT_ID
        <where>
            <trim suffixOverrides="AND">
                <if test="deptId!=null and deptId!='' ">
                    AND u.DEPT_ID=#{deptId}
                </if>
                <if test="uid!=null and uid!='' ">
                    AND u.UID=#{uid}
                </if>
            </trim>
        </where>
        ORDER BY u.user_priv_no,u.user_no

    </select>
    <!--  ,,-->
<select id="getAllInfo" resultType="com.myoa.model.users.Users"
            parameterType="com.myoa.model.users.Users">
        select
        UID as uid,USER_ID as userId,USER_NAME as userName,BYNAME as byName,SEX as sex,
        BIRTHDAY as birthday,USER_NAME as name
        from user
        ORDER BY user_priv_no,user_no
</select>

    <delete id="deleteUserByDeptId" parameterType="Integer">
        DELETE from user WHERE DEPT_ID=#{deptId}
    </delete>
    
    
    <select id="getMaxUserId" resultType="string">
        SELECT  MAX(BYNAME) from user WHERE USER_NAME!='admin'
    </select>



    <select id="getUserPrivOther" parameterType="string"
            resultMap="UserResultMap">
        	SELECT * FROM user WHERE find_in_set(#{userPriv}, USER_PRIV_OTHER);
    </select>

    <select id="getUserPrivOther" parameterType="string"
            resultMap="UserResultMap" databaseId="dm">
        SELECT * FROM "USER" WHERE find_in_set(#{userPriv}, USER_PRIV_OTHER);
    </select>


    <select id="getUserPrivOther" parameterType="string"
            resultMap="UserResultMap" databaseId="oracle">
        SELECT * FROM "USER" WHERE FIND_IN_SET(#{userPriv}, USER_PRIV_OTHER)>0;
    </select>


    <select id="getUserByName" resultMap="UserResultMap"  parameterType="string">
        SELECT * from user WHERE USER_NAME = #{userName}
    </select>

    <select id="getUserByName" resultMap="UserResultMap"  parameterType="string" databaseId="dm">
        SELECT * from "USER" WHERE USER_NAME = #{userName}
    </select>


    <update id="updateUserByName"  parameterType="com.myoa.model.users.Users">
        update user
        <set>
            <if test="userId != null and userId !=''">
                USER_ID = #{userId},
            </if>
            <if test="userName != null and userName !=''">
                USER_NAME = #{userName},
            </if>
            <if test="userNameIndex != null and userNameIndex !=''">
                USER_NAME_INDEX = #{userNameIndex},
            </if>
            <if test="useingKey != null and useingKey !=''">
                USEING_KEY = #{useingKey},
            </if>
            <if test="usingFinger != null and usingFinger !=''">
                USING_FINGER = #{usingFinger},
            </if>
            <if test="password != null and password !=''">
                PASSWORD = #{password},
            </if>
            <if test="keySn != null and keySn !=''">
                KEY_SN = #{keySn},
            </if>
            <if test="secureKeySn != null and secureKeySn !=''">
                SECURE_KEY_SN = #{secureKeySn},
            </if>
            <if test="userPriv != null and userPriv !='' ">
                USER_PRIV = #{userPriv},
            </if>
            <if test="userPrivNo != null and userPrivNo !=''">
                USER_PRIV_NO = #{userPrivNo},
            </if>
            <if test="userPrivName != null and userPrivName !=''">
                USER_PRIV_NAME = #{userPrivName},
            </if>
            <if test="postPriv != null and postPriv !=''or postPriv==0 ">
                POST_PRIV = #{postPriv},
            </if>
            <if test="postDept != null and postDept !=''">
                POST_DEPT = #{postDept},
            </if>
            <if test="deptId != null and deptId !='' or deptId ==0 ">
                DEPT_ID = #{deptId},
            </if>
            <if test="deptIdOther != null and deptIdOther !=''">
                DEPT_ID_OTHER = #{deptIdOther},
            </if>
            <if test="sex != null and sex !=''">
                SEX = #{sex},
            </if>
            <if test="isLunar != null and isLunar !='' or isLunar == 0 ">
                IS_LUNAR = #{isLunar},
            </if>
            <if test="telNoDept != null">
                TEL_NO_DEPT = #{telNoDept},
            </if>
            <if test="faxNoDept != null and faxNoDept !=''">
                FAX_NO_DEPT = #{faxNoDept},
            </if>
            <if test="addHome != null and addHome !=''">
                ADD_HOME = #{addHome},
            </if>
            <if test="postNoHome != null and postNoHome !=''">
                POST_NO_HOME = #{postNoHome},
            </if>
            <if test="telNoHome != null and telNoHome !=''">
                TEL_NO_HOME = #{telNoHome},
            </if>
            <if test="mobilNo != null ">
                MOBIL_NO = #{mobilNo},
            </if>
            <if test="bpNo != null and bpNo !=''">
                BP_NO = #{bpNo},
            </if>
            <if test="email != null ">
                EMAIL = #{email},
            </if>
            <if test="oicqNo != null ">
                OICQ_NO = #{oicqNo},
            </if>
            <if test="icqNo != null">
                ICQ_NO = #{icqNo},
            </if>
            <if test="msn != null ">
                MSN = #{msn},
            </if>
            <if test="avatar != null ">
                AVATAR = #{avatar},
            </if>
            <if test="callSound != null and callSound !=''">
                CALL_SOUND = #{callSound},
            </if>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME = #{lastVisitTime},
            </if>
            <if test="smsOn != null and smsOn !='' or smsOn ==0 ">
                SMS_ON = #{smsOn},
            </if>
            <if test="menuType != null and menuType !=''">
                MENU_TYPE = #{menuType},
            </if>
            <if test="lastPassTime != null and lastPassTime !=''">
                LAST_PASS_TIME = #{lastPassTime},
            </if>
            <if test="theme != null and theme !=''">
                THEME = #{theme},
            </if>
            <if test="portal != null and portal !=''">
                PORTAL = #{portal},
            </if>
            <if test="panel != null and panel !=''">
                PANEL = #{panel},
            </if>
            <if test="online != null and online !=''">
                ONLINE = #{online},
            </if>
            <if test="onStatus != null and onStatus !=''">
                ON_STATUS = #{onStatus},
            </if>
            <if test="attendStatus != null and attendStatus !=''">
                ATTEND_STATUS = #{attendStatus},
            </if>
            <if test="mobilNoHidden != null and mobilNoHidden !='' or mobilNoHidden==0 ">
                MOBIL_NO_HIDDEN = #{mobilNoHidden},
            </if>
            <if test="mytableLeft != null and mytableLeft !=''">
                MYTABLE_LEFT = #{mytableLeft},
            </if>
            <if test="mytableRight != null and mytableRight !=''">
                MYTABLE_RIGHT = #{mytableRight},
            </if>
            <if test="userPrivOther != null and userPrivOther !=''">
                USER_PRIV_OTHER = #{userPrivOther},
            </if>
            <if test="userNo != null and userNo !=''">
                USER_NO = #{userNo},
            </if>
            <if test="notLogin != null and notLogin !='' or notLogin == 0 ">
                NOT_LOGIN = #{notLogin},
            </if>
            <if test="notViewUser != null and notViewUser !='' or notViewUser==0 ">
                NOT_VIEW_USER = #{notViewUser},
            </if>
            <if test="notViewTable != null and notViewTable !='' or notViewTable==0 ">
                NOT_VIEW_TABLE = #{notViewTable},
            </if>
            <if test="notSearch != null and notSearch !='' or notSearch==0 ">
                NOT_SEARCH = #{notSearch},
            </if>
            <if test="bkground != null and bkground !=''">
                BKGROUND = #{bkground},
            </if>
            <if test="bindIp != null and bindIp !=''">
                BIND_IP = #{bindIp},
            </if>
            <if test="lastVisitIp != null and lastVisitIp !=''">
                LAST_VISIT_IP = #{lastVisitIp},
            </if>
            <if test="menuImage != null and menuImage !='' or menuImage==0 ">
                MENU_IMAGE = #{menuImage},
            </if>
            <if test="weatherCity != null and weatherCity !=''">
                WEATHER_CITY = #{weatherCity},
            </if>
            <if test="showRss != null and showRss !=''">
                SHOW_RSS = #{showRss},
            </if>
            <if test="menuExpand != null and menuExpand !=''">
                MENU_EXPAND = #{menuExpand},
            </if>
            <if test="myStatus != null and myStatus !=''">
                MY_STATUS = #{myStatus},
            </if>
            <if test="limitLogin != null and limitLogin !=''">
                LIMIT_LOGIN = #{limitLogin},
            </if>
            <if test="photo != null">
                PHOTO = #{photo},
            </if>
            <if test="imRange != null and imRange !=''">
                IM_RANGE = #{imRange},
            </if>
            <if test="leaveTime != null and leaveTime !=''">
                LEAVE_TIME = #{leaveTime},
            </if>
            <if test="secretLevel != null and secretLevel !=''">
                SECRET_LEVEL = #{secretLevel},
            </if>
            <if test="notMobileLogin != null and notMobileLogin !='' or notMobileLogin==0 ">
                NOT_MOBILE_LOGIN = #{notMobileLogin},
            </if>
            <if test="manageModuleType != null and manageModuleType !=''">
                MANAGE_MODULE_TYPE = #{manageModuleType},
            </if>
            <if test="userPrivType != null and userPrivType !=''">
                USER_PRIV_TYPE = #{userPrivType},
            </if>
            <if test="userManageOrgs != null and userManageOrgs !=''">
                USER_MANAGE_ORGS = #{userManageOrgs},
            </if>
            <if test="shortcut != null and shortcut !=''">
                SHORTCUT = #{shortcut},
            </if>
            <if test="myRss != null and myRss !=''">
                MY_RSS = #{myRss},
            </if>
            <if test="remark != null and remark !=''">
                REMARK = #{remark},
            </if>
            <if test="userPara != null and userPara !=''">
                USER_PARA = #{userPara}
            </if>
            <if test="idNumber != null and idNumber !=''">
                ID_NUMBER = #{idNumber}
            </if>
            <if test="traNumber != null and traNumber !=''">
                TRA_NUMBER =  #{traNumber}
            </if>
            <if test="subject != null and subject !=''">
                SUBJECT =  #{subject}
            </if>
        </set>
        where BYNAME = #{byname}
    </update>


    <select id="getUserByIdNumber" resultType="com.myoa.model.users.Users">
        SELECT * from USER WHERE ID_NUMBER = #{idNumber}
    </select>


    <select id="importUserByName" resultMap="UserResultMap">
        SELECT * from USER WHERE BYNAME = #{byName}
    </select>

    <select id="getUserByUids" resultMap="UserResultMap" >
        SELECT DISTINCT uid,USER_ID,USER_NAME,DEPT_ID,POST_ID,JOB_ID from user
        <where>
            <trim prefixOverrides="OR">
                <if test="uids!=null">
         OR UID in
        <foreach item="uid" collection="uids" open="(" separator="," close=")">
            <if test="uid!=null and uid != '' ">
                #{uid}
            </if>
        </foreach>
                </if>
                <if test="userIds!=null">
        OR USER_ID in
        <foreach item="userId" collection="userIds" open="(" separator="," close=")">
            <if test="userId!=null and userId != '' ">
                #{userId}
            </if>
        </foreach>
                </if>
            </trim>
        </where>
        ORDER BY user_priv_no,user_no
    </select>

      <select id="getUserByUids" resultMap="UserResultMap" databaseId="oracle" >
        SELECT  "UID",USER_ID,USER_NAME,DEPT_ID,post from "USER"
        <where>
            <trim prefixOverrides="OR">
                <if test="uids!=null">
                    OR "UID" in
                    <foreach item="uid" collection="uids" open="(" separator="," close=")">
                        <if test="uid!=null and uid != '' ">
                            #{uid}
                        </if>
                    </foreach>
                </if>
                <if test="userIds!=null">
                    OR USER_ID in
                    <foreach item="userId" collection="userIds" open="(" separator="," close=")">
                        <if test="userId!=null and userId != '' ">
                            #{userId}
                        </if>
                    </foreach>
                </if>
            </trim>
        </where>
        ORDER BY user_priv_no,user_no
    </select>

    <update id="updateLoginTime"  parameterType="com.myoa.model.users.Users">
        update user
        <set>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME = #{lastVisitTime},
            </if>
        </set>
        where uid = #{uid}
    </update>



    <update id="updateLoginTime"  parameterType="com.myoa.model.users.Users" databaseId="dm">
        update "USER"
        <set>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME = #{lastVisitTime},
            </if>
        </set>
        where uid = #{uid}
    </update>

    <update id="updateLoginTime"  parameterType="com.myoa.model.users.Users" databaseId="oracle">
        update "USER"
        <set>
            <if test="lastVisitTime != null and lastVisitTime !=''">
                LAST_VISIT_TIME = #{lastVisitTime},
            </if>
        </set>
        where uid = #{uid}
    </update>

    <select id="getUserByUserIds" resultMap="UserResultMap" >
        SELECT DISTINCT uid,USER_ID,USER_NAME,DEPT_ID from user
        WHERE USER_ID in
        <foreach item="userId" collection="userIds" open="(" separator="," close=")">
            <if test="userId!=null and userId != '' ">
                #{userId}
            </if>
        </foreach>
        ORDER BY user_priv_no,user_no
    </select>


    <select id="getUserByUserIds" resultMap="UserResultMap" databaseId="oracle">
        SELECT  uid,USER_ID,USER_NAME,DEPT_ID from "USER"
        WHERE USER_ID in
        <foreach item="userId" collection="userIds" open="(" separator="," close=")">
            <if test="userId!=null and userId != '' ">
                #{userId}
            </if>
        </foreach>
    </select>
    <select id="getUserByUserIds" resultMap="UserResultMap" databaseId="dm">
        SELECT  uid,USER_ID,USER_NAME,DEPT_ID from "USER"
        WHERE USER_ID in
        <foreach item="userId" collection="userIds" open="(" separator="," close=")">
            <if test="userId!=null and userId != '' ">
                #{userId}
            </if>
        </foreach>
    </select>

    <select id="LoginUserList" resultMap="UserResultMap">
        SELECT
            users.USER_ID,users.UID,users.USER_NAME,ext.DUTY_TYPE
        FROM
            USER users
        INNER JOIN user_ext ext ON users.USER_ID=ext.USER_ID

        WHERE
        users.NOT_LOGIN=0 AND users.dept_id !=0
        ORDER BY users.user_priv_no,users.user_no
    </select>

    <select id="LoginUserList" resultMap="UserResultMap" databaseId="dm">
        SELECT
        users.USER_ID,users.UID,users.USER_NAME,ext.DUTY_TYPE
        FROM
        "USER" users
        INNER JOIN user_ext ext ON users.USER_ID=ext.USER_ID

        WHERE
        users.NOT_LOGIN=0 AND users.dept_id !=0
        ORDER BY users.user_priv_no,users.user_no
    </select>
    <select id="LoginUserList" resultMap="UserResultMap" databaseId="oracle">
        SELECT
        users.USER_ID,users."UID",users.USER_NAME,ext.DUTY_TYPE
        FROM
        "USER" users
        INNER JOIN user_ext ext ON users.USER_ID=ext.USER_ID

        WHERE
        users.NOT_LOGIN=0
        ORDER BY users.user_priv_no,users.user_no
    </select>
    <select id="selUserOrder" resultMap="UserResultMap" parameterType="Map">
        SELECT  u.*,dept.DEPT_NAME,ex.*
        FROM
        USER u
        JOIN department dept ON u.DEPT_ID=dept.DEPT_ID
        JOIN user_ext ex ON ex.UID=u.UID
        WHERE
        u.UID in
        <foreach  item="item" collection="array" index="index"  open="(" separator="," close=")">
            #{item}
        </foreach>
        order BY  u.DEPT_ID,u.USER_PRIV,u.USER_NO
    </select>


    <select id="getByName" parameterType="String" resultType="com.myoa.model.users.Users">
        select u.USER_NAME as userName,
        u.USER_NAME as name ,u.USER_PRIV_NAME as userPrivName,u.USER_ID AS userId,
        d.DEPT_NAME as deptName ,u.UID ,u.AVATAR ,u.USER_ID as userId
        from user u
        join department d  on  u.DEPT_ID= d.DEPT_ID
        where
        u.USER_NAME like CONCAT(CONCAT('%', #{name}), '%')
        or u.BYNAME like CONCAT(CONCAT('%', #{name}), '%')
        ORDER  BY  u.DEPT_ID,u.USER_PRIV,u.USER_NO
    </select>

    <select id="getUsersByUid" parameterType="java.lang.Integer" resultMap="UserResultMap">
        SELECT * FROM  user WHERE UID=#{uid}
    </select>
</mapper>


